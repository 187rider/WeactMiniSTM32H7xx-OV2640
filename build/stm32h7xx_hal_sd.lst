ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"stm32h7xx_hal_sd.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.file 1 "Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c"
  19              		.section	.text.SD_PowerON,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	SD_PowerON:
  26              	.LVL0:
  27              	.LFB173:
   1:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
   2:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ******************************************************************************
   3:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @file    stm32h7xx_hal_sd.c
   4:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @author  MCD Application Team
   5:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief   SD card HAL module driver.
   6:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          This file provides firmware functions to manage the following
   7:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          functionalities of the Secure Digital (SD) peripheral:
   8:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *           + Initialization and de-initialization functions
   9:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *           + IO operation functions
  10:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *           + Peripheral Control functions
  11:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *           + Peripheral State functions
  12:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
  13:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ******************************************************************************
  14:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @attention
  15:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
  16:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * Copyright (c) 2017 STMicroelectronics.
  17:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * All rights reserved.
  18:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
  19:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * This software is licensed under terms that can be found in the LICENSE file
  20:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * in the root directory of this software component.
  21:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  22:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
  23:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ******************************************************************************
  24:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   @verbatim
  25:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
  26:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         ##### How to use this driver #####
  27:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
  28:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
  29:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This driver implements a high level communication layer for read and write from/to
  30:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     this memory. The needed STM32 hardware resources (SDMMC and GPIO) are performed by
  31:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     the user in HAL_SD_MspInit() function (MSP layer).
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 2


  32:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Basically, the MSP layer configuration should be the same as we provide in the
  33:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     examples.
  34:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     You can easily tailor this configuration according to hardware resources.
  35:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  36:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
  37:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This driver is a generic layered driver for SDMMC memories which uses the HAL
  38:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     SDMMC driver functions to interface with SD and uSD cards devices.
  39:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     It is used as follows:
  40:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  41:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#)Initialize the SDMMC low level resources by implementing the HAL_SD_MspInit() API:
  42:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         (##) Enable the SDMMC interface clock using __HAL_RCC_SDMMC_CLK_ENABLE();
  43:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         (##) SDMMC pins configuration for SD card
  44:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (+++) Enable the clock for the SDMMC GPIOs using the functions __HAL_RCC_GPIOx_CLK_ENAB
  45:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (+++) Configure these SDMMC pins as alternate function pull-up using HAL_GPIO_Init()
  46:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                   and according to your pin assignment;
  47:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         (##) NVIC configuration if you need to use interrupt process (HAL_SD_ReadBlocks_IT()
  48:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****              and HAL_SD_WriteBlocks_IT() APIs).
  49:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (+++) Configure the SDMMC interrupt priorities using function HAL_NVIC_SetPriority();
  50:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (+++) Enable the NVIC SDMMC IRQs using function HAL_NVIC_EnableIRQ()
  51:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (+++) SDMMC interrupts are managed using the macros __HAL_SD_ENABLE_IT()
  52:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                   and __HAL_SD_DISABLE_IT() inside the communication process.
  53:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (+++) SDMMC interrupts pending bits are managed using the macros __HAL_SD_GET_IT()
  54:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                   and __HAL_SD_CLEAR_IT()
  55:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         (##) No general propose DMA Configuration is needed, an Internal DMA for SDMMC Peripheral a
  56:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  57:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#) At this stage, you can perform SD read/write/erase operations after SD card initialization
  58:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  59:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD Card Initialization and configuration ***
  60:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ================================================
  61:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
  62:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     To initialize the SD Card, use the HAL_SD_Init() function. It Initializes
  63:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     SDMMC Peripheral(STM32 side) and the SD Card, and put it into StandBy State (Ready for data tra
  64:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This function provide the following operations:
  65:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  66:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#) Apply the SD Card initialization process at 400KHz and check the SD Card
  67:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         type (Standard Capacity or High Capacity). You can change or adapt this
  68:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         frequency by adjusting the "ClockDiv" field.
  69:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         The SD Card frequency (SDMMC_CK) is computed as follows:
  70:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  71:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            SDMMC_CK = SDMMCCLK / (2 * ClockDiv)
  72:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  73:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         In initialization mode and according to the SD Card standard,
  74:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         make sure that the SDMMC_CK frequency doesn't exceed 400KHz.
  75:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  76:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This phase of initialization is done through SDMMC_Init() and
  77:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         SDMMC_PowerState_ON() SDMMC low level APIs.
  78:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  79:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#) Initialize the SD card. The API used is HAL_SD_InitCard().
  80:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This phase allows the card initialization and identification
  81:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         and check the SD Card type (Standard Capacity or High Capacity)
  82:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         The initialization flow is compatible with SD standard.
  83:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  84:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This API (HAL_SD_InitCard()) could be used also to reinitialize the card in case
  85:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         of plug-off plug-in.
  86:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  87:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#) Configure the SD Card Data transfer frequency. You can change or adapt this
  88:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         frequency by adjusting the "ClockDiv" field.
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 3


  89:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         In transfer mode and according to the SD Card standard, make sure that the
  90:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         SDMMC_CK frequency doesn't exceed 25MHz and 100MHz in High-speed mode switch.
  91:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  92:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#) Select the corresponding SD Card according to the address read with the step 2.
  93:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  94:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#) Configure the SD Card in wide bus mode: 4-bits data.
  95:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  96:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD Card Read operation ***
  97:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================
  98:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
  99:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) You can read from SD card in polling mode by using function HAL_SD_ReadBlocks().
 100:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 101:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         chosen as 512 bytes).
 102:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 103:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 104:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 105:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 106:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 107:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) You can read from SD card in DMA mode by using function HAL_SD_ReadBlocks_DMA().
 108:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 109:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         chosen as 512 bytes).
 110:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 111:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 112:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 113:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 114:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You could also check the DMA transfer process through the SD Rx interrupt event.
 115:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 116:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) You can read from SD card in Interrupt mode by using function HAL_SD_ReadBlocks_IT().
 117:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 118:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         chosen as 512 bytes).
 119:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 120:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 121:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 122:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 123:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You could also check the IT transfer process through the SD Rx interrupt event.
 124:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 125:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD Card Write operation ***
 126:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ===============================
 127:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 128:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) You can write to SD card in polling mode by using function HAL_SD_WriteBlocks().
 129:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 130:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         chosen as 512 bytes).
 131:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 132:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 133:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 134:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 135:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 136:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) You can write to SD card in DMA mode by using function HAL_SD_WriteBlocks_DMA().
 137:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 138:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         chosen as 512 bytes).
 139:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 140:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 141:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 142:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 143:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You could also check the DMA transfer process through the SD Tx interrupt event.
 144:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 145:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) You can write to SD card in Interrupt mode by using function HAL_SD_WriteBlocks_IT().
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 4


 146:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 147:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         chosen as 512 bytes).
 148:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 149:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 150:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 151:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 152:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You could also check the IT transfer process through the SD Tx interrupt event.
 153:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 154:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD card status ***
 155:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ======================
 156:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 157:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) The SD Status contains status bits that are related to the SD Memory
 158:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         Card proprietary features. To get SD card status use the HAL_SD_GetCardStatus().
 159:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 160:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD card information ***
 161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ===========================
 162:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) To get SD card information, you can use the function HAL_SD_GetCardInfo().
 164:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         It returns useful information about the SD card such as block size, card type,
 165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         block number ...
 166:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 167:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD card CSD register ***
 168:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ============================
 169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) The HAL_SD_GetCardCSD() API allows to get the parameters of the CSD register.
 170:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         Some of the CSD parameters are useful for card initialization and identification.
 171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD card CID register ***
 173:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ============================
 174:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) The HAL_SD_GetCardCID() API allows to get the parameters of the CID register.
 175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         Some of the CSD parameters are useful for card initialization and identification.
 176:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 177:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD HAL driver macros list ***
 178:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==================================
 179:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 180:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Below the list of most used macros in SD HAL driver.
 181:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 182:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) __HAL_SD_ENABLE_IT: Enable the SD device interrupt
 183:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) __HAL_SD_DISABLE_IT: Disable the SD device interrupt
 184:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) __HAL_SD_GET_FLAG:Check whether the specified SD flag is set or not
 185:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) __HAL_SD_CLEAR_FLAG: Clear the SD's pending flags
 186:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 187:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (@) You can refer to the SD HAL driver header file for more useful macros
 188:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 189:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** Callback registration ***
 190:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   =============================================
 191:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 192:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     The compilation define USE_HAL_SD_REGISTER_CALLBACKS when set to 1
 193:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     allows the user to configure dynamically the driver callbacks.
 194:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 195:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Use Functions HAL_SD_RegisterCallback() to register a user callback,
 196:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     it allows to register following callbacks:
 197:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) TxCpltCallback : callback when a transmission transfer is completed.
 198:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) RxCpltCallback : callback when a reception transfer is completed.
 199:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) ErrorCallback : callback when error occurs.
 200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) AbortCpltCallback : callback when abort is completed.
 201:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Read_DMADblBuf0CpltCallback : callback when the DMA reception of first buffer is complete
 202:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Read_DMADblBuf1CpltCallback : callback when the DMA reception of second buffer is complet
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 5


 203:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Write_DMADblBuf0CpltCallback : callback when the DMA transmission of first buffer is comp
 204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Write_DMADblBuf1CpltCallback : callback when the DMA transmission of second buffer is com
 205:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) MspInitCallback    : SD MspInit.
 206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) MspDeInitCallback  : SD MspDeInit.
 207:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This function takes as parameters the HAL peripheral handle, the Callback ID
 208:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     and a pointer to the user callback function.
 209:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     For specific callbacks TransceiverCallback use dedicated register callbacks:
 210:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     respectively HAL_SD_RegisterTransceiverCallback().
 211:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 212:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Use function HAL_SD_UnRegisterCallback() to reset a callback to the default
 213:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     weak (overridden) function. It allows to reset following callbacks:
 214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) TxCpltCallback : callback when a transmission transfer is completed.
 215:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) RxCpltCallback : callback when a reception transfer is completed.
 216:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) ErrorCallback : callback when error occurs.
 217:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) AbortCpltCallback : callback when abort is completed.
 218:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Read_DMADblBuf0CpltCallback : callback when the DMA reception of first buffer is complete
 219:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Read_DMADblBuf1CpltCallback : callback when the DMA reception of second buffer is complet
 220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Write_DMADblBuf0CpltCallback : callback when the DMA transmission of first buffer is comp
 221:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Write_DMADblBuf1CpltCallback : callback when the DMA transmission of second buffer is com
 222:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) MspInitCallback    : SD MspInit.
 223:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) MspDeInitCallback  : SD MspDeInit.
 224:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This function) takes as parameters the HAL peripheral handle and the Callback ID.
 225:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     For specific callbacks TransceiverCallback use dedicated unregister callbacks:
 226:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     respectively HAL_SD_UnRegisterTransceiverCallback().
 227:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 228:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     By default, after the HAL_SD_Init and if the state is HAL_SD_STATE_RESET
 229:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     all callbacks are reset to the corresponding legacy weak (overridden) functions.
 230:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Exception done for MspInit and MspDeInit callbacks that are respectively
 231:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     reset to the legacy weak (overridden) functions in the HAL_SD_Init
 232:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     and HAL_SD_DeInit only when these callbacks are null (not registered beforehand).
 233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     If not, MspInit or MspDeInit are not null, the HAL_SD_Init and HAL_SD_DeInit
 234:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     keep and use the user MspInit/MspDeInit callbacks (registered beforehand)
 235:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Callbacks can be registered/unregistered in READY state only.
 237:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Exception done for MspInit/MspDeInit callbacks that can be registered/unregistered
 238:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     in READY or RESET state, thus registered (user) MspInit/DeInit callbacks can be used
 239:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     during the Init/DeInit.
 240:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     In that case first register the MspInit/MspDeInit user callbacks
 241:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     using HAL_SD_RegisterCallback before calling HAL_SD_DeInit
 242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     or HAL_SD_Init function.
 243:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     When The compilation define USE_HAL_SD_REGISTER_CALLBACKS is set to 0 or
 245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     not defined, the callback registering feature is not available
 246:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     and weak (overridden) callbacks are used.
 247:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 248:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   @endverbatim
 249:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ******************************************************************************
 250:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 251:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 252:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Includes ------------------------------------------------------------------*/
 253:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #include "stm32h7xx_hal.h"
 254:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 255:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup STM32H7xx_HAL_Driver
 256:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 257:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 259:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 6


 260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 261:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 263:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (SDMMC1) || defined (SDMMC2)
 264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #ifdef HAL_SD_MODULE_ENABLED
 265:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 266:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private typedef -----------------------------------------------------------*/
 267:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private define ------------------------------------------------------------*/
 268:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD_Private_Defines
 269:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 270:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 271:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Frequencies used in the driver for clock divider calculation */
 272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #define SD_INIT_FREQ                   400000U   /* Initialization phase : 400 kHz max */
 273:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #define SD_NORMAL_SPEED_FREQ           25000000U /* Normal speed phase : 25 MHz max */
 274:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #define SD_HIGH_SPEED_FREQ             50000000U /* High speed phase : 50 MHz max */
 275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private macro -------------------------------------------------------------*/
 276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (DLYB_SDMMC1) && defined (DLYB_SDMMC2)
 277:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #define SD_GET_DLYB_INSTANCE(SDMMC_INSTANCE) (((SDMMC_INSTANCE) == SDMMC1)?  \
 278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                               DLYB_SDMMC1 : DLYB_SDMMC2 )
 279:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #elif defined (DLYB_SDMMC1)
 280:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #define SD_GET_DLYB_INSTANCE(SDMMC_INSTANCE) ( DLYB_SDMMC1 )
 281:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* (DLYB_SDMMC1) && defined (DLYB_SDMMC2) */
 282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 283:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 284:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @}
 285:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 286:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 287:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private variables ---------------------------------------------------------*/
 288:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private function prototypes -----------------------------------------------*/
 289:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private functions ---------------------------------------------------------*/
 290:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @defgroup SD_Private_Functions SD Private Functions
 291:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 292:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 293:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_InitCard(SD_HandleTypeDef *hsd);
 294:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_PowerON(SD_HandleTypeDef *hsd);
 295:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_SendSDStatus(SD_HandleTypeDef *hsd, uint32_t *pSDstatus);
 296:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_SendStatus(SD_HandleTypeDef *hsd, uint32_t *pCardStatus);
 297:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_WideBus_Enable(SD_HandleTypeDef *hsd);
 298:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_WideBus_Disable(SD_HandleTypeDef *hsd);
 299:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_FindSCR(SD_HandleTypeDef *hsd, uint32_t *pSCR);
 300:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static void     SD_PowerOFF(SD_HandleTypeDef *hsd);
 301:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static void     SD_Write_IT(SD_HandleTypeDef *hsd);
 302:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static void     SD_Read_IT(SD_HandleTypeDef *hsd);
 303:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_SwitchSpeed(SD_HandleTypeDef *hsd, uint32_t SwitchSpeedMode);
 304:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
 305:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_UltraHighSpeed(SD_HandleTypeDef *hsd, uint32_t UltraHighSpeedMode);
 306:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_DDR_Mode(SD_HandleTypeDef *hsd);
 307:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER */
 308:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 309:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @}
 310:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 311:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 312:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Exported functions --------------------------------------------------------*/
 313:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions
 314:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 315:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 316:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 7


 317:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group1
 318:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *  @brief   Initialization and de-initialization functions
 319:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
 320:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** @verbatim
 321:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
 322:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           ##### Initialization and de-initialization functions #####
 323:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
 324:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 325:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This section provides functions allowing to initialize/de-initialize the SD
 326:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     card device to be ready for use.
 327:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 328:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** @endverbatim
 329:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 330:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 331:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 332:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Initializes the SD according to the specified parameters in the
 334:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             SD_HandleTypeDef and create the associated handle.
 335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to the SD handle
 336:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
 337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Init(SD_HandleTypeDef *hsd)
 339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 340:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardStatusTypeDef CardStatus;
 341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t speedgrade;
 342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t unitsize;
 343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart;
 344:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the SD handle allocation */
 346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd == NULL)
 347:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 349:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 351:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the parameters */
 352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_ALL_INSTANCE(hsd->Instance));
 353:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_CLOCK_EDGE(hsd->Init.ClockEdge));
 354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_CLOCK_POWER_SAVE(hsd->Init.ClockPowerSave));
 355:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_BUS_WIDE(hsd->Init.BusWide));
 356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_HARDWARE_FLOW_CONTROL(hsd->Init.HardwareFlowControl));
 357:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_CLKDIV(hsd->Init.ClockDiv));
 358:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_RESET)
 360:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 361:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Allocate lock resource and initialize it */
 362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Lock = HAL_UNLOCKED;
 363:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 364:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
 365:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Force  SDMMC_TRANSCEIVER_PRESENT for Legacy usage */
 366:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->Init.TranceiverPresent == SDMMC_TRANSCEIVER_UNKNOWN)
 367:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 368:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Init.TranceiverPresent = SDMMC_TRANSCEIVER_PRESENT;
 369:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 370:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /*USE_SD_TRANSCEIVER */
 371:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 372:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Reset Callback pointers in HAL_SD_STATE_RESET only */
 373:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxCpltCallback    = HAL_SD_TxCpltCallback;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 8


 374:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxCpltCallback    = HAL_SD_RxCpltCallback;
 375:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCallback     = HAL_SD_ErrorCallback;
 376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->AbortCpltCallback = HAL_SD_AbortCallback;
 377:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Read_DMADblBuf0CpltCallback = HAL_SDEx_Read_DMADoubleBuf0CpltCallback;
 378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Read_DMADblBuf1CpltCallback = HAL_SDEx_Read_DMADoubleBuf1CpltCallback;
 379:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Write_DMADblBuf0CpltCallback = HAL_SDEx_Write_DMADoubleBuf0CpltCallback;
 380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Write_DMADblBuf1CpltCallback = HAL_SDEx_Write_DMADoubleBuf1CpltCallback;
 381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
 382:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->Init.TranceiverPresent == SDMMC_TRANSCEIVER_PRESENT)
 383:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->DriveTransceiver_1_8V_Callback = HAL_SD_DriveTransceiver_1_8V_Callback;
 385:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 386:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER */
 387:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 388:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->MspInitCallback == NULL)
 389:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 390:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->MspInitCallback = HAL_SD_MspInit;
 391:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 392:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 393:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Init the low level hardware */
 394:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->MspInitCallback(hsd);
 395:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
 396:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Init the low level hardware : GPIO, CLOCK, CORTEX...etc */
 397:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     HAL_SD_MspInit(hsd);
 398:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 399:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 400:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_PROGRAMMING;
 402:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 403:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Initialize the Card parameters */
 404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (HAL_SD_InitCard(hsd) != HAL_OK)
 405:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 406:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 407:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 408:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 409:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (HAL_SD_GetCardStatus(hsd, &CardStatus) != HAL_OK)
 410:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 411:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 412:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 413:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get Initial Card Speed from Card Status*/
 414:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   speedgrade = CardStatus.UhsSpeedGrade;
 415:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   unitsize = CardStatus.UhsAllocationUnitSize;
 416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((hsd->SdCard.CardType == CARD_SDHC_SDXC) && ((speedgrade != 0U) || (unitsize != 0U)))
 417:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.CardSpeed = CARD_ULTRA_HIGH_SPEED;
 419:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 420:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
 421:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType == CARD_SDHC_SDXC)
 423:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 424:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->SdCard.CardSpeed  = CARD_HIGH_SPEED;
 425:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 426:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
 427:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->SdCard.CardSpeed  = CARD_NORMAL_SPEED;
 429:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 430:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 9


 431:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 432:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Configure the bus wide */
 433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (HAL_SD_ConfigWideBusOperation(hsd, hsd->Init.BusWide) != HAL_OK)
 434:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 435:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 436:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 437:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 438:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Verify that SD card is ready to use after Initialization */
 439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   tickstart = HAL_GetTick();
 440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((HAL_SD_GetCardState(hsd) != HAL_SD_CARD_TRANSFER))
 441:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((HAL_GetTick() - tickstart) >=  SDMMC_SWDATATIMEOUT)
 443:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
 445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_TIMEOUT;
 447:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 448:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 449:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 450:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Initialize the error code */
 451:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->ErrorCode = HAL_SD_ERROR_NONE;
 452:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Initialize the SD operation */
 454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 455:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 456:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Initialize the SD state */
 457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 458:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
 460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 461:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 463:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Initializes the SD Card.
 464:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 465:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This function initializes the SD card. It could be used when a card
 466:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             re-initialization is needed.
 467:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
 468:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 469:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_InitCard(SD_HandleTypeDef *hsd)
 470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 471:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SD_InitTypeDef Init;
 473:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t sdmmc_clk;
 474:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 475:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Default SDMMC peripheral configuration for SD card initialization */
 476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.ClockEdge           = SDMMC_CLOCK_EDGE_RISING;
 477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.ClockPowerSave      = SDMMC_CLOCK_POWER_SAVE_DISABLE;
 478:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.BusWide             = SDMMC_BUS_WIDE_1B;
 479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.HardwareFlowControl = SDMMC_HARDWARE_FLOW_CONTROL_DISABLE;
 480:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 481:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Init Clock should be less or equal to 400Khz*/
 482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   sdmmc_clk     = HAL_RCCEx_GetPeriphCLKFreq(RCC_PERIPHCLK_SDMMC);
 483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (sdmmc_clk == 0U)
 484:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 486:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = SDMMC_ERROR_INVALID_PARAMETER;
 487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 10


 488:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.ClockDiv = sdmmc_clk / (2U * SD_INIT_FREQ);
 490:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 491:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
 492:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.TranceiverPresent = hsd->Init.TranceiverPresent;
 493:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 494:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->Init.TranceiverPresent == SDMMC_TRANSCEIVER_PRESENT)
 495:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 496:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Set Transceiver polarity */
 497:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->POWER |= SDMMC_POWER_DIRPOL;
 498:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 499:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #elif defined (USE_SD_DIRPOL)
 500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Transceiver polarity */
 501:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->Instance->POWER |= SDMMC_POWER_DIRPOL;
 502:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER  */
 503:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 504:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Initialize SDMMC peripheral interface with default configuration */
 505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_Init(hsd->Instance, Init);
 506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 507:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Power State to ON */
 508:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_PowerState_ON(hsd->Instance);
 509:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 510:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* wait 74 Cycles: required power up waiting time before starting
 511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****      the SD initialization sequence */
 512:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (Init.ClockDiv != 0U)
 513:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 514:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_clk = sdmmc_clk / (2U * Init.ClockDiv);
 515:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 516:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (sdmmc_clk != 0U)
 518:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 519:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     HAL_Delay(1U + (74U * 1000U / (sdmmc_clk)));
 520:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 521:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 522:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Identify card operating voltage */
 523:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SD_PowerON(hsd);
 524:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 525:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 527:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 528:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 529:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 530:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 531:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Card initialization */
 532:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SD_InitCard(hsd);
 533:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 534:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 535:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 537:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 538:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 539:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 540:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Block Size for Card */
 541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
 542:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 543:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 544:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 11


 545:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 547:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 548:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 549:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 550:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 551:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
 552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 553:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 554:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 555:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  De-Initializes the SD card.
 556:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 557:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
 558:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 559:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_DeInit(SD_HandleTypeDef *hsd)
 560:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 561:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the SD handle allocation */
 562:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd == NULL)
 563:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 564:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 565:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 566:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the parameters */
 568:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_ALL_INSTANCE(hsd->Instance));
 569:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 570:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_BUSY;
 571:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 572:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
 573:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Deactivate the 1.8V Mode */
 574:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->Init.TranceiverPresent == SDMMC_TRANSCEIVER_PRESENT)
 575:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 576:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 577:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->DriveTransceiver_1_8V_Callback == NULL)
 578:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 579:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->DriveTransceiver_1_8V_Callback = HAL_SD_DriveTransceiver_1_8V_Callback;
 580:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 581:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->DriveTransceiver_1_8V_Callback(RESET);
 582:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
 583:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     HAL_SD_DriveTransceiver_1_8V_Callback(RESET);
 584:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 585:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 586:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER   */
 587:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 588:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set SD power state to off */
 589:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SD_PowerOFF(hsd);
 590:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 591:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 592:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->MspDeInitCallback == NULL)
 593:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 594:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->MspDeInitCallback = HAL_SD_MspDeInit;
 595:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 596:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* DeInit the low level hardware */
 598:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->MspDeInitCallback(hsd);
 599:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
 600:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* De-Initialize the MSP layer */
 601:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_MspDeInit(hsd);
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 12


 602:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 603:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 604:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->ErrorCode = HAL_SD_ERROR_NONE;
 605:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_RESET;
 606:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 607:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
 608:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 609:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 610:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 611:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Initializes the SD MSP.
 612:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 613:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
 614:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 615:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SD_MspInit(SD_HandleTypeDef *hsd)
 616:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 617:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 618:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
 619:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 620:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 621:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_MspInit could be implemented in the user file
 622:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
 623:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 624:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 625:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 626:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  De-Initialize SD MSP.
 627:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 628:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
 629:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 630:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SD_MspDeInit(SD_HandleTypeDef *hsd)
 631:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 632:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 633:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
 634:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 635:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 636:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_MspDeInit could be implemented in the user file
 637:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
 638:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 639:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 640:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 641:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @}
 642:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 643:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 644:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group2
 645:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *  @brief   Data transfer functions
 646:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
 647:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** @verbatim
 648:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
 649:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         ##### IO operation functions #####
 650:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
 651:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 652:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This subsection provides a set of functions allowing to manage the data
 653:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     transfer from/to SD card.
 654:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 655:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** @endverbatim
 656:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 657:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 658:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 13


 659:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 660:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer
 661:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         is managed by polling mode.
 662:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
 663:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
 664:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 665:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pData: pointer to the buffer that will contain the received data
 666:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockAdd: Block Address from where data is to be read
 667:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of SD blocks to read
 668:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  Timeout: Specify timeout value
 669:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
 670:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 671:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ReadBlocks(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, uint3
 672:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                     uint32_t Timeout)
 673:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 674:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 675:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 676:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 677:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 678:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t data;
 679:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t dataremaining;
 680:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 681:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint8_t *tempbuff = pData;
 682:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 683:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (NULL == pData)
 684:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 685:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 686:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 687:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 688:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 689:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
 690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 691:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 692:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 693:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 694:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 695:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 696:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 697:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 698:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 699:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
 700:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 701:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize data control register */
 702:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
 703:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 704:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
 705:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 706:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       add *= BLOCKSIZE;
 707:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 708:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 709:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
 710:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 711:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 712:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 713:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 714:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 715:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 14


 716:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 717:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 718:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 719:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Read block(s) in polling mode */
 720:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (NumberOfBlocks > 1U)
 721:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 722:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_READ_MULTIPLE_BLOCK;
 723:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 724:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Read Multi Block command */
 725:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdReadMultiBlock(hsd->Instance, add);
 726:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 727:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
 728:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 729:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_READ_SINGLE_BLOCK;
 730:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 731:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Read Single Block command */
 732:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdReadSingleBlock(hsd->Instance, add);
 733:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 734:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 735:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 736:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 737:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 738:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 739:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 741:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 742:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 743:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 744:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Poll on SDMMC flags */
 745:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     dataremaining = config.DataLength;
 746:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT |
 747:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 748:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF) && (dataremaining >= SDMMC_FIFO_SIZE))
 749:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 750:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Read data from SDMMC Rx FIFO */
 751:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         for (count = 0U; count < (SDMMC_FIFO_SIZE / 4U); count++)
 752:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 753:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data = SDMMC_ReadFIFO(hsd->Instance);
 754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)(data & 0xFFU);
 755:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 756:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 8U) & 0xFFU);
 757:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 758:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 16U) & 0xFFU);
 759:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 24U) & 0xFFU);
 761:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 762:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 763:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         dataremaining -= SDMMC_FIFO_SIZE;
 764:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 765:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 766:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((HAL_GetTick() - tickstart) >=  Timeout) || (Timeout == 0U))
 767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 768:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Clear all the static flags */
 769:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 770:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_TIMEOUT;
 771:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 772:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 15


 773:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_TIMEOUT;
 774:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 775:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 776:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE(hsd->Instance);
 777:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send stop transmission command in case of multiblock read */
 779:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DATAEND) && (NumberOfBlocks > 1U))
 780:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 781:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (hsd->SdCard.CardType != CARD_SECURED)
 782:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 783:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Send stop transmission command */
 784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
 785:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 787:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Clear all the static flags */
 788:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 789:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 790:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 791:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return HAL_ERROR;
 793:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 794:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 795:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 796:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 797:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Get error state */
 798:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
 799:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 801:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 802:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
 803:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 804:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 806:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 807:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
 808:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 809:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 810:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 811:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
 812:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 813:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 814:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 815:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 816:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
 817:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 818:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 819:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 820:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_RX_OVERRUN;
 821:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 822:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 823:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 824:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 825:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
 826:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 827:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Nothing to do */
 828:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 829:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 16


 830:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
 831:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
 832:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 833:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 834:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 835:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
 836:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 837:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
 838:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 839:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_BUSY;
 840:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 841:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 842:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 843:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 844:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 845:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Allows to write block(s) to a specified address in a card. The Data
 846:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         transfer is managed by polling mode.
 847:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
 848:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
 849:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 850:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pData: pointer to the buffer that will contain the data to transmit
 851:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockAdd: Block Address where data will be written
 852:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of SD blocks to write
 853:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  Timeout: Specify timeout value
 854:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
 855:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 856:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_WriteBlocks(SD_HandleTypeDef *hsd, const uint8_t *pData, uint32_t BlockAdd
 857:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                      uint32_t NumberOfBlocks, uint32_t Timeout)
 858:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 859:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 860:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 861:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 862:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 863:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t data;
 864:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t dataremaining;
 865:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 866:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   const uint8_t *tempbuff = pData;
 867:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 868:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (NULL == pData)
 869:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 870:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 871:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 872:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 873:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 874:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
 875:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 876:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 877:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 878:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 879:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 880:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 881:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 882:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 883:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 884:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
 885:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 886:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize data control register */
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 17


 887:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
 888:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 889:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
 890:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 891:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       add *= BLOCKSIZE;
 892:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 893:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 894:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
 895:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 896:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 897:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 898:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 899:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 900:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 901:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 902:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 903:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 904:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Write Blocks in Polling mode */
 905:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (NumberOfBlocks > 1U)
 906:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 907:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_WRITE_MULTIPLE_BLOCK;
 908:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 909:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Write Multi Block command */
 910:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteMultiBlock(hsd->Instance, add);
 911:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 912:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
 913:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 914:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_WRITE_SINGLE_BLOCK;
 915:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 916:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Write Single Block command */
 917:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteSingleBlock(hsd->Instance, add);
 918:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 919:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 920:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 921:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 922:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 923:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 924:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 925:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 926:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 927:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 928:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 929:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Write block(s) in polling mode */
 930:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     dataremaining = config.DataLength;
 931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXUNDERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT 
 932:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 933:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 934:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXFIFOHE) && (dataremaining >= SDMMC_FIFO_SIZE))
 935:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 936:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Write data to SDMMC Tx FIFO */
 937:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         for (count = 0U; count < (SDMMC_FIFO_SIZE / 4U); count++)
 938:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 939:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data = (uint32_t)(*tempbuff);
 940:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 941:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 8U);
 942:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 943:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 16U);
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 18


 944:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 945:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 24U);
 946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 947:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (void)SDMMC_WriteFIFO(hsd->Instance, &data);
 948:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 949:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         dataremaining -= SDMMC_FIFO_SIZE;
 950:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 951:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 952:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((HAL_GetTick() - tickstart) >=  Timeout) || (Timeout == 0U))
 953:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 954:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Clear all the static flags */
 955:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 956:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 957:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 958:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 959:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_TIMEOUT;
 960:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 961:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 962:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE(hsd->Instance);
 963:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 964:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send stop transmission command in case of multiblock write */
 965:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DATAEND) && (NumberOfBlocks > 1U))
 966:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 967:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (hsd->SdCard.CardType != CARD_SECURED)
 968:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 969:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Send stop transmission command */
 970:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
 971:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 972:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 973:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Clear all the static flags */
 974:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 975:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 976:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 977:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 978:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return HAL_ERROR;
 979:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 980:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 981:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 982:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 983:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Get error state */
 984:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
 985:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 986:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 987:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 988:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
 989:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 990:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 991:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 992:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 993:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
 994:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 995:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 996:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 997:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
 998:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 999:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1000:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 19


1001:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXUNDERR))
1003:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1004:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1005:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1006:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_TX_UNDERRUN;
1007:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1008:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1009:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1010:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1011:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1012:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1013:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Nothing to do */
1014:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1015:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1016:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
1017:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
1018:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1019:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
1020:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1021:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
1022:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1023:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1024:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1025:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_BUSY;
1026:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
1027:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1028:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1029:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1030:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1031:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer
1032:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         is managed in interrupt mode.
1033:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1034:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1035:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   You could also check the IT transfer process through the SD Rx
1036:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         interrupt event.
1037:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1038:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pData: Pointer to the buffer that will contain the received data
1039:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockAdd: Block Address from where data is to be read
1040:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to read.
1041:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
1042:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1043:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ReadBlocks_IT(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd,
1044:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                        uint32_t NumberOfBlocks)
1045:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1046:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
1047:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
1048:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
1049:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1050:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (NULL == pData)
1051:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1052:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
1053:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
1054:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1055:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1056:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
1057:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 20


1058:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
1059:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1060:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
1061:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1062:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1063:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1064:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1065:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1066:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1067:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1068:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize data control register */
1069:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
1070:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1071:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->pRxBuffPtr = pData;
1072:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
1073:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1074:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
1075:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1076:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       add *= BLOCKSIZE;
1077:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1078:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1079:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1080:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
1081:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1082:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
1083:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
1084:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
1085:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
1086:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
1087:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
1088:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1089:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Read Blocks in IT mode */
1090:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (NumberOfBlocks > 1U)
1091:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1092:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_READ_MULTIPLE_BLOCK | SD_CONTEXT_IT);
1093:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1094:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Read Multi Block command */
1095:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdReadMultiBlock(hsd->Instance, add);
1096:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1097:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1098:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1099:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_READ_SINGLE_BLOCK | SD_CONTEXT_IT);
1100:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1101:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Read Single Block command */
1102:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdReadSingleBlock(hsd->Instance, add);
1103:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1104:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
1105:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1106:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1107:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1108:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1109:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1110:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1111:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1112:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1113:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1114:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_RXOVERR | SDMMC_IT_DA
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 21


1115:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_RXFIFOHF));
1116:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1117:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
1118:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1119:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1120:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1121:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_BUSY;
1122:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1123:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1124:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1125:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1126:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Writes block(s) to a specified address in a card. The Data transfer
1127:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         is managed in interrupt mode.
1128:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1129:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1130:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   You could also check the IT transfer process through the SD Tx
1131:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         interrupt event.
1132:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1133:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pData: Pointer to the buffer that will contain the data to transmit
1134:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockAdd: Block Address where data will be written
1135:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to write
1136:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
1137:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1138:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_WriteBlocks_IT(SD_HandleTypeDef *hsd, const uint8_t *pData, uint32_t Block
1139:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                         uint32_t NumberOfBlocks)
1140:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1141:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
1142:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
1143:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
1144:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1145:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (NULL == pData)
1146:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1147:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
1148:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
1149:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1150:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1151:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
1152:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1153:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
1154:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1155:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
1156:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1157:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1158:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1159:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1160:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1162:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize data control register */
1164:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
1165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1166:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->pTxBuffPtr = pData;
1167:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
1168:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
1170:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       add *= BLOCKSIZE;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 22


1172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1173:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1174:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
1176:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1177:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
1178:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
1179:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
1180:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
1181:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
1182:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1183:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
1184:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1185:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Write Blocks in Polling mode */
1186:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (NumberOfBlocks > 1U)
1187:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1188:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_MULTIPLE_BLOCK | SD_CONTEXT_IT);
1189:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1190:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Write Multi Block command */
1191:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteMultiBlock(hsd->Instance, add);
1192:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1193:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1194:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1195:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_SINGLE_BLOCK | SD_CONTEXT_IT);
1196:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1197:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Write Single Block command */
1198:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteSingleBlock(hsd->Instance, add);
1199:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
1201:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1202:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1203:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1205:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1207:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1208:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1209:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1210:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Enable transfer interrupts */
1211:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_TXUNDERR | SDMMC_IT_D
1212:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_TXFIFOHE));
1213:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
1215:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1216:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1217:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1218:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_BUSY;
1219:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1221:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1222:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1223:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer
1224:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         is managed by DMA mode.
1225:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1226:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1227:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   You could also check the DMA transfer process through the SD Rx
1228:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         interrupt event.
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 23


1229:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer SD handle
1230:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pData: Pointer to the buffer that will contain the received data
1231:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockAdd: Block Address from where data is to be read
1232:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to read.
1233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
1234:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1235:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ReadBlocks_DMA(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd,
1236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                         uint32_t NumberOfBlocks)
1237:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1238:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
1239:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
1240:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
1241:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (NULL == pData)
1243:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
1245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
1246:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1247:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1248:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
1249:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1250:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
1251:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1252:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
1253:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1254:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1255:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1256:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1257:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1259:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize data control register */
1261:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
1262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1263:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->pRxBuffPtr = pData;
1264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
1265:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1266:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
1267:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1268:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       add *= BLOCKSIZE;
1269:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1270:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1271:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
1273:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1274:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
1275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
1276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
1277:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
1278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
1279:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1280:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
1281:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMABASE0 = (uint32_t) pData ;
1282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
1283:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1284:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Read Blocks in DMA mode */
1285:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (NumberOfBlocks > 1U)
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 24


1286:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1287:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_READ_MULTIPLE_BLOCK | SD_CONTEXT_DMA);
1288:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1289:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Read Multi Block command */
1290:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdReadMultiBlock(hsd->Instance, add);
1291:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1292:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1293:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1294:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_READ_SINGLE_BLOCK | SD_CONTEXT_DMA);
1295:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1296:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Read Single Block command */
1297:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdReadSingleBlock(hsd->Instance, add);
1298:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1299:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
1300:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1301:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1302:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1303:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1304:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1305:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1306:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1307:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1308:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1309:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Enable transfer interrupts */
1310:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_RXOVERR | SDMMC_IT_DA
1311:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1312:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
1313:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1314:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1315:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1316:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_BUSY;
1317:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1318:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1319:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1320:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1321:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Writes block(s) to a specified address in a card. The Data transfer
1322:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         is managed by DMA mode.
1323:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1324:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1325:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   You could also check the DMA transfer process through the SD Tx
1326:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         interrupt event.
1327:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1328:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pData: Pointer to the buffer that will contain the data to transmit
1329:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockAdd: Block Address where data will be written
1330:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to write
1331:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
1332:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_WriteBlocks_DMA(SD_HandleTypeDef *hsd, const uint8_t *pData, uint32_t Bloc
1334:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                          uint32_t NumberOfBlocks)
1335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1336:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
1337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
1338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
1339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1340:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (NULL == pData)
1341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 25


1343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
1344:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
1347:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
1349:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
1351:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1353:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1355:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1357:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1358:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize data control register */
1359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
1360:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1361:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->pTxBuffPtr = pData;
1362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
1363:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1364:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
1365:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1366:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       add *= BLOCKSIZE;
1367:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1368:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1369:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1370:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
1371:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1372:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
1373:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
1374:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
1375:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
1376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
1377:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
1379:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMABASE0 = (uint32_t) pData ;
1381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
1382:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1383:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Write Blocks in Polling mode */
1384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (NumberOfBlocks > 1U)
1385:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1386:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_MULTIPLE_BLOCK | SD_CONTEXT_DMA);
1387:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1388:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Write Multi Block command */
1389:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteMultiBlock(hsd->Instance, add);
1390:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1391:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1392:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1393:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_SINGLE_BLOCK | SD_CONTEXT_DMA);
1394:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1395:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Write Single Block command */
1396:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteSingleBlock(hsd->Instance, add);
1397:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1398:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
1399:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 26


1400:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1402:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1403:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1405:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1406:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1407:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1408:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Enable transfer interrupts */
1409:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_TXUNDERR | SDMMC_IT_D
1410:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1411:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
1412:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1413:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1414:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1415:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_BUSY;
1416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1417:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1419:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1420:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Erases the specified memory area of the given SD card.
1421:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1423:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1424:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockStartAdd: Start Block address
1425:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockEndAdd: End Block address
1426:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
1427:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Erase(SD_HandleTypeDef *hsd, uint32_t BlockStartAdd, uint32_t BlockEndAdd)
1429:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1430:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
1431:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t start_add = BlockStartAdd;
1432:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t end_add = BlockEndAdd;
1433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1434:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
1435:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1436:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
1437:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1438:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (end_add < start_add)
1439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
1441:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1443:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (end_add > (hsd->SdCard.LogBlockNbr))
1445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1447:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1448:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1449:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1450:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1451:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1452:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Check if the card command class supports erase command */
1453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (((hsd->SdCard.Class) & SDMMC_CCCC_ERASE) == 0U)
1454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1455:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1456:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 27


1457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
1458:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1461:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
1463:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1464:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1465:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1466:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
1467:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1468:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1469:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1471:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Get start and end block for high capacity cards */
1472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
1473:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1474:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       start_add *= BLOCKSIZE;
1475:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       end_add   *= BLOCKSIZE;
1476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1478:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* According to sd-card spec 1.0 ERASE_GROUP_START (CMD32) and erase_group_end(CMD33) */
1479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SECURED)
1480:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1481:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Send CMD32 SD_ERASE_GRP_START with argument as addr  */
1482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdSDEraseStartAdd(hsd->Instance, start_add);
1483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
1484:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Clear all the static flags */
1486:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
1488:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_ERROR;
1490:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1491:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1492:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Send CMD33 SD_ERASE_GRP_END with argument as addr  */
1493:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdSDEraseEndAdd(hsd->Instance, end_add);
1494:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
1495:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1496:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Clear all the static flags */
1497:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1498:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
1499:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_ERROR;
1501:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1502:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1503:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1504:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD38 ERASE */
1505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdErase(hsd->Instance, 0UL);
1506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
1507:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1508:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1509:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1510:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1512:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1513:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 28


1514:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1515:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
1516:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
1518:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1519:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1520:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1521:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_BUSY;
1522:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1523:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1524:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1525:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  This function handles SD card interrupt request.
1527:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1528:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
1529:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1530:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** void HAL_SD_IRQHandler(SD_HandleTypeDef *hsd)
1531:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1532:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
1533:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t context = hsd->Context;
1534:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1535:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check for SDMMC interrupt flags */
1536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF) != RESET) && ((context & SD_CONTEXT_IT) != 0U))
1537:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1538:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     SD_Read_IT(hsd);
1539:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1540:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DATAEND) != RESET)
1542:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1543:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DATAEND);
1544:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1545:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_DATAEND  | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | \
1546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR  | SDMMC_IT_TXFIFOHE | \
1547:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         SDMMC_IT_RXFIFOHF);
1548:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1549:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_IDMABTC);
1550:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE(hsd->Instance);
1551:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((context & SD_CONTEXT_IT) != 0U)
1553:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1554:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_READ_MULTIPLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIP
1555:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1556:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
1557:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
1558:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
1559:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
1560:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1561:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCallback(hsd);
1562:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1563:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           HAL_SD_ErrorCallback(hsd);
1564:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1565:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
1566:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1568:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1569:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
1570:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 29


1571:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1572:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1573:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIPLE_
1574:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1575:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1576:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->RxCpltCallback(hsd);
1577:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1578:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SD_RxCpltCallback(hsd);
1579:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1580:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1581:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else
1582:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1583:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1584:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->TxCpltCallback(hsd);
1585:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1586:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SD_TxCpltCallback(hsd);
1587:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1588:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1589:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1590:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if ((context & SD_CONTEXT_DMA) != 0U)
1591:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1592:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->DLEN = 0;
1593:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->DCTRL = 0;
1594:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
1595:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1596:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Stop Transfer for Write Multi blocks or Read Multi blocks */
1597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_READ_MULTIPLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIP
1598:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1599:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
1600:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
1601:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
1602:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
1603:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1604:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCallback(hsd);
1605:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1606:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           HAL_SD_ErrorCallback(hsd);
1607:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1608:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
1609:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1610:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1611:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1612:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1613:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPL
1614:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1615:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1616:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->TxCpltCallback(hsd);
1617:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1618:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SD_TxCpltCallback(hsd);
1619:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1620:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1621:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIPLE_
1622:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1623:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1624:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->RxCpltCallback(hsd);
1625:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1626:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SD_RxCpltCallback(hsd);
1627:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 30


1628:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1629:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1630:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1631:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1632:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Nothing to do */
1633:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1634:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1635:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1636:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if ((__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXFIFOHE) != RESET) && ((context & SD_CONTEXT_IT) != 
1637:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1638:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     SD_Write_IT(hsd);
1639:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1640:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1641:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SDMMC_FLAG_RXOVERR |
1642:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_TXUNDERR) != RESET)
1643:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1644:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Set Error code */
1645:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_IT_DCRCFAIL) != RESET)
1646:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1647:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
1648:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1649:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_IT_DTIMEOUT) != RESET)
1650:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1651:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
1652:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1653:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_IT_RXOVERR) != RESET)
1654:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1655:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_RX_OVERRUN;
1656:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1657:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_IT_TXUNDERR) != RESET)
1658:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1659:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_TX_UNDERRUN;
1660:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1661:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1662:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear All flags */
1663:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
1664:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1665:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Disable all interrupts */
1666:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_DATAEND | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | \
1667:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR);
1668:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1669:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE(hsd->Instance);
1670:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL |= SDMMC_DCTRL_FIFORST;
1671:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD |= SDMMC_CMD_CMDSTOP;
1672:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
1673:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD &= ~(SDMMC_CMD_CMDSTOP);
1674:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DABORT);
1675:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1676:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((context & SD_CONTEXT_IT) != 0U)
1677:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1678:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Set the SD state to ready to be able to start again the process */
1679:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1680:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1681:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1682:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCallback(hsd);
1683:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1684:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       HAL_SD_ErrorCallback(hsd);
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 31


1685:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1686:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1687:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if ((context & SD_CONTEXT_DMA) != 0U)
1688:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1689:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (hsd->ErrorCode != HAL_SD_ERROR_NONE)
1690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1691:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Disable Internal DMA */
1692:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_IDMABTC);
1693:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
1694:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1695:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Set the SD state to ready to be able to start again the process */
1696:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1697:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1698:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCallback(hsd);
1699:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1700:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SD_ErrorCallback(hsd);
1701:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1702:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1703:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1704:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1705:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1706:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Nothing to do */
1707:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1708:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1709:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1710:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_IDMABTC) != RESET)
1711:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1712:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_IDMABTC);
1713:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (READ_BIT(hsd->Instance->IDMACTRL, SDMMC_IDMA_IDMABACT) == 0U)
1714:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1715:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Current buffer is buffer0, Transfer complete for buffer1 */
1716:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((context & SD_CONTEXT_WRITE_MULTIPLE_BLOCK) != 0U)
1717:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1718:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1719:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Write_DMADblBuf1CpltCallback(hsd);
1720:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1721:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SDEx_Write_DMADoubleBuf1CpltCallback(hsd);
1722:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1723:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1724:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else /* SD_CONTEXT_READ_MULTIPLE_BLOCK */
1725:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1726:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1727:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Read_DMADblBuf1CpltCallback(hsd);
1728:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1729:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SDEx_Read_DMADoubleBuf1CpltCallback(hsd);
1730:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1731:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1732:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1733:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else /* SD_DMA_BUFFER1 */
1734:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1735:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Current buffer is buffer1, Transfer complete for buffer0 */
1736:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((context & SD_CONTEXT_WRITE_MULTIPLE_BLOCK) != 0U)
1737:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1738:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1739:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Write_DMADblBuf0CpltCallback(hsd);
1740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1741:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SDEx_Write_DMADoubleBuf0CpltCallback(hsd);
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 32


1742:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1743:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1744:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else /* SD_CONTEXT_READ_MULTIPLE_BLOCK */
1745:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1746:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1747:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Read_DMADblBuf0CpltCallback(hsd);
1748:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1749:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SDEx_Read_DMADoubleBuf0CpltCallback(hsd);
1750:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1751:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1752:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1753:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1755:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1756:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Nothing to do */
1757:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1758:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1759:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1761:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief return the SD state
1762:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: Pointer to sd handle
1763:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL state
1764:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1765:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_SD_StateTypeDef HAL_SD_GetState(const SD_HandleTypeDef *hsd)
1766:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return hsd->State;
1768:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1769:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1770:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1771:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Return the SD error code
1772:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd : Pointer to a SD_HandleTypeDef structure that contains
1773:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *              the configuration information.
1774:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval SD Error Code
1775:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1776:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** uint32_t HAL_SD_GetError(const SD_HandleTypeDef *hsd)
1777:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return hsd->ErrorCode;
1779:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1780:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1781:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1782:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief Tx Transfer completed callbacks
1783:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: Pointer to SD handle
1784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
1785:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SD_TxCpltCallback(SD_HandleTypeDef *hsd)
1787:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1788:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1789:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
1790:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1791:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_TxCpltCallback can be implemented in the user file
1793:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
1794:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1795:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1796:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1797:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief Rx Transfer completed callbacks
1798:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: Pointer SD handle
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 33


1799:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
1800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1801:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SD_RxCpltCallback(SD_HandleTypeDef *hsd)
1802:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1803:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1804:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
1805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1806:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1807:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_RxCpltCallback can be implemented in the user file
1808:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
1809:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1810:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1811:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1812:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief SD error callbacks
1813:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: Pointer SD handle
1814:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
1815:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1816:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SD_ErrorCallback(SD_HandleTypeDef *hsd)
1817:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1818:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1819:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
1820:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1821:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1822:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_ErrorCallback can be implemented in the user file
1823:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
1824:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1825:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1826:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1827:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief SD Abort callbacks
1828:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: Pointer SD handle
1829:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
1830:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1831:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SD_AbortCallback(SD_HandleTypeDef *hsd)
1832:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1833:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1834:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
1835:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1836:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1837:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_AbortCallback can be implemented in the user file
1838:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
1839:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1840:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1841:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
1842:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1843:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Enable/Disable the SD Transceiver 1.8V Mode Callback.
1844:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  status: Voltage Switch State
1845:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
1846:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1847:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak  void HAL_SD_DriveTransceiver_1_8V_Callback(FlagStatus status)
1848:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1849:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1850:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(status);
1851:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1852:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_EnableTransceiver could be implemented in the user file
1853:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
1854:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1855:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER  */
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 34


1856:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1857:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1858:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1859:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Register a User SD Callback
1860:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         To be used instead of the weak (overridden) predefined callback
1861:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   The HAL_SD_RegisterCallback() may be called before HAL_SD_Init() in
1862:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_STATE_RESET to register callbacks for HAL_SD_MSP_INIT_CB_ID
1863:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         and HAL_SD_MSP_DEINIT_CB_ID.
1864:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd : SD handle
1865:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param CallbackID : ID of the callback to be registered
1866:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *        This parameter can be one of the following values:
1867:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_TX_CPLT_CB_ID                 SD Tx Complete Callback ID
1868:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_RX_CPLT_CB_ID                 SD Rx Complete Callback ID
1869:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_ERROR_CB_ID                   SD Error Callback ID
1870:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_ABORT_CB_ID                   SD Abort Callback ID
1871:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_READ_DMA_DBL_BUF0_CPLT_CB_ID  SD DMA Rx Double buffer 0 Callback ID
1872:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_READ_DMA_DBL_BUF1_CPLT_CB_ID  SD DMA Rx Double buffer 1 Callback ID
1873:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_WRITE_DMA_DBL_BUF0_CPLT_CB_ID SD DMA Tx Double buffer 0 Callback ID
1874:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_WRITE_DMA_DBL_BUF1_CPLT_CB_ID SD DMA Tx Double buffer 1 Callback ID
1875:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_INIT_CB_ID                SD MspInit Callback ID
1876:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_DEINIT_CB_ID              SD MspDeInit Callback ID
1877:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param pCallback : pointer to the Callback function
1878:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval status
1879:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1880:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_RegisterCallback(SD_HandleTypeDef *hsd, HAL_SD_CallbackIDTypeDef CallbackI
1881:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                           pSD_CallbackTypeDef pCallback)
1882:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1883:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
1884:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1885:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (pCallback == NULL)
1886:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1887:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Update the error code */
1888:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1889:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
1890:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1891:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1892:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
1893:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1894:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     switch (CallbackID)
1895:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1896:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_TX_CPLT_CB_ID :
1897:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->TxCpltCallback = pCallback;
1898:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1899:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_RX_CPLT_CB_ID :
1900:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->RxCpltCallback = pCallback;
1901:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1902:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_ERROR_CB_ID :
1903:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCallback = pCallback;
1904:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1905:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_ABORT_CB_ID :
1906:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->AbortCpltCallback = pCallback;
1907:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1908:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_READ_DMA_DBL_BUF0_CPLT_CB_ID :
1909:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Read_DMADblBuf0CpltCallback = pCallback;
1910:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1911:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_READ_DMA_DBL_BUF1_CPLT_CB_ID :
1912:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Read_DMADblBuf1CpltCallback = pCallback;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 35


1913:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1914:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_WRITE_DMA_DBL_BUF0_CPLT_CB_ID :
1915:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Write_DMADblBuf0CpltCallback = pCallback;
1916:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1917:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_WRITE_DMA_DBL_BUF1_CPLT_CB_ID :
1918:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Write_DMADblBuf1CpltCallback = pCallback;
1919:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1920:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_INIT_CB_ID :
1921:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspInitCallback = pCallback;
1922:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1923:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_DEINIT_CB_ID :
1924:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspDeInitCallback = pCallback;
1925:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1926:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       default :
1927:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Update the error code */
1928:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1929:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* update return status */
1930:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status =  HAL_ERROR;
1931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1932:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1933:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1934:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (hsd->State == HAL_SD_STATE_RESET)
1935:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1936:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     switch (CallbackID)
1937:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1938:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_INIT_CB_ID :
1939:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspInitCallback = pCallback;
1940:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1941:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_DEINIT_CB_ID :
1942:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspDeInitCallback = pCallback;
1943:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1944:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       default :
1945:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Update the error code */
1946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1947:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* update return status */
1948:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status =  HAL_ERROR;
1949:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1950:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1951:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1952:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1953:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1954:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Update the error code */
1955:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1956:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* update return status */
1957:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status =  HAL_ERROR;
1958:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1959:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1960:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
1961:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1962:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1963:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1964:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Unregister a User SD Callback
1965:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         SD Callback is redirected to the weak (overridden) predefined callback
1966:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   The HAL_SD_UnRegisterCallback() may be called before HAL_SD_Init() in
1967:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_STATE_RESET to register callbacks for HAL_SD_MSP_INIT_CB_ID
1968:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         and HAL_SD_MSP_DEINIT_CB_ID.
1969:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd : SD handle
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 36


1970:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param CallbackID : ID of the callback to be unregistered
1971:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *        This parameter can be one of the following values:
1972:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_TX_CPLT_CB_ID                 SD Tx Complete Callback ID
1973:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_RX_CPLT_CB_ID                 SD Rx Complete Callback ID
1974:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_ERROR_CB_ID                   SD Error Callback ID
1975:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_ABORT_CB_ID                   SD Abort Callback ID
1976:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_READ_DMA_DBL_BUF0_CPLT_CB_ID  SD DMA Rx Double buffer 0 Callback ID
1977:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_READ_DMA_DBL_BUF1_CPLT_CB_ID  SD DMA Rx Double buffer 1 Callback ID
1978:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_WRITE_DMA_DBL_BUF0_CPLT_CB_ID SD DMA Tx Double buffer 0 Callback ID
1979:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_WRITE_DMA_DBL_BUF1_CPLT_CB_ID SD DMA Tx Double buffer 1 Callback ID
1980:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_INIT_CB_ID                SD MspInit Callback ID
1981:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_DEINIT_CB_ID              SD MspDeInit Callback ID
1982:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval status
1983:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1984:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_UnRegisterCallback(SD_HandleTypeDef *hsd, HAL_SD_CallbackIDTypeDef Callbac
1985:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1986:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
1987:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1988:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
1989:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1990:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     switch (CallbackID)
1991:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1992:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_TX_CPLT_CB_ID :
1993:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->TxCpltCallback = HAL_SD_TxCpltCallback;
1994:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1995:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_RX_CPLT_CB_ID :
1996:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->RxCpltCallback = HAL_SD_RxCpltCallback;
1997:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1998:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_ERROR_CB_ID :
1999:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCallback = HAL_SD_ErrorCallback;
2000:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2001:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_ABORT_CB_ID :
2002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->AbortCpltCallback = HAL_SD_AbortCallback;
2003:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2004:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_READ_DMA_DBL_BUF0_CPLT_CB_ID :
2005:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Read_DMADblBuf0CpltCallback = HAL_SDEx_Read_DMADoubleBuf0CpltCallback;
2006:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2007:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_READ_DMA_DBL_BUF1_CPLT_CB_ID :
2008:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Read_DMADblBuf1CpltCallback = HAL_SDEx_Read_DMADoubleBuf1CpltCallback;
2009:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2010:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_WRITE_DMA_DBL_BUF0_CPLT_CB_ID :
2011:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Write_DMADblBuf0CpltCallback = HAL_SDEx_Write_DMADoubleBuf0CpltCallback;
2012:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2013:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_WRITE_DMA_DBL_BUF1_CPLT_CB_ID :
2014:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Write_DMADblBuf1CpltCallback = HAL_SDEx_Write_DMADoubleBuf1CpltCallback;
2015:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2016:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_INIT_CB_ID :
2017:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspInitCallback = HAL_SD_MspInit;
2018:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2019:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_DEINIT_CB_ID :
2020:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspDeInitCallback = HAL_SD_MspDeInit;
2021:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2022:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       default :
2023:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Update the error code */
2024:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2025:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* update return status */
2026:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status =  HAL_ERROR;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 37


2027:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2028:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2029:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2030:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (hsd->State == HAL_SD_STATE_RESET)
2031:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2032:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     switch (CallbackID)
2033:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2034:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_INIT_CB_ID :
2035:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspInitCallback = HAL_SD_MspInit;
2036:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2037:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_DEINIT_CB_ID :
2038:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspDeInitCallback = HAL_SD_MspDeInit;
2039:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2040:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       default :
2041:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Update the error code */
2042:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2043:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* update return status */
2044:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status =  HAL_ERROR;
2045:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2046:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2047:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2048:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2049:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2050:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Update the error code */
2051:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2052:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* update return status */
2053:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status =  HAL_ERROR;
2054:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2055:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2056:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
2057:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2058:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2059:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
2060:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2061:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Register a User SD Transceiver Callback
2062:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         To be used instead of the weak (overridden) predefined callback
2063:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd : SD handle
2064:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param pCallback : pointer to the Callback function
2065:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval status
2066:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2067:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_RegisterTransceiverCallback(SD_HandleTypeDef *hsd, pSD_TransceiverCallback
2068:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2069:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2070:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2071:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (pCallback == NULL)
2072:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2073:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Update the error code */
2074:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2075:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
2076:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2077:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2078:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Process locked */
2079:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_LOCK(hsd);
2080:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2081:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
2082:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2083:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->DriveTransceiver_1_8V_Callback = pCallback;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 38


2084:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2085:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2086:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2087:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Update the error code */
2088:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2089:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* update return status */
2090:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status =  HAL_ERROR;
2091:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2092:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2093:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Release Lock */
2094:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_UNLOCK(hsd);
2095:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
2096:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2097:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2098:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2099:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Unregister a User SD Transceiver Callback
2100:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         SD Callback is redirected to the weak (overridden) predefined callback
2101:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd : SD handle
2102:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval status
2103:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2104:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_UnRegisterTransceiverCallback(SD_HandleTypeDef *hsd)
2105:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2106:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2107:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2108:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Process locked */
2109:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_LOCK(hsd);
2110:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2111:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
2112:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2113:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->DriveTransceiver_1_8V_Callback = HAL_SD_DriveTransceiver_1_8V_Callback;
2114:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2115:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2116:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2117:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Update the error code */
2118:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2119:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* update return status */
2120:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status =  HAL_ERROR;
2121:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2122:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2123:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Release Lock */
2124:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_UNLOCK(hsd);
2125:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
2126:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2127:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER */
2128:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
2129:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2130:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2131:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @}
2132:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2133:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2134:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group3
2135:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *  @brief   management functions
2136:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
2137:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** @verbatim
2138:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
2139:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                       ##### Peripheral Control functions #####
2140:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 39


2141:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
2142:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This subsection provides a set of functions allowing to control the SD card
2143:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     operations and get the related information
2144:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2145:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** @endverbatim
2146:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
2147:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2148:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2149:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2150:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Returns information the information of the card which are stored on
2151:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         the CID register.
2152:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2153:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pCID: Pointer to a HAL_SD_CardCIDTypeDef structure that
2154:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         contains all CID register parameters
2155:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2156:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2157:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardCID(const SD_HandleTypeDef *hsd, HAL_SD_CardCIDTypeDef *pCID)
2158:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2159:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->ManufacturerID = (uint8_t)((hsd->CID[0] & 0xFF000000U) >> 24U);
2160:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->OEM_AppliID = (uint16_t)((hsd->CID[0] & 0x00FFFF00U) >> 8U);
2162:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->ProdName1 = (((hsd->CID[0] & 0x000000FFU) << 24U) | ((hsd->CID[1] & 0xFFFFFF00U) >> 8U));
2164:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->ProdName2 = (uint8_t)(hsd->CID[1] & 0x000000FFU);
2166:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2167:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->ProdRev = (uint8_t)((hsd->CID[2] & 0xFF000000U) >> 24U);
2168:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->ProdSN = (((hsd->CID[2] & 0x00FFFFFFU) << 8U) | ((hsd->CID[3] & 0xFF000000U) >> 24U));
2170:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->Reserved1 = (uint8_t)((hsd->CID[3] & 0x00F00000U) >> 20U);
2172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2173:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->ManufactDate = (uint16_t)((hsd->CID[3] & 0x000FFF00U) >> 8U);
2174:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->CID_CRC = (uint8_t)((hsd->CID[3] & 0x000000FEU) >> 1U);
2176:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2177:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->Reserved2 = 1U;
2178:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2179:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
2180:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2181:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2182:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2183:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Returns information the information of the card which are stored on
2184:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         the CSD register.
2185:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2186:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pCSD: Pointer to a HAL_SD_CardCSDTypeDef structure that
2187:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         contains all CSD register parameters
2188:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2189:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2190:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardCSD(SD_HandleTypeDef *hsd, HAL_SD_CardCSDTypeDef *pCSD)
2191:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2192:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->CSDStruct = (uint8_t)((hsd->CSD[0] & 0xC0000000U) >> 30U);
2193:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2194:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->SysSpecVersion = (uint8_t)((hsd->CSD[0] & 0x3C000000U) >> 26U);
2195:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2196:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->Reserved1 = (uint8_t)((hsd->CSD[0] & 0x03000000U) >> 24U);
2197:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 40


2198:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->TAAC = (uint8_t)((hsd->CSD[0] & 0x00FF0000U) >> 16U);
2199:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->NSAC = (uint8_t)((hsd->CSD[0] & 0x0000FF00U) >> 8U);
2201:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2202:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->MaxBusClkFrec = (uint8_t)(hsd->CSD[0] & 0x000000FFU);
2203:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->CardComdClasses = (uint16_t)((hsd->CSD[1] & 0xFFF00000U) >> 20U);
2205:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->RdBlockLen = (uint8_t)((hsd->CSD[1] & 0x000F0000U) >> 16U);
2207:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2208:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->PartBlockRead   = (uint8_t)((hsd->CSD[1] & 0x00008000U) >> 15U);
2209:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2210:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->WrBlockMisalign = (uint8_t)((hsd->CSD[1] & 0x00004000U) >> 14U);
2211:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2212:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->RdBlockMisalign = (uint8_t)((hsd->CSD[1] & 0x00002000U) >> 13U);
2213:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->DSRImpl = (uint8_t)((hsd->CSD[1] & 0x00001000U) >> 12U);
2215:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2216:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->Reserved2 = 0U; /*!< Reserved */
2217:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2218:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardType == CARD_SDSC)
2219:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->DeviceSize = (((hsd->CSD[1] & 0x000003FFU) << 2U) | ((hsd->CSD[2] & 0xC0000000U) >> 30U))
2221:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2222:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->MaxRdCurrentVDDMin = (uint8_t)((hsd->CSD[2] & 0x38000000U) >> 27U);
2223:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2224:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->MaxRdCurrentVDDMax = (uint8_t)((hsd->CSD[2] & 0x07000000U) >> 24U);
2225:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2226:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->MaxWrCurrentVDDMin = (uint8_t)((hsd->CSD[2] & 0x00E00000U) >> 21U);
2227:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2228:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->MaxWrCurrentVDDMax = (uint8_t)((hsd->CSD[2] & 0x001C0000U) >> 18U);
2229:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2230:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->DeviceSizeMul = (uint8_t)((hsd->CSD[2] & 0x00038000U) >> 15U);
2231:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2232:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockNbr  = (pCSD->DeviceSize + 1U) ;
2233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
2234:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
2235:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = (hsd->SdCard.BlockNbr) * ((hsd->SdCard.BlockSize) / BLOCKSIZE);
2237:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = BLOCKSIZE;
2238:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2239:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (hsd->SdCard.CardType == CARD_SDHC_SDXC)
2240:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2241:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Byte 7 */
2242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->DeviceSize = (((hsd->CSD[1] & 0x0000003FU) << 16U) | ((hsd->CSD[2] & 0xFFFF0000U) >> 16U)
2243:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockNbr = ((pCSD->DeviceSize + 1U) * 1024U);
2245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
2246:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = BLOCKSIZE;
2247:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = hsd->SdCard.BlockSize;
2248:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2249:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2250:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2251:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
2252:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
2253:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2254:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 41


2255:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
2256:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2257:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->EraseGrSize = (uint8_t)((hsd->CSD[2] & 0x00004000U) >> 14U);
2259:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->EraseGrMul = (uint8_t)((hsd->CSD[2] & 0x00003F80U) >> 7U);
2261:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->WrProtectGrSize = (uint8_t)(hsd->CSD[2] & 0x0000007FU);
2263:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->WrProtectGrEnable = (uint8_t)((hsd->CSD[3] & 0x80000000U) >> 31U);
2265:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2266:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->ManDeflECC = (uint8_t)((hsd->CSD[3] & 0x60000000U) >> 29U);
2267:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2268:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->WrSpeedFact = (uint8_t)((hsd->CSD[3] & 0x1C000000U) >> 26U);
2269:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2270:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->MaxWrBlockLen = (uint8_t)((hsd->CSD[3] & 0x03C00000U) >> 22U);
2271:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->WriteBlockPaPartial = (uint8_t)((hsd->CSD[3] & 0x00200000U) >> 21U);
2273:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2274:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->Reserved3 = 0;
2275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->ContentProtectAppli = (uint8_t)((hsd->CSD[3] & 0x00010000U) >> 16U);
2277:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->FileFormatGroup = (uint8_t)((hsd->CSD[3] & 0x00008000U) >> 15U);
2279:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2280:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->CopyFlag = (uint8_t)((hsd->CSD[3] & 0x00004000U) >> 14U);
2281:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->PermWrProtect = (uint8_t)((hsd->CSD[3] & 0x00002000U) >> 13U);
2283:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2284:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->TempWrProtect = (uint8_t)((hsd->CSD[3] & 0x00001000U) >> 12U);
2285:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2286:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->FileFormat = (uint8_t)((hsd->CSD[3] & 0x00000C00U) >> 10U);
2287:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2288:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->ECC = (uint8_t)((hsd->CSD[3] & 0x00000300U) >> 8U);
2289:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2290:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->CSD_CRC = (uint8_t)((hsd->CSD[3] & 0x000000FEU) >> 1U);
2291:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2292:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->Reserved4 = 1;
2293:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2294:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
2295:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2296:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2297:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2298:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Gets the SD status info.( shall be called if there is no SD transaction ongoing )
2299:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2300:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pStatus: Pointer to the HAL_SD_CardStatusTypeDef structure that
2301:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         will contain the SD card status information
2302:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2303:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2304:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardStatus(SD_HandleTypeDef *hsd, HAL_SD_CardStatusTypeDef *pStatus)
2305:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2306:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t sd_status[16];
2307:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
2308:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2309:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2310:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_BUSY)
2311:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 42


2312:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
2313:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2314:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2315:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SD_SendSDStatus(hsd, sd_status);
2316:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
2317:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2318:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
2319:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
2320:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
2321:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
2322:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
2323:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2324:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2325:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2326:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->DataBusWidth = (uint8_t)((sd_status[0] & 0xC0U) >> 6U);
2327:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2328:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->SecuredMode = (uint8_t)((sd_status[0] & 0x20U) >> 5U);
2329:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2330:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->CardType = (uint16_t)(((sd_status[0] & 0x00FF0000U) >> 8U) | ((sd_status[0] & 0xFF0000
2331:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2332:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->ProtectedAreaSize = (((sd_status[1] & 0xFFU) << 24U)    | ((sd_status[1] & 0xFF00U) <<
2333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
2334:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->SpeedClass = (uint8_t)(sd_status[2] & 0xFFU);
2336:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->PerformanceMove = (uint8_t)((sd_status[2] & 0xFF00U) >> 8U);
2338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->AllocationUnitSize = (uint8_t)((sd_status[2] & 0xF00000U) >> 20U);
2340:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->EraseSize = (uint16_t)(((sd_status[2] & 0xFF000000U) >> 16U) | (sd_status[3] & 0xFFU))
2342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->EraseTimeout = (uint8_t)((sd_status[3] & 0xFC00U) >> 10U);
2344:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->EraseOffset = (uint8_t)((sd_status[3] & 0x0300U) >> 8U);
2346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2347:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->UhsSpeedGrade = (uint8_t)((sd_status[3] & 0x00F0U) >> 4U);
2348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->UhsAllocationUnitSize = (uint8_t)(sd_status[3] & 0x000FU) ;
2349:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->VideoSpeedClass = (uint8_t)((sd_status[4] & 0xFF000000U) >> 24U);
2350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2351:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Block Size for Card */
2353:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
2354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
2355:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
2357:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
2358:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = errorstate;
2359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
2360:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
2361:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2363:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
2364:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2365:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2366:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2367:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Gets the SD card info.
2368:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 43


2369:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pCardInfo: Pointer to the HAL_SD_CardInfoTypeDef structure that
2370:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         will contain the SD card status information
2371:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2372:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2373:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardInfo(const SD_HandleTypeDef *hsd, HAL_SD_CardInfoTypeDef *pCardInfo
2374:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2375:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->CardType     = (uint32_t)(hsd->SdCard.CardType);
2376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->CardVersion  = (uint32_t)(hsd->SdCard.CardVersion);
2377:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->Class        = (uint32_t)(hsd->SdCard.Class);
2378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->RelCardAdd   = (uint32_t)(hsd->SdCard.RelCardAdd);
2379:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->BlockNbr     = (uint32_t)(hsd->SdCard.BlockNbr);
2380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->BlockSize    = (uint32_t)(hsd->SdCard.BlockSize);
2381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->LogBlockNbr  = (uint32_t)(hsd->SdCard.LogBlockNbr);
2382:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->LogBlockSize = (uint32_t)(hsd->SdCard.LogBlockSize);
2383:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
2385:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2386:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2387:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2388:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Enables wide bus operation for the requested card if supported by
2389:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         card.
2390:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2391:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  WideMode: Specifies the SD card wide bus mode
2392:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          This parameter can be one of the following values:
2393:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_BUS_WIDE_8B: 8-bit data transfer
2394:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_BUS_WIDE_4B: 4-bit data transfer
2395:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_BUS_WIDE_1B: 1-bit data transfer
2396:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2397:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2398:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ConfigWideBusOperation(SD_HandleTypeDef *hsd, uint32_t WideMode)
2399:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2400:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_InitTypeDef Init;
2401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
2402:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t sdmmc_clk;
2403:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2405:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2406:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the parameters */
2407:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_BUS_WIDE(WideMode));
2408:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2409:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Change State */
2410:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_BUSY;
2411:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2412:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardType != CARD_SECURED)
2413:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2414:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (WideMode == SDMMC_BUS_WIDE_8B)
2415:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2417:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (WideMode == SDMMC_BUS_WIDE_4B)
2419:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2420:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SD_WideBus_Enable(hsd);
2421:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
2423:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2424:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (WideMode == SDMMC_BUS_WIDE_1B)
2425:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 44


2426:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SD_WideBus_Disable(hsd);
2427:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
2429:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2430:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
2431:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2432:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* WideMode is not a valid argument*/
2433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
2434:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2435:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2436:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2437:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2438:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* SD Card does not support this feature */
2439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2441:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->ErrorCode != HAL_SD_ERROR_NONE)
2443:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
2445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
2446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
2447:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2448:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2449:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2450:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_clk     = HAL_RCCEx_GetPeriphCLKFreq(RCC_PERIPHCLK_SDMMC);
2451:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (sdmmc_clk != 0U)
2452:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Configure the SDMMC peripheral */
2454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.ClockEdge           = hsd->Init.ClockEdge;
2455:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.ClockPowerSave      = hsd->Init.ClockPowerSave;
2456:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.BusWide             = WideMode;
2457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.HardwareFlowControl = hsd->Init.HardwareFlowControl;
2458:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Check if user Clock div < Normal speed 25Mhz, no change in Clockdiv */
2460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (hsd->Init.ClockDiv >= (sdmmc_clk / (2U * SD_NORMAL_SPEED_FREQ)))
2461:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         Init.ClockDiv = hsd->Init.ClockDiv;
2463:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2464:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else if (hsd->SdCard.CardSpeed == CARD_ULTRA_HIGH_SPEED)
2465:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2466:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* UltraHigh speed SD card,user Clock div */
2467:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         Init.ClockDiv = hsd->Init.ClockDiv;
2468:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2469:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else if (hsd->SdCard.CardSpeed == CARD_HIGH_SPEED)
2470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2471:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* High speed SD card, Max Frequency = 50Mhz */
2472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (hsd->Init.ClockDiv == 0U)
2473:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2474:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (sdmmc_clk > SD_HIGH_SPEED_FREQ)
2475:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = sdmmc_clk / (2U * SD_HIGH_SPEED_FREQ);
2477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2478:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           else
2479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2480:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = hsd->Init.ClockDiv;
2481:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 45


2483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2484:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if ((sdmmc_clk / (2U * hsd->Init.ClockDiv)) > SD_HIGH_SPEED_FREQ)
2486:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = sdmmc_clk / (2U * SD_HIGH_SPEED_FREQ);
2488:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           else
2490:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2491:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = hsd->Init.ClockDiv;
2492:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2493:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2494:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2495:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else
2496:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2497:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* No High speed SD card, Max Frequency = 25Mhz */
2498:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (hsd->Init.ClockDiv == 0U)
2499:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (sdmmc_clk > SD_NORMAL_SPEED_FREQ)
2501:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2502:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = sdmmc_clk / (2U * SD_NORMAL_SPEED_FREQ);
2503:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2504:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           else
2505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = hsd->Init.ClockDiv;
2507:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2508:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2509:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2510:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if ((sdmmc_clk / (2U * hsd->Init.ClockDiv)) > SD_NORMAL_SPEED_FREQ)
2512:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2513:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = sdmmc_clk / (2U * SD_NORMAL_SPEED_FREQ);
2514:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2515:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           else
2516:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = hsd->Init.ClockDiv;
2518:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2519:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2520:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2521:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2522:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
2523:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.TranceiverPresent = hsd->Init.TranceiverPresent;
2524:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER */
2525:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (void)SDMMC_Init(hsd->Instance, Init);
2527:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2528:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
2529:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2530:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= SDMMC_ERROR_INVALID_PARAMETER;
2531:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       status = HAL_ERROR;
2532:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2533:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2534:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2535:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Block Size for Card */
2536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
2537:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
2538:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2539:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 46


2540:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
2541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
2542:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
2543:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2544:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2545:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Change State */
2546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
2547:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2548:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
2549:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2550:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2551:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Configure the speed bus mode
2553:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to the SD handle
2554:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  SpeedMode: Specifies the SD card speed bus mode
2555:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          This parameter can be one of the following values:
2556:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_SPEED_MODE_AUTO: Max speed mode supported by the card
2557:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_SPEED_MODE_DEFAULT: Default Speed/SDR12 mode
2558:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_SPEED_MODE_HIGH: High Speed/SDR25 mode
2559:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_SPEED_MODE_ULTRA: Ultra high speed mode
2560:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2561:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2562:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2563:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ConfigSpeedBusOperation(SD_HandleTypeDef *hsd, uint32_t SpeedMode)
2564:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2565:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart;
2566:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
2567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2568:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2569:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the parameters */
2570:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_SPEED_MODE(SpeedMode));
2571:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Change State */
2572:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_BUSY;
2573:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2574:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
2575:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->Init.TranceiverPresent == SDMMC_TRANSCEIVER_PRESENT)
2576:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2577:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     switch (SpeedMode)
2578:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2579:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_AUTO:
2580:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2581:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2582:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2583:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2584:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->CLKCR |= SDMMC_CLKCR_BUSSPEED;
2585:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable Ultra High Speed */
2586:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_UltraHighSpeed(hsd, SDMMC_SDR104_SWITCH_PATTERN) != HAL_SD_ERROR_NONE)
2587:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2588:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             if (SD_SwitchSpeed(hsd, SDMMC_SDR25_SWITCH_PATTERN) != HAL_SD_ERROR_NONE)
2589:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             {
2590:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2591:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               status = HAL_ERROR;
2592:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             }
2593:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2594:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2595:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else if (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED)
2596:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 47


2597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable High Speed */
2598:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_SwitchSpeed(hsd, SDMMC_SDR25_SWITCH_PATTERN) != HAL_SD_ERROR_NONE)
2599:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2600:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2601:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             status = HAL_ERROR;
2602:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2603:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2604:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2605:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2606:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /*Nothing to do, Use defaultSpeed */
2607:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2608:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2609:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2610:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_ULTRA_SDR104:
2611:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2612:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2613:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2614:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2615:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable UltraHigh Speed */
2616:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_UltraHighSpeed(hsd, SDMMC_SDR104_SWITCH_PATTERN) != HAL_SD_ERROR_NONE)
2617:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2618:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2619:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             status = HAL_ERROR;
2620:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2621:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->CLKCR |= SDMMC_CLKCR_BUSSPEED;
2622:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2623:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2624:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2625:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2626:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2627:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2628:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2629:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2630:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_ULTRA_SDR50:
2631:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2632:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2633:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2634:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2635:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable UltraHigh Speed */
2636:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_UltraHighSpeed(hsd, SDMMC_SDR50_SWITCH_PATTERN) != HAL_SD_ERROR_NONE)
2637:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2638:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2639:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             status = HAL_ERROR;
2640:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2641:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->CLKCR |= SDMMC_CLKCR_BUSSPEED;
2642:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2643:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2644:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2645:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2646:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2647:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2648:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2649:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2650:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_DDR:
2651:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2652:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2653:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 48


2654:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2655:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable DDR Mode*/
2656:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_DDR_Mode(hsd) != HAL_SD_ERROR_NONE)
2657:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2658:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2659:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             status = HAL_ERROR;
2660:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2661:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->CLKCR |=  SDMMC_CLKCR_BUSSPEED | SDMMC_CLKCR_DDR;
2662:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2663:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2664:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2665:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2666:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2667:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2668:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2669:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2670:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_HIGH:
2671:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2672:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2673:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
2674:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2675:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2676:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable High Speed */
2677:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_SwitchSpeed(hsd, SDMMC_SDR25_SWITCH_PATTERN) != HAL_SD_ERROR_NONE)
2678:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2679:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2680:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             status = HAL_ERROR;
2681:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2682:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2683:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2684:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2685:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2686:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2687:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2688:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2689:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_DEFAULT:
2691:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2692:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Switch to default Speed */
2693:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (SD_SwitchSpeed(hsd, SDMMC_SDR12_SWITCH_PATTERN) != HAL_SD_ERROR_NONE)
2694:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2695:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2696:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2697:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2698:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2699:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2700:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2701:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       default:
2702:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
2703:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status = HAL_ERROR;
2704:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2705:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2706:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2707:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2708:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2709:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     switch (SpeedMode)
2710:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 49


2711:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_AUTO:
2712:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2713:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2714:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
2715:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2716:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2717:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable High Speed */
2718:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_SwitchSpeed(hsd, SDMMC_SDR25_SWITCH_PATTERN) != HAL_SD_ERROR_NONE)
2719:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2720:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2721:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             status = HAL_ERROR;
2722:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2723:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2724:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2725:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2726:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /*Nothing to do, Use defaultSpeed */
2727:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2728:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2729:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2730:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_HIGH:
2731:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2732:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2733:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
2734:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2735:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2736:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable High Speed */
2737:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_SwitchSpeed(hsd, SDMMC_SDR25_SWITCH_PATTERN) != HAL_SD_ERROR_NONE)
2738:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2739:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             status = HAL_ERROR;
2741:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2742:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2743:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2744:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2745:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2746:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2747:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2748:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2749:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2750:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_DEFAULT:
2751:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2752:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Switch to default Speed */
2753:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (SD_SwitchSpeed(hsd, SDMMC_SDR12_SWITCH_PATTERN) != HAL_SD_ERROR_NONE)
2754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2755:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2756:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2757:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2758:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2759:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2761:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_ULTRA: /*not valid without transceiver*/
2762:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       default:
2763:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
2764:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status = HAL_ERROR;
2765:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2766:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 50


2768:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
2769:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   switch (SpeedMode)
2770:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2771:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     case SDMMC_SPEED_MODE_AUTO:
2772:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2773:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2774:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
2775:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2776:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2777:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Enable High Speed */
2778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (SD_SwitchSpeed(hsd, SDMMC_SDR25_SWITCH_PATTERN) != HAL_SD_ERROR_NONE)
2779:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2780:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2781:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2782:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2783:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else
2785:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /*Nothing to do, Use defaultSpeed */
2787:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2788:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       break;
2789:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2790:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     case SDMMC_SPEED_MODE_HIGH:
2791:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2793:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
2794:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2795:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2796:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Enable High Speed */
2797:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (SD_SwitchSpeed(hsd, SDMMC_SDR25_SWITCH_PATTERN) != HAL_SD_ERROR_NONE)
2798:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2799:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2801:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2802:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2803:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else
2804:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2806:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status = HAL_ERROR;
2807:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2808:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       break;
2809:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2810:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     case SDMMC_SPEED_MODE_DEFAULT:
2811:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2812:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Switch to default Speed */
2813:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (SD_SwitchSpeed(hsd, SDMMC_SDR12_SWITCH_PATTERN) != HAL_SD_ERROR_NONE)
2814:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2815:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2816:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status = HAL_ERROR;
2817:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2818:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2819:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       break;
2820:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2821:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     case SDMMC_SPEED_MODE_ULTRA: /*not valid without transceiver*/
2822:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     default:
2823:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
2824:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       status = HAL_ERROR;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 51


2825:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       break;
2826:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2827:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER */
2828:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2829:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Verify that SD card is ready to use after Speed mode switch*/
2830:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   tickstart = HAL_GetTick();
2831:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((HAL_SD_GetCardState(hsd) != HAL_SD_CARD_TRANSFER))
2832:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2833:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((HAL_GetTick() - tickstart) >=  SDMMC_SWDATATIMEOUT)
2834:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2835:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
2836:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
2837:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_TIMEOUT;
2838:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2839:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2840:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2841:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Block Size for Card */
2842:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
2843:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
2844:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2845:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
2846:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
2847:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
2848:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
2849:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2850:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2851:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Change State */
2852:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
2853:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
2854:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2855:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2856:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2857:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Gets the current sd card data state.
2858:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to SD handle
2859:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval Card state
2860:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2861:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_SD_CardStateTypeDef HAL_SD_GetCardState(SD_HandleTypeDef *hsd)
2862:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2863:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t cardstate;
2864:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
2865:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t resp1 = 0;
2866:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2867:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SD_SendStatus(hsd, &resp1);
2868:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
2869:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2870:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
2871:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2872:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2873:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   cardstate = ((resp1 >> 9U) & 0x0FU);
2874:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2875:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return (HAL_SD_CardStateTypeDef)cardstate;
2876:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2877:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2878:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2879:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Abort the current transfer and disable the SD.
2880:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to a SD_HandleTypeDef structure that contains
2881:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *                the configuration information for SD module.
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 52


2882:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2883:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2884:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Abort(SD_HandleTypeDef *hsd)
2885:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2886:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t error_code;
2887:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart;
2888:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2889:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_BUSY)
2890:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2891:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* DIsable All interrupts */
2892:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_DATAEND | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | \
2893:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR);
2894:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE(hsd->Instance);
2895:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2896:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /*we will send the CMD12 in all cases in order to stop the data transfers*/
2897:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /*In case the data transfer just finished , the external memory will not respond
2898:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       and will return HAL_SD_ERROR_CMD_RSP_TIMEOUT*/
2899:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /*In case the data transfer aborted , the external memory will respond and will return HAL_SD_E
2900:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /*Other scenario will return HAL_ERROR*/
2901:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2902:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = SDMMC_CmdStopTransfer(hsd->Instance);
2903:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     error_code = hsd->ErrorCode;
2904:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((error_code != HAL_SD_ERROR_NONE) && (error_code != HAL_SD_ERROR_CMD_RSP_TIMEOUT))
2905:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2906:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
2907:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2908:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2909:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     tickstart = HAL_GetTick();
2910:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((hsd->Instance->DCTRL & SDMMC_DCTRL_DTDIR) == SDMMC_TRANSFER_DIR_TO_CARD)
2911:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2912:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (hsd->ErrorCode == HAL_SD_ERROR_NONE)
2913:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2914:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DABORT | SDMMC_FLAG_BUSYD0END))
2915:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2916:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if ((HAL_GetTick() - tickstart) >=  SDMMC_SWDATATIMEOUT)
2917:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2918:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
2919:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->State = HAL_SD_STATE_READY;
2920:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             return HAL_TIMEOUT;
2921:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2922:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2923:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2924:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2925:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (hsd->ErrorCode == HAL_SD_ERROR_CMD_RSP_TIMEOUT)
2926:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2927:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DATAEND))
2928:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2929:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if ((HAL_GetTick() - tickstart) >=  SDMMC_SWDATATIMEOUT)
2930:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
2932:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->State = HAL_SD_STATE_READY;
2933:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             return HAL_TIMEOUT;
2934:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2935:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2936:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2937:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2938:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if ((hsd->Instance->DCTRL & SDMMC_DCTRL_DTDIR) == SDMMC_TRANSFER_DIR_TO_SDMMC)
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 53


2939:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2940:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DABORT | SDMMC_FLAG_DATAEND))
2941:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2942:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((HAL_GetTick() - tickstart) >=  SDMMC_SWDATATIMEOUT)
2943:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2944:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
2945:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
2946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return HAL_TIMEOUT;
2947:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2948:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2949:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2950:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
2951:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2952:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Nothing to do*/
2953:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2954:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2955:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /*The reason of all these while conditions previously is that we need to wait the SDMMC and cle
2956:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       the appropriate flags that will be set depending of the abort/non abort of the memory */
2957:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /*Not waiting the SDMMC flags will cause the next SDMMC_DISABLE_IDMA to not get cleared
2958:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       and will result in next SDMMC read/write operation to fail */
2959:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2960:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /*SDMMC ready for clear data flags*/
2961:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_BUSYD0END);
2962:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
2963:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* If IDMA Context, disable Internal DMA */
2964:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
2965:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2966:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
2967:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2968:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize the SD operation */
2969:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Context = SD_CONTEXT_NONE;
2970:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2971:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
2972:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2973:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2974:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2975:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Abort the current transfer and disable the SD (IT mode).
2976:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to a SD_HandleTypeDef structure that contains
2977:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *                the configuration information for SD module.
2978:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2979:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2980:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Abort_IT(SD_HandleTypeDef *hsd)
2981:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2982:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
2983:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2984:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Disable All interrupts */
2985:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_DATAEND | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | \
2986:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                       SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR);
2987:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2988:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* If IDMA Context, disable Internal DMA */
2989:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
2990:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2991:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Clear All flags */
2992:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
2993:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2994:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   CardState = HAL_SD_GetCardState(hsd);
2995:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 54


2996:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2997:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
2998:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2999:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = SDMMC_CmdStopTransfer(hsd->Instance);
3000:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3001:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->ErrorCode != HAL_SD_ERROR_NONE)
3003:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3004:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
3005:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3006:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
3007:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3008:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
3009:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->AbortCpltCallback(hsd);
3010:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
3011:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     HAL_SD_AbortCallback(hsd);
3012:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
3013:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3014:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3015:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
3016:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
3017:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3018:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3019:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @}
3020:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3021:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3022:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3023:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @}
3024:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3025:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3026:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private function ----------------------------------------------------------*/
3027:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD_Private_Functions
3028:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
3029:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3030:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3031:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3032:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Initializes the sd card.
3033:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
3034:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval SD Card error state
3035:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3036:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_InitCard(SD_HandleTypeDef *hsd)
3037:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
3038:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardCSDTypeDef CSD;
3039:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
3040:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint16_t sd_rca = 0U;
3041:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
3042:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3043:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the power State */
3044:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (SDMMC_GetPowerState(hsd->Instance) == 0U)
3045:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3046:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Power off */
3047:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
3048:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3049:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3050:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardType != CARD_SECURED)
3051:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3052:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD2 ALL_SEND_CID */
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 55


3053:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdSendCID(hsd->Instance);
3054:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3055:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3056:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3057:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3058:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
3059:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3060:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Get Card identification number data */
3061:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[0U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1);
3062:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
3063:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
3064:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
3065:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3066:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3067:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3068:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardType != CARD_SECURED)
3069:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3070:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD3 SET_REL_ADDR with argument 0 */
3071:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* SD Card publishes its RCA. */
3072:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (sd_rca == 0U)
3073:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3074:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdSetRelAdd(hsd->Instance, &sd_rca);
3075:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
3076:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3077:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return errorstate;
3078:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3079:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((HAL_GetTick() - tickstart) >=  SDMMC_CMDTIMEOUT)
3080:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3081:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_SD_ERROR_TIMEOUT;
3082:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3083:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3084:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3085:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardType != CARD_SECURED)
3086:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3087:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Get the SD card RCA */
3088:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.RelCardAdd = sd_rca;
3089:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3090:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD9 SEND_CSD with argument as card's RCA */
3091:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdSendCSD(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
3092:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3093:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3094:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3095:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3096:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
3097:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3098:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Get Card Specific Data */
3099:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[0U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1);
3100:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
3101:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
3102:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
3103:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3104:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3105:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3106:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get the Card Class */
3107:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->SdCard.Class = (SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2) >> 20U);
3108:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3109:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get CSD parameters */
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 56


3110:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (HAL_SD_GetCardCSD(hsd, &CSD) != HAL_OK)
3111:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3112:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_UNSUPPORTED_FEATURE;
3113:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3114:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3115:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Select the Card */
3116:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdSelDesel(hsd->Instance, (uint32_t)(((uint32_t)hsd->SdCard.RelCardAdd) << 16
3117:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3118:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3119:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3120:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3121:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3122:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* All cards are initialized */
3123:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
3124:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
3125:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3126:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3127:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Enquires cards about their operating voltage and configures clock
3128:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         controls and stores SD information that will be needed in future
3129:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         in the SD handle.
3130:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
3131:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval error state
3132:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3133:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_PowerON(SD_HandleTypeDef *hsd)
3134:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
  28              		.loc 1 3134 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 8
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 3134 1 is_stmt 0 view .LVU1
  33 0000 70B5     		push	{r4, r5, r6, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 16
  36              		.cfi_offset 4, -16
  37              		.cfi_offset 5, -12
  38              		.cfi_offset 6, -8
  39              		.cfi_offset 14, -4
  40 0002 82B0     		sub	sp, sp, #8
  41              	.LCFI1:
  42              		.cfi_def_cfa_offset 24
  43 0004 0446     		mov	r4, r0
3135:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __IO uint32_t count = 0U;
  44              		.loc 1 3135 3 is_stmt 1 view .LVU2
  45              		.loc 1 3135 17 is_stmt 0 view .LVU3
  46 0006 0023     		movs	r3, #0
  47 0008 0193     		str	r3, [sp, #4]
3136:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t response = 0U;
  48              		.loc 1 3136 3 is_stmt 1 view .LVU4
  49              	.LVL1:
3137:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t validvoltage = 0U;
  50              		.loc 1 3137 3 view .LVU5
3138:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
  51              		.loc 1 3138 3 view .LVU6
3139:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
3140:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
3141:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER  */
3142:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 57


3143:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* CMD0: GO_IDLE_STATE */
3144:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdGoIdleState(hsd->Instance);
  52              		.loc 1 3144 3 view .LVU7
  53              		.loc 1 3144 16 is_stmt 0 view .LVU8
  54 000a 0068     		ldr	r0, [r0]
  55              	.LVL2:
  56              		.loc 1 3144 16 view .LVU9
  57 000c FFF7FEFF 		bl	SDMMC_CmdGoIdleState
  58              	.LVL3:
3145:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
  59              		.loc 1 3145 3 is_stmt 1 view .LVU10
  60              		.loc 1 3145 6 is_stmt 0 view .LVU11
  61 0010 0546     		mov	r5, r0
  62 0012 10B1     		cbz	r0, .L18
  63              	.LVL4:
  64              	.L1:
3146:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3147:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3148:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3149:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3150:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* CMD8: SEND_IF_COND: Command available only on V2.0 cards */
3151:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdOperCond(hsd->Instance);
3152:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate == SDMMC_ERROR_TIMEOUT) /* No response to CMD8 */
3153:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3154:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.CardVersion = CARD_V1_X;
3155:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* CMD0: GO_IDLE_STATE */
3156:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdGoIdleState(hsd->Instance);
3157:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3158:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3159:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3160:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3162:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
3164:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.CardVersion = CARD_V2_X;
3166:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3167:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3168:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardVersion == CARD_V2_X)
3169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3170:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* SEND CMD55 APP_CMD with RCA as 0 */
3171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, 0);
3172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3173:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3174:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_SD_ERROR_UNSUPPORTED_FEATURE;
3175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3176:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3177:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* SD CARD */
3178:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Send ACMD41 SD_APP_OP_COND with Argument 0x80100000 */
3179:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((count < SDMMC_MAX_VOLT_TRIAL) && (validvoltage == 0U))
3180:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3181:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* SEND CMD55 APP_CMD with RCA as 0 */
3182:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, 0);
3183:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3184:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3185:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3186:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 58


3187:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3188:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD41 */
3189:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdAppOperCommand(hsd->Instance, SDMMC_VOLTAGE_WINDOW_SD | SDMMC_HIGH_CAPACI
3190:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                          SD_SWITCH_1_8V_CAPACITY);
3191:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3192:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3193:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_SD_ERROR_UNSUPPORTED_FEATURE;
3194:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3195:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3196:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Get command response */
3197:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     response = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1);
3198:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3199:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Get operating voltage*/
3200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     validvoltage = (((response >> 31U) == 1U) ? 1U : 0U);
3201:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3202:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     count++;
3203:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3205:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (count >= SDMMC_MAX_VOLT_TRIAL)
3206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3207:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_INVALID_VOLTRANGE;
3208:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3209:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3210:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set default card type */
3211:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->SdCard.CardType = CARD_SDSC;
3212:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3213:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((response & SDMMC_HIGH_CAPACITY) == SDMMC_HIGH_CAPACITY)
3214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3215:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.CardType = CARD_SDHC_SDXC;
3216:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
3217:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->Init.TranceiverPresent == SDMMC_TRANSCEIVER_PRESENT)
3218:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3219:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((response & SD_SWITCH_1_8V_CAPACITY) == SD_SWITCH_1_8V_CAPACITY)
3220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3221:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->SdCard.CardSpeed = CARD_ULTRA_HIGH_SPEED;
3222:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3223:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Start switching procedue */
3224:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Instance->POWER |= SDMMC_POWER_VSWITCHEN;
3225:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3226:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Send CMD11 to switch 1.8V mode */
3227:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         errorstate = SDMMC_CmdVoltageSwitch(hsd->Instance);
3228:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
3229:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
3230:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return errorstate;
3231:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
3232:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Check to CKSTOP */
3234:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         while ((hsd->Instance->STA & SDMMC_FLAG_CKSTOP) != SDMMC_FLAG_CKSTOP)
3235:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
3236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if ((HAL_GetTick() - tickstart) >=  SDMMC_SWDATATIMEOUT)
3237:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
3238:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             return HAL_SD_ERROR_TIMEOUT;
3239:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
3240:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
3241:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Clear CKSTOP Flag */
3243:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Instance->ICR = SDMMC_FLAG_CKSTOP;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 59


3244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Check to BusyD0 */
3246:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->Instance->STA & SDMMC_FLAG_BUSYD0) != SDMMC_FLAG_BUSYD0)
3247:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
3248:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Error when activate Voltage Switch in SDMMC Peripheral */
3249:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return SDMMC_ERROR_UNSUPPORTED_FEATURE;
3250:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
3251:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
3252:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
3253:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable Transceiver Switch PIN */
3254:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
3255:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->DriveTransceiver_1_8V_Callback(SET);
3256:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
3257:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           HAL_SD_DriveTransceiver_1_8V_Callback(SET);
3258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
3259:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Switch ready */
3261:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->POWER |= SDMMC_POWER_VSWITCH;
3262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3263:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Check VSWEND Flag */
3264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           while ((hsd->Instance->STA & SDMMC_FLAG_VSWEND) != SDMMC_FLAG_VSWEND)
3265:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
3266:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             if ((HAL_GetTick() - tickstart) >=  SDMMC_SWDATATIMEOUT)
3267:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             {
3268:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               return HAL_SD_ERROR_TIMEOUT;
3269:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             }
3270:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
3271:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Clear VSWEND Flag */
3273:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->ICR = SDMMC_FLAG_VSWEND;
3274:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Check BusyD0 status */
3276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if ((hsd->Instance->STA & SDMMC_FLAG_BUSYD0) == SDMMC_FLAG_BUSYD0)
3277:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
3278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             /* Error when enabling 1.8V mode */
3279:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             return HAL_SD_ERROR_INVALID_VOLTRANGE;
3280:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
3281:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Switch to 1.8V OK */
3282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3283:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Disable VSWITCH FLAG from SDMMC Peripheral */
3284:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->POWER = 0x13U;
3285:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3286:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Clean Status flags */
3287:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->ICR = 0xFFFFFFFFU;
3288:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
3289:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3290:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3291:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER  */
3292:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3293:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3294:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
3295:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
  65              		.loc 1 3295 1 view .LVU12
  66 0014 2846     		mov	r0, r5
  67 0016 02B0     		add	sp, sp, #8
  68              	.LCFI2:
  69              		.cfi_remember_state
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 60


  70              		.cfi_def_cfa_offset 16
  71              		@ sp needed
  72 0018 70BD     		pop	{r4, r5, r6, pc}
  73              	.LVL5:
  74              	.L18:
  75              	.LCFI3:
  76              		.cfi_restore_state
3151:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate == SDMMC_ERROR_TIMEOUT) /* No response to CMD8 */
  77              		.loc 1 3151 3 is_stmt 1 view .LVU13
3151:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate == SDMMC_ERROR_TIMEOUT) /* No response to CMD8 */
  78              		.loc 1 3151 16 is_stmt 0 view .LVU14
  79 001a 2068     		ldr	r0, [r4]
  80              	.LVL6:
3151:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate == SDMMC_ERROR_TIMEOUT) /* No response to CMD8 */
  81              		.loc 1 3151 16 view .LVU15
  82 001c FFF7FEFF 		bl	SDMMC_CmdOperCond
  83              	.LVL7:
3152:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
  84              		.loc 1 3152 3 is_stmt 1 view .LVU16
3152:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
  85              		.loc 1 3152 6 is_stmt 0 view .LVU17
  86 0020 B0F1004F 		cmp	r0, #-2147483648
  87 0024 07D0     		beq	.L19
3165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
  88              		.loc 1 3165 5 is_stmt 1 view .LVU18
3165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
  89              		.loc 1 3165 29 is_stmt 0 view .LVU19
  90 0026 0123     		movs	r3, #1
  91 0028 E363     		str	r3, [r4, #60]
  92              	.L4:
3168:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
  93              		.loc 1 3168 3 is_stmt 1 view .LVU20
3168:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
  94              		.loc 1 3168 18 is_stmt 0 view .LVU21
  95 002a E36B     		ldr	r3, [r4, #60]
3168:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
  96              		.loc 1 3168 6 view .LVU22
  97 002c 012B     		cmp	r3, #1
  98 002e 0BD0     		beq	.L5
  99              	.L7:
3200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 100              		.loc 1 3200 52 discriminator 1 view .LVU23
 101 0030 2E46     		mov	r6, r5
 102 0032 2846     		mov	r0, r5
 103              	.LVL8:
3200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 104              		.loc 1 3200 52 discriminator 1 view .LVU24
 105 0034 14E0     		b	.L6
 106              	.LVL9:
 107              	.L19:
3154:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* CMD0: GO_IDLE_STATE */
 108              		.loc 1 3154 5 is_stmt 1 view .LVU25
3154:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* CMD0: GO_IDLE_STATE */
 109              		.loc 1 3154 29 is_stmt 0 view .LVU26
 110 0036 0023     		movs	r3, #0
 111 0038 E363     		str	r3, [r4, #60]
3156:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 61


 112              		.loc 1 3156 5 is_stmt 1 view .LVU27
3156:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 113              		.loc 1 3156 18 is_stmt 0 view .LVU28
 114 003a 2068     		ldr	r0, [r4]
 115              	.LVL10:
3156:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 116              		.loc 1 3156 18 view .LVU29
 117 003c FFF7FEFF 		bl	SDMMC_CmdGoIdleState
 118              	.LVL11:
3157:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 119              		.loc 1 3157 5 is_stmt 1 view .LVU30
3157:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 120              		.loc 1 3157 8 is_stmt 0 view .LVU31
 121 0040 0028     		cmp	r0, #0
 122 0042 F2D0     		beq	.L4
3159:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 123              		.loc 1 3159 14 view .LVU32
 124 0044 0546     		mov	r5, r0
 125 0046 E5E7     		b	.L1
 126              	.L5:
3171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 127              		.loc 1 3171 5 is_stmt 1 view .LVU33
3171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 128              		.loc 1 3171 18 is_stmt 0 view .LVU34
 129 0048 0021     		movs	r1, #0
 130 004a 2068     		ldr	r0, [r4]
 131              	.LVL12:
3171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 132              		.loc 1 3171 18 view .LVU35
 133 004c FFF7FEFF 		bl	SDMMC_CmdAppCommand
 134              	.LVL13:
3172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 135              		.loc 1 3172 5 is_stmt 1 view .LVU36
3172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 136              		.loc 1 3172 8 is_stmt 0 view .LVU37
 137 0050 0028     		cmp	r0, #0
 138 0052 EDD0     		beq	.L7
3174:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 139              		.loc 1 3174 14 view .LVU38
 140 0054 4FF08055 		mov	r5, #268435456
 141 0058 DCE7     		b	.L1
 142              	.LVL14:
 143              	.L8:
3202:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 144              		.loc 1 3202 5 is_stmt 1 view .LVU39
3202:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 145              		.loc 1 3202 10 is_stmt 0 view .LVU40
 146 005a 019B     		ldr	r3, [sp, #4]
 147 005c 0133     		adds	r3, r3, #1
 148 005e 0193     		str	r3, [sp, #4]
 149              	.LVL15:
 150              	.L6:
3179:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 151              		.loc 1 3179 41 is_stmt 1 view .LVU41
3179:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 152              		.loc 1 3179 17 is_stmt 0 view .LVU42
 153 0060 019A     		ldr	r2, [sp, #4]
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 62


3179:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 154              		.loc 1 3179 41 view .LVU43
 155 0062 4FF6FE73 		movw	r3, #65534
 156 0066 9A42     		cmp	r2, r3
 157 0068 13D8     		bhi	.L9
3179:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 158              		.loc 1 3179 41 discriminator 1 view .LVU44
 159 006a 96B9     		cbnz	r6, .L9
3182:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 160              		.loc 1 3182 5 is_stmt 1 view .LVU45
3182:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 161              		.loc 1 3182 18 is_stmt 0 view .LVU46
 162 006c 0021     		movs	r1, #0
 163 006e 2068     		ldr	r0, [r4]
 164              	.LVL16:
3182:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 165              		.loc 1 3182 18 view .LVU47
 166 0070 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 167              	.LVL17:
3183:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 168              		.loc 1 3183 5 is_stmt 1 view .LVU48
3183:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 169              		.loc 1 3183 8 is_stmt 0 view .LVU49
 170 0074 D0B9     		cbnz	r0, .L13
3189:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                          SD_SWITCH_1_8V_CAPACITY);
 171              		.loc 1 3189 5 is_stmt 1 view .LVU50
3189:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                          SD_SWITCH_1_8V_CAPACITY);
 172              		.loc 1 3189 18 is_stmt 0 view .LVU51
 173 0076 1249     		ldr	r1, .L20
 174 0078 2068     		ldr	r0, [r4]
 175              	.LVL18:
3189:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                          SD_SWITCH_1_8V_CAPACITY);
 176              		.loc 1 3189 18 view .LVU52
 177 007a FFF7FEFF 		bl	SDMMC_CmdAppOperCommand
 178              	.LVL19:
3191:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 179              		.loc 1 3191 5 is_stmt 1 view .LVU53
3191:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 180              		.loc 1 3191 8 is_stmt 0 view .LVU54
 181 007e 0646     		mov	r6, r0
 182              	.LVL20:
3191:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 183              		.loc 1 3191 8 view .LVU55
 184 0080 B0B9     		cbnz	r0, .L14
3197:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 185              		.loc 1 3197 5 is_stmt 1 view .LVU56
3197:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 186              		.loc 1 3197 16 is_stmt 0 view .LVU57
 187 0082 0021     		movs	r1, #0
 188 0084 2068     		ldr	r0, [r4]
 189              	.LVL21:
3197:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 190              		.loc 1 3197 16 view .LVU58
 191 0086 FFF7FEFF 		bl	SDMMC_GetResponse
 192              	.LVL22:
3200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 193              		.loc 1 3200 5 is_stmt 1 view .LVU59
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 63


3200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 194              		.loc 1 3200 52 is_stmt 0 view .LVU60
 195 008a C30F     		lsrs	r3, r0, #31
 196 008c E5D0     		beq	.L8
3200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 197              		.loc 1 3200 52 discriminator 1 view .LVU61
 198 008e 1E46     		mov	r6, r3
 199              	.LVL23:
3200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 200              		.loc 1 3200 52 discriminator 1 view .LVU62
 201 0090 E3E7     		b	.L8
 202              	.LVL24:
 203              	.L9:
3205:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 204              		.loc 1 3205 3 is_stmt 1 view .LVU63
3205:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 205              		.loc 1 3205 13 is_stmt 0 view .LVU64
 206 0092 019A     		ldr	r2, [sp, #4]
3205:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 207              		.loc 1 3205 6 view .LVU65
 208 0094 4FF6FE73 		movw	r3, #65534
 209 0098 9A42     		cmp	r2, r3
 210 009a 0CD8     		bhi	.L15
3211:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 211              		.loc 1 3211 3 is_stmt 1 view .LVU66
3211:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 212              		.loc 1 3211 24 is_stmt 0 view .LVU67
 213 009c 0023     		movs	r3, #0
 214 009e A363     		str	r3, [r4, #56]
3213:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 215              		.loc 1 3213 3 is_stmt 1 view .LVU68
3213:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 216              		.loc 1 3213 6 is_stmt 0 view .LVU69
 217 00a0 10F08043 		ands	r3, r0, #1073741824
 218 00a4 0AD0     		beq	.L16
3215:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
 219              		.loc 1 3215 5 is_stmt 1 view .LVU70
3215:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
 220              		.loc 1 3215 26 is_stmt 0 view .LVU71
 221 00a6 0123     		movs	r3, #1
 222 00a8 A363     		str	r3, [r4, #56]
 223 00aa B3E7     		b	.L1
 224              	.LVL25:
 225              	.L13:
3185:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 226              		.loc 1 3185 14 view .LVU72
 227 00ac 0546     		mov	r5, r0
 228 00ae B1E7     		b	.L1
 229              	.LVL26:
 230              	.L14:
3193:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 231              		.loc 1 3193 14 view .LVU73
 232 00b0 4FF08055 		mov	r5, #268435456
 233 00b4 AEE7     		b	.L1
 234              	.LVL27:
 235              	.L15:
3207:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 64


 236              		.loc 1 3207 12 view .LVU74
 237 00b6 4FF08075 		mov	r5, #16777216
 238 00ba ABE7     		b	.L1
 239              	.L16:
3294:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 240              		.loc 1 3294 10 view .LVU75
 241 00bc 1D46     		mov	r5, r3
 242 00be A9E7     		b	.L1
 243              	.L21:
 244              		.align	2
 245              	.L20:
 246 00c0 000010C1 		.word	-1055916032
 247              		.cfi_endproc
 248              	.LFE173:
 250              		.section	.text.SD_PowerOFF,"ax",%progbits
 251              		.align	1
 252              		.syntax unified
 253              		.thumb
 254              		.thumb_func
 256              	SD_PowerOFF:
 257              	.LVL28:
 258              	.LFB174:
3296:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3297:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3298:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Turns the SDMMC output signals off.
3299:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
3300:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
3301:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3302:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static void SD_PowerOFF(SD_HandleTypeDef *hsd)
3303:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 259              		.loc 1 3303 1 is_stmt 1 view -0
 260              		.cfi_startproc
 261              		@ args = 0, pretend = 0, frame = 0
 262              		@ frame_needed = 0, uses_anonymous_args = 0
 263              		.loc 1 3303 1 is_stmt 0 view .LVU77
 264 0000 08B5     		push	{r3, lr}
 265              	.LCFI4:
 266              		.cfi_def_cfa_offset 8
 267              		.cfi_offset 3, -8
 268              		.cfi_offset 14, -4
3304:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Power State to OFF */
3305:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_PowerState_OFF(hsd->Instance);
 269              		.loc 1 3305 3 is_stmt 1 view .LVU78
 270              		.loc 1 3305 9 is_stmt 0 view .LVU79
 271 0002 0068     		ldr	r0, [r0]
 272              	.LVL29:
 273              		.loc 1 3305 9 view .LVU80
 274 0004 FFF7FEFF 		bl	SDMMC_PowerState_OFF
 275              	.LVL30:
3306:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 276              		.loc 1 3306 1 view .LVU81
 277 0008 08BD     		pop	{r3, pc}
 278              		.cfi_endproc
 279              	.LFE174:
 281              		.section	.text.SD_Read_IT,"ax",%progbits
 282              		.align	1
 283              		.syntax unified
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 65


 284              		.thumb
 285              		.thumb_func
 287              	SD_Read_IT:
 288              	.LVL31:
 289              	.LFB180:
3307:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3308:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3309:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Send Status info command.
3310:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to SD handle
3311:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pSDstatus: Pointer to the buffer that will contain the SD card status
3312:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         SD Status register)
3313:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval error state
3314:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3315:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_SendSDStatus(SD_HandleTypeDef *hsd, uint32_t *pSDstatus)
3316:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
3317:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
3318:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
3319:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
3320:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
3321:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t *pData = pSDstatus;
3322:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3323:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check SD response */
3324:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
3325:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3326:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
3327:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3328:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3329:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set block size for card if it is not equal to current block size for card */
3330:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
3331:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3332:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_NONE;
3334:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3336:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Send CMD55 */
3338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
3339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3340:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_NONE;
3342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3344:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Configure the SD DPSM (Data Path State Machine) */
3346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataTimeOut   = SDMMC_DATATIMEOUT;
3347:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataLength    = 64U;
3348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B;
3349:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
3350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
3351:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
3352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
3353:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Send ACMD13 (SD_APP_STAUS)  with argument as card's RCA */
3355:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdStatusRegister(hsd->Instance);
3356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3357:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3358:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_NONE;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 66


3359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3360:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3361:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get status data */
3363:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | S
3364:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3365:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF))
3366:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3367:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       for (count = 0U; count < 8U; count++)
3368:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3369:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         *pData = SDMMC_ReadFIFO(hsd->Instance);
3370:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         pData++;
3371:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3372:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3373:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3374:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((HAL_GetTick() - tickstart) >=  SDMMC_SWDATATIMEOUT)
3375:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_SD_ERROR_TIMEOUT;
3377:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3379:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
3381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3382:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_TIMEOUT;
3383:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
3385:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3386:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_CRC_FAIL;
3387:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3388:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
3389:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3390:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_RX_OVERRUN;
3391:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3392:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
3393:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3394:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Nothing to do */
3395:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3396:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3397:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DPSMACT)))
3398:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3399:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     *pData = SDMMC_ReadFIFO(hsd->Instance);
3400:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pData++;
3401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3402:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((HAL_GetTick() - tickstart) >=  SDMMC_SWDATATIMEOUT)
3403:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_SD_ERROR_TIMEOUT;
3405:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3406:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3407:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3408:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Clear all the static status flags*/
3409:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
3410:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3411:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
3412:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
3413:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3414:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3415:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Returns the current card's status.
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 67


3416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
3417:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pCardStatus: pointer to the buffer that will contain the SD card
3418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         status (Card Status register)
3419:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval error state
3420:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3421:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_SendStatus(SD_HandleTypeDef *hsd, uint32_t *pCardStatus)
3422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
3423:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
3424:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3425:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (pCardStatus == NULL)
3426:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3427:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_PARAM;
3428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3429:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3430:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Send Status command */
3431:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdSendStatus(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
3432:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3434:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3435:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3436:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3437:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get SD card status */
3438:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *pCardStatus = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1);
3439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
3441:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
3442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3443:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Enables the SDMMC wide bus mode.
3445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to SD handle
3446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval error state
3447:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3448:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_WideBus_Enable(SD_HandleTypeDef *hsd)
3449:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
3450:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
3451:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
3452:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
3454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3455:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
3456:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3458:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get SCR Register */
3459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, scr);
3460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3461:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3463:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3464:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3465:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* If requested card supports wide bus operation */
3466:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((scr[1U] & SDMMC_WIDE_BUS_SUPPORT) != SDMMC_ALLZERO)
3467:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3468:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD55 APP_CMD with argument as card's RCA.*/
3469:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
3470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3471:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 68


3473:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3474:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3475:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send ACMD6 APP_CMD with argument as 2 for wide bus mode */
3476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBusWidth(hsd->Instance, 2U);
3477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3478:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3480:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3481:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_NONE;
3483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3484:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
3485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3486:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
3487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3488:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
3489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3490:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3491:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Disables the SDMMC wide bus mode.
3492:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
3493:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval error state
3494:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3495:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_WideBus_Disable(SD_HandleTypeDef *hsd)
3496:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
3497:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
3498:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
3499:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
3501:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3502:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
3503:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3504:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get SCR Register */
3506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, scr);
3507:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3508:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3509:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3510:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3512:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* If requested card supports 1 bit mode operation */
3513:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((scr[1U] & SDMMC_SINGLE_BUS_SUPPORT) != SDMMC_ALLZERO)
3514:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3515:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD55 APP_CMD with argument as card's RCA */
3516:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
3517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3518:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3519:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3520:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3521:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3522:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send ACMD6 APP_CMD with argument as 0 for single bus mode */
3523:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBusWidth(hsd->Instance, 0U);
3524:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3525:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3527:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3528:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3529:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_NONE;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 69


3530:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3531:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
3532:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3533:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
3534:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3535:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
3536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3537:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3538:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Finds the SD card SCR register value.
3539:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
3540:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pSCR: pointer to the buffer that will contain the SCR value
3541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval error state
3542:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3543:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_FindSCR(SD_HandleTypeDef *hsd, uint32_t *pSCR)
3544:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
3545:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
3546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
3547:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
3548:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t index = 0U;
3549:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tempscr[2U] = {0UL, 0UL};
3550:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t *scr = pSCR;
3551:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Block Size To 8 Bytes */
3553:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, 8U);
3554:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3555:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3556:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3557:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3558:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3559:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Send CMD55 APP_CMD with argument as card's RCA */
3560:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)((hsd->SdCard.RelCardAdd) << 16U));
3561:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3562:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3563:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3564:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3565:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3566:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataTimeOut   = SDMMC_DATATIMEOUT;
3567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataLength    = 8U;
3568:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_8B;
3569:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
3570:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
3571:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
3572:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
3573:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3574:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Send ACMD51 SD_APP_SEND_SCR with argument as 0 */
3575:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdSendSCR(hsd->Instance);
3576:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3577:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3578:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3579:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3580:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3581:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | S
3582:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                             SDMMC_FLAG_DATAEND))
3583:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3584:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOE)) && (index == 0U))
3585:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3586:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tempscr[0] = SDMMC_ReadFIFO(hsd->Instance);
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 70


3587:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tempscr[1] = SDMMC_ReadFIFO(hsd->Instance);
3588:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       index++;
3589:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3590:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3591:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((HAL_GetTick() - tickstart) >=  SDMMC_SWDATATIMEOUT)
3592:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3593:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_SD_ERROR_TIMEOUT;
3594:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3595:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3596:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
3598:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3599:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DTIMEOUT);
3600:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3601:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_TIMEOUT;
3602:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3603:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
3604:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3605:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DCRCFAIL);
3606:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3607:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_CRC_FAIL;
3608:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3609:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
3610:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3611:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_RXOVERR);
3612:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3613:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_RX_OVERRUN;
3614:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3615:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
3616:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3617:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* No error flag set */
3618:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
3619:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
3620:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3621:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     *scr = (((tempscr[1] & SDMMC_0TO7BITS) << 24U)  | ((tempscr[1] & SDMMC_8TO15BITS) << 8U) | \
3622:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8U) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24U));
3623:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     scr++;
3624:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     *scr = (((tempscr[0] & SDMMC_0TO7BITS) << 24U)  | ((tempscr[0] & SDMMC_8TO15BITS) << 8U) | \
3625:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8U) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24U));
3626:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3627:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3628:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3629:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
3630:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
3631:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3632:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3633:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Wrap up reading in non-blocking mode.
3634:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to a SD_HandleTypeDef structure that contains
3635:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *              the configuration information.
3636:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
3637:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3638:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static void SD_Read_IT(SD_HandleTypeDef *hsd)
3639:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 290              		.loc 1 3639 1 is_stmt 1 view -0
 291              		.cfi_startproc
 292              		@ args = 0, pretend = 0, frame = 0
 293              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 71


 294              		.loc 1 3639 1 is_stmt 0 view .LVU83
 295 0000 70B5     		push	{r4, r5, r6, lr}
 296              	.LCFI5:
 297              		.cfi_def_cfa_offset 16
 298              		.cfi_offset 4, -16
 299              		.cfi_offset 5, -12
 300              		.cfi_offset 6, -8
 301              		.cfi_offset 14, -4
3640:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 302              		.loc 1 3640 3 is_stmt 1 view .LVU84
3641:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t data;
 303              		.loc 1 3641 3 view .LVU85
3642:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint8_t *tmp;
 304              		.loc 1 3642 3 view .LVU86
3643:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3644:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   tmp = hsd->pRxBuffPtr;
 305              		.loc 1 3644 3 view .LVU87
 306              		.loc 1 3644 7 is_stmt 0 view .LVU88
 307 0002 446A     		ldr	r4, [r0, #36]
 308              	.LVL32:
3645:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3646:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->RxXferSize >= SDMMC_FIFO_SIZE)
 309              		.loc 1 3646 3 is_stmt 1 view .LVU89
 310              		.loc 1 3646 10 is_stmt 0 view .LVU90
 311 0004 836A     		ldr	r3, [r0, #40]
 312              		.loc 1 3646 6 view .LVU91
 313 0006 1F2B     		cmp	r3, #31
 314 0008 15D8     		bhi	.L28
 315              	.LVL33:
 316              	.L24:
3647:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3648:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Read data from SDMMC Rx FIFO */
3649:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     for (count = 0U; count < (SDMMC_FIFO_SIZE / 4U); count++)
3650:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3651:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       data = SDMMC_ReadFIFO(hsd->Instance);
3652:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       *tmp = (uint8_t)(data & 0xFFU);
3653:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
3654:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 8U) & 0xFFU);
3655:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
3656:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 16U) & 0xFFU);
3657:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
3658:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 24U) & 0xFFU);
3659:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
3660:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3661:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3662:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->pRxBuffPtr = tmp;
3663:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize -= SDMMC_FIFO_SIZE;
3664:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3665:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 317              		.loc 1 3665 1 view .LVU92
 318 000a 70BD     		pop	{r4, r5, r6, pc}
 319              	.LVL34:
 320              	.L27:
3651:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       *tmp = (uint8_t)(data & 0xFFU);
 321              		.loc 1 3651 7 is_stmt 1 view .LVU93
3651:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       *tmp = (uint8_t)(data & 0xFFU);
 322              		.loc 1 3651 14 is_stmt 0 view .LVU94
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 72


 323 000c 3068     		ldr	r0, [r6]
 324 000e FFF7FEFF 		bl	SDMMC_ReadFIFO
 325              	.LVL35:
3652:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 326              		.loc 1 3652 7 is_stmt 1 view .LVU95
3652:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 327              		.loc 1 3652 12 is_stmt 0 view .LVU96
 328 0012 2070     		strb	r0, [r4]
3653:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 8U) & 0xFFU);
 329              		.loc 1 3653 7 is_stmt 1 view .LVU97
 330              	.LVL36:
3654:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 331              		.loc 1 3654 7 view .LVU98
3654:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 332              		.loc 1 3654 14 is_stmt 0 view .LVU99
 333 0014 C0F30723 		ubfx	r3, r0, #8, #8
3654:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 334              		.loc 1 3654 12 view .LVU100
 335 0018 6370     		strb	r3, [r4, #1]
3655:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 16U) & 0xFFU);
 336              		.loc 1 3655 7 is_stmt 1 view .LVU101
 337              	.LVL37:
3656:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 338              		.loc 1 3656 7 view .LVU102
3656:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 339              		.loc 1 3656 14 is_stmt 0 view .LVU103
 340 001a C0F30743 		ubfx	r3, r0, #16, #8
3656:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 341              		.loc 1 3656 12 view .LVU104
 342 001e A370     		strb	r3, [r4, #2]
3657:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 24U) & 0xFFU);
 343              		.loc 1 3657 7 is_stmt 1 view .LVU105
 344              	.LVL38:
3658:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 345              		.loc 1 3658 7 view .LVU106
3658:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 346              		.loc 1 3658 14 is_stmt 0 view .LVU107
 347 0020 000E     		lsrs	r0, r0, #24
 348              	.LVL39:
3658:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 349              		.loc 1 3658 12 view .LVU108
 350 0022 E070     		strb	r0, [r4, #3]
3659:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 351              		.loc 1 3659 7 is_stmt 1 view .LVU109
3659:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 352              		.loc 1 3659 10 is_stmt 0 view .LVU110
 353 0024 0434     		adds	r4, r4, #4
 354              	.LVL40:
3649:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 355              		.loc 1 3649 59 is_stmt 1 discriminator 3 view .LVU111
 356 0026 0135     		adds	r5, r5, #1
 357              	.LVL41:
 358              	.L25:
3649:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 359              		.loc 1 3649 28 discriminator 1 view .LVU112
 360 0028 072D     		cmp	r5, #7
 361 002a EFD9     		bls	.L27
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 73


3662:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize -= SDMMC_FIFO_SIZE;
 362              		.loc 1 3662 5 view .LVU113
3662:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize -= SDMMC_FIFO_SIZE;
 363              		.loc 1 3662 21 is_stmt 0 view .LVU114
 364 002c 7462     		str	r4, [r6, #36]
3663:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 365              		.loc 1 3663 5 is_stmt 1 view .LVU115
3663:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 366              		.loc 1 3663 8 is_stmt 0 view .LVU116
 367 002e B36A     		ldr	r3, [r6, #40]
3663:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 368              		.loc 1 3663 21 view .LVU117
 369 0030 203B     		subs	r3, r3, #32
 370 0032 B362     		str	r3, [r6, #40]
 371              		.loc 1 3665 1 view .LVU118
 372 0034 E9E7     		b	.L24
 373              	.LVL42:
 374              	.L28:
 375              		.loc 1 3665 1 view .LVU119
 376 0036 0646     		mov	r6, r0
3649:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 377              		.loc 1 3649 16 view .LVU120
 378 0038 0025     		movs	r5, #0
 379 003a F5E7     		b	.L25
 380              		.cfi_endproc
 381              	.LFE180:
 383              		.section	.text.SD_Write_IT,"ax",%progbits
 384              		.align	1
 385              		.syntax unified
 386              		.thumb
 387              		.thumb_func
 389              	SD_Write_IT:
 390              	.LVL43:
 391              	.LFB181:
3666:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3667:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3668:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Wrap up writing in non-blocking mode.
3669:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to a SD_HandleTypeDef structure that contains
3670:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *              the configuration information.
3671:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
3672:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3673:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static void SD_Write_IT(SD_HandleTypeDef *hsd)
3674:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 392              		.loc 1 3674 1 is_stmt 1 view -0
 393              		.cfi_startproc
 394              		@ args = 0, pretend = 0, frame = 8
 395              		@ frame_needed = 0, uses_anonymous_args = 0
 396              		.loc 1 3674 1 is_stmt 0 view .LVU122
 397 0000 70B5     		push	{r4, r5, r6, lr}
 398              	.LCFI6:
 399              		.cfi_def_cfa_offset 16
 400              		.cfi_offset 4, -16
 401              		.cfi_offset 5, -12
 402              		.cfi_offset 6, -8
 403              		.cfi_offset 14, -4
 404 0002 82B0     		sub	sp, sp, #8
 405              	.LCFI7:
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 74


 406              		.cfi_def_cfa_offset 24
3675:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 407              		.loc 1 3675 3 is_stmt 1 view .LVU123
3676:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t data;
 408              		.loc 1 3676 3 view .LVU124
3677:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   const uint8_t *tmp;
 409              		.loc 1 3677 3 view .LVU125
3678:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3679:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   tmp = hsd->pTxBuffPtr;
 410              		.loc 1 3679 3 view .LVU126
 411              		.loc 1 3679 7 is_stmt 0 view .LVU127
 412 0004 C469     		ldr	r4, [r0, #28]
 413              	.LVL44:
3680:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3681:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->TxXferSize >= SDMMC_FIFO_SIZE)
 414              		.loc 1 3681 3 is_stmt 1 view .LVU128
 415              		.loc 1 3681 10 is_stmt 0 view .LVU129
 416 0006 036A     		ldr	r3, [r0, #32]
 417              		.loc 1 3681 6 view .LVU130
 418 0008 1F2B     		cmp	r3, #31
 419 000a 1CD8     		bhi	.L34
 420              	.LVL45:
 421              	.L30:
3682:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3683:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Write data to SDMMC Tx FIFO */
3684:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     for (count = 0U; count < (SDMMC_FIFO_SIZE / 4U); count++)
3685:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3686:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       data = (uint32_t)(*tmp);
3687:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
3688:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 8U);
3689:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
3690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 16U);
3691:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
3692:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 24U);
3693:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
3694:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (void)SDMMC_WriteFIFO(hsd->Instance, &data);
3695:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3696:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3697:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->pTxBuffPtr = tmp;
3698:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize -= SDMMC_FIFO_SIZE;
3699:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3700:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 422              		.loc 1 3700 1 view .LVU131
 423 000c 02B0     		add	sp, sp, #8
 424              	.LCFI8:
 425              		.cfi_remember_state
 426              		.cfi_def_cfa_offset 16
 427              		@ sp needed
 428 000e 70BD     		pop	{r4, r5, r6, pc}
 429              	.LVL46:
 430              	.L33:
 431              	.LCFI9:
 432              		.cfi_restore_state
3686:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 433              		.loc 1 3686 7 is_stmt 1 view .LVU132
3686:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 434              		.loc 1 3686 25 is_stmt 0 view .LVU133
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 75


 435 0010 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
3686:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 436              		.loc 1 3686 12 view .LVU134
 437 0012 0193     		str	r3, [sp, #4]
3687:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 8U);
 438              		.loc 1 3687 7 is_stmt 1 view .LVU135
 439              	.LVL47:
3688:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 440              		.loc 1 3688 7 view .LVU136
3688:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 441              		.loc 1 3688 27 is_stmt 0 view .LVU137
 442 0014 6278     		ldrb	r2, [r4, #1]	@ zero_extendqisi2
3688:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 443              		.loc 1 3688 12 view .LVU138
 444 0016 43EA0223 		orr	r3, r3, r2, lsl #8
 445 001a 0193     		str	r3, [sp, #4]
3689:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 16U);
 446              		.loc 1 3689 7 is_stmt 1 view .LVU139
 447              	.LVL48:
3690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 448              		.loc 1 3690 7 view .LVU140
3690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 449              		.loc 1 3690 27 is_stmt 0 view .LVU141
 450 001c A278     		ldrb	r2, [r4, #2]	@ zero_extendqisi2
3690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 451              		.loc 1 3690 12 view .LVU142
 452 001e 43EA0243 		orr	r3, r3, r2, lsl #16
 453 0022 0193     		str	r3, [sp, #4]
3691:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 24U);
 454              		.loc 1 3691 7 is_stmt 1 view .LVU143
 455              	.LVL49:
3692:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 456              		.loc 1 3692 7 view .LVU144
3692:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 457              		.loc 1 3692 27 is_stmt 0 view .LVU145
 458 0024 E278     		ldrb	r2, [r4, #3]	@ zero_extendqisi2
3692:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 459              		.loc 1 3692 12 view .LVU146
 460 0026 43EA0263 		orr	r3, r3, r2, lsl #24
 461 002a 0193     		str	r3, [sp, #4]
3693:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (void)SDMMC_WriteFIFO(hsd->Instance, &data);
 462              		.loc 1 3693 7 is_stmt 1 view .LVU147
3693:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (void)SDMMC_WriteFIFO(hsd->Instance, &data);
 463              		.loc 1 3693 10 is_stmt 0 view .LVU148
 464 002c 0434     		adds	r4, r4, #4
 465              	.LVL50:
3694:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 466              		.loc 1 3694 7 is_stmt 1 view .LVU149
3694:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 467              		.loc 1 3694 13 is_stmt 0 view .LVU150
 468 002e 01A9     		add	r1, sp, #4
 469 0030 3068     		ldr	r0, [r6]
 470 0032 FFF7FEFF 		bl	SDMMC_WriteFIFO
 471              	.LVL51:
3684:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 472              		.loc 1 3684 59 is_stmt 1 discriminator 3 view .LVU151
 473 0036 0135     		adds	r5, r5, #1
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 76


 474              	.LVL52:
 475              	.L31:
3684:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 476              		.loc 1 3684 28 discriminator 1 view .LVU152
 477 0038 072D     		cmp	r5, #7
 478 003a E9D9     		bls	.L33
3697:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize -= SDMMC_FIFO_SIZE;
 479              		.loc 1 3697 5 view .LVU153
3697:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize -= SDMMC_FIFO_SIZE;
 480              		.loc 1 3697 21 is_stmt 0 view .LVU154
 481 003c F461     		str	r4, [r6, #28]
3698:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 482              		.loc 1 3698 5 is_stmt 1 view .LVU155
3698:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 483              		.loc 1 3698 8 is_stmt 0 view .LVU156
 484 003e 336A     		ldr	r3, [r6, #32]
3698:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 485              		.loc 1 3698 21 view .LVU157
 486 0040 203B     		subs	r3, r3, #32
 487 0042 3362     		str	r3, [r6, #32]
 488              		.loc 1 3700 1 view .LVU158
 489 0044 E2E7     		b	.L30
 490              	.LVL53:
 491              	.L34:
 492              		.loc 1 3700 1 view .LVU159
 493 0046 0646     		mov	r6, r0
3684:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 494              		.loc 1 3684 16 view .LVU160
 495 0048 0025     		movs	r5, #0
 496 004a F5E7     		b	.L31
 497              		.cfi_endproc
 498              	.LFE181:
 500              		.section	.text.SD_SendSDStatus,"ax",%progbits
 501              		.align	1
 502              		.syntax unified
 503              		.thumb
 504              		.thumb_func
 506              	SD_SendSDStatus:
 507              	.LVL54:
 508              	.LFB175:
3316:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 509              		.loc 1 3316 1 is_stmt 1 view -0
 510              		.cfi_startproc
 511              		@ args = 0, pretend = 0, frame = 24
 512              		@ frame_needed = 0, uses_anonymous_args = 0
3316:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 513              		.loc 1 3316 1 is_stmt 0 view .LVU162
 514 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 515              	.LCFI10:
 516              		.cfi_def_cfa_offset 20
 517              		.cfi_offset 4, -20
 518              		.cfi_offset 5, -16
 519              		.cfi_offset 6, -12
 520              		.cfi_offset 7, -8
 521              		.cfi_offset 14, -4
 522 0002 87B0     		sub	sp, sp, #28
 523              	.LCFI11:
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 77


 524              		.cfi_def_cfa_offset 48
 525 0004 0546     		mov	r5, r0
 526 0006 0E46     		mov	r6, r1
3317:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 527              		.loc 1 3317 3 is_stmt 1 view .LVU163
3318:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 528              		.loc 1 3318 3 view .LVU164
3319:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 529              		.loc 1 3319 3 view .LVU165
3319:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 530              		.loc 1 3319 24 is_stmt 0 view .LVU166
 531 0008 FFF7FEFF 		bl	HAL_GetTick
 532              	.LVL55:
3319:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 533              		.loc 1 3319 24 view .LVU167
 534 000c 0746     		mov	r7, r0
 535              	.LVL56:
3320:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t *pData = pSDstatus;
 536              		.loc 1 3320 3 is_stmt 1 view .LVU168
3321:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 537              		.loc 1 3321 3 view .LVU169
3324:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 538              		.loc 1 3324 3 view .LVU170
3324:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 539              		.loc 1 3324 8 is_stmt 0 view .LVU171
 540 000e 0021     		movs	r1, #0
 541 0010 2868     		ldr	r0, [r5]
 542              	.LVL57:
3324:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 543              		.loc 1 3324 8 view .LVU172
 544 0012 FFF7FEFF 		bl	SDMMC_GetResponse
 545              	.LVL58:
3324:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 546              		.loc 1 3324 6 discriminator 1 view .LVU173
 547 0016 10F0007F 		tst	r0, #33554432
 548 001a 64D1     		bne	.L47
3330:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 549              		.loc 1 3330 3 is_stmt 1 view .LVU174
3330:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 550              		.loc 1 3330 16 is_stmt 0 view .LVU175
 551 001c 4021     		movs	r1, #64
 552 001e 2868     		ldr	r0, [r5]
 553 0020 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 554              	.LVL59:
3331:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 555              		.loc 1 3331 3 is_stmt 1 view .LVU176
3331:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 556              		.loc 1 3331 6 is_stmt 0 view .LVU177
 557 0024 0346     		mov	r3, r0
 558 0026 10B1     		cbz	r0, .L38
3333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 559              		.loc 1 3333 5 is_stmt 1 view .LVU178
3333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 560              		.loc 1 3333 8 is_stmt 0 view .LVU179
 561 0028 6A6B     		ldr	r2, [r5, #52]
3333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 562              		.loc 1 3333 20 view .LVU180
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 78


 563 002a 6A63     		str	r2, [r5, #52]
3334:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 564              		.loc 1 3334 5 is_stmt 1 view .LVU181
3334:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 565              		.loc 1 3334 12 is_stmt 0 view .LVU182
 566 002c 5DE0     		b	.L36
 567              	.L38:
3338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 568              		.loc 1 3338 3 is_stmt 1 view .LVU183
3338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 569              		.loc 1 3338 73 is_stmt 0 view .LVU184
 570 002e 696C     		ldr	r1, [r5, #68]
3338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 571              		.loc 1 3338 16 view .LVU185
 572 0030 0904     		lsls	r1, r1, #16
 573 0032 2868     		ldr	r0, [r5]
 574              	.LVL60:
3338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 575              		.loc 1 3338 16 view .LVU186
 576 0034 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 577              	.LVL61:
3339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 578              		.loc 1 3339 3 is_stmt 1 view .LVU187
3339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 579              		.loc 1 3339 6 is_stmt 0 view .LVU188
 580 0038 0346     		mov	r3, r0
 581 003a 10B1     		cbz	r0, .L39
3341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 582              		.loc 1 3341 5 is_stmt 1 view .LVU189
3341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 583              		.loc 1 3341 8 is_stmt 0 view .LVU190
 584 003c 6A6B     		ldr	r2, [r5, #52]
3341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 585              		.loc 1 3341 20 view .LVU191
 586 003e 6A63     		str	r2, [r5, #52]
3342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 587              		.loc 1 3342 5 is_stmt 1 view .LVU192
3342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 588              		.loc 1 3342 12 is_stmt 0 view .LVU193
 589 0040 53E0     		b	.L36
 590              	.L39:
3346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataLength    = 64U;
 591              		.loc 1 3346 3 is_stmt 1 view .LVU194
3346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataLength    = 64U;
 592              		.loc 1 3346 24 is_stmt 0 view .LVU195
 593 0042 4FF0FF33 		mov	r3, #-1
 594 0046 0093     		str	r3, [sp]
3347:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B;
 595              		.loc 1 3347 3 is_stmt 1 view .LVU196
3347:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B;
 596              		.loc 1 3347 24 is_stmt 0 view .LVU197
 597 0048 4023     		movs	r3, #64
 598 004a 0193     		str	r3, [sp, #4]
3348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 599              		.loc 1 3348 3 is_stmt 1 view .LVU198
3348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 600              		.loc 1 3348 24 is_stmt 0 view .LVU199
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 79


 601 004c 6023     		movs	r3, #96
 602 004e 0293     		str	r3, [sp, #8]
3349:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 603              		.loc 1 3349 3 is_stmt 1 view .LVU200
3349:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 604              		.loc 1 3349 24 is_stmt 0 view .LVU201
 605 0050 0223     		movs	r3, #2
 606 0052 0393     		str	r3, [sp, #12]
3350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
 607              		.loc 1 3350 3 is_stmt 1 view .LVU202
3350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
 608              		.loc 1 3350 24 is_stmt 0 view .LVU203
 609 0054 0023     		movs	r3, #0
 610 0056 0493     		str	r3, [sp, #16]
3351:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
 611              		.loc 1 3351 3 is_stmt 1 view .LVU204
3351:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
 612              		.loc 1 3351 24 is_stmt 0 view .LVU205
 613 0058 0123     		movs	r3, #1
 614 005a 0593     		str	r3, [sp, #20]
3352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 615              		.loc 1 3352 3 is_stmt 1 view .LVU206
3352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 616              		.loc 1 3352 9 is_stmt 0 view .LVU207
 617 005c 6946     		mov	r1, sp
 618 005e 2868     		ldr	r0, [r5]
 619              	.LVL62:
3352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 620              		.loc 1 3352 9 view .LVU208
 621 0060 FFF7FEFF 		bl	SDMMC_ConfigData
 622              	.LVL63:
3355:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 623              		.loc 1 3355 3 is_stmt 1 view .LVU209
3355:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 624              		.loc 1 3355 16 is_stmt 0 view .LVU210
 625 0064 2868     		ldr	r0, [r5]
 626 0066 FFF7FEFF 		bl	SDMMC_CmdStatusRegister
 627              	.LVL64:
3356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 628              		.loc 1 3356 3 is_stmt 1 view .LVU211
3356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 629              		.loc 1 3356 6 is_stmt 0 view .LVU212
 630 006a 0346     		mov	r3, r0
 631 006c 80B1     		cbz	r0, .L40
3358:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 632              		.loc 1 3358 5 is_stmt 1 view .LVU213
3358:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 633              		.loc 1 3358 8 is_stmt 0 view .LVU214
 634 006e 6A6B     		ldr	r2, [r5, #52]
3358:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 635              		.loc 1 3358 20 view .LVU215
 636 0070 6A63     		str	r2, [r5, #52]
3359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 637              		.loc 1 3359 5 is_stmt 1 view .LVU216
3359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 638              		.loc 1 3359 12 is_stmt 0 view .LVU217
 639 0072 3AE0     		b	.L36
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 80


 640              	.LVL65:
 641              	.L43:
3369:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         pData++;
 642              		.loc 1 3369 9 is_stmt 1 view .LVU218
3369:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         pData++;
 643              		.loc 1 3369 18 is_stmt 0 view .LVU219
 644 0074 2868     		ldr	r0, [r5]
 645 0076 FFF7FEFF 		bl	SDMMC_ReadFIFO
 646              	.LVL66:
3369:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         pData++;
 647              		.loc 1 3369 16 discriminator 1 view .LVU220
 648 007a 46F8040B 		str	r0, [r6], #4
 649              	.LVL67:
3370:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 650              		.loc 1 3370 9 is_stmt 1 view .LVU221
3367:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 651              		.loc 1 3367 41 discriminator 3 view .LVU222
 652 007e 0134     		adds	r4, r4, #1
 653              	.LVL68:
 654              	.L41:
3367:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 655              		.loc 1 3367 30 discriminator 1 view .LVU223
 656 0080 072C     		cmp	r4, #7
 657 0082 F7D9     		bls	.L43
 658              	.LVL69:
 659              	.L42:
3374:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 660              		.loc 1 3374 5 view .LVU224
3374:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 661              		.loc 1 3374 10 is_stmt 0 view .LVU225
 662 0084 FFF7FEFF 		bl	HAL_GetTick
 663              	.LVL70:
3374:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 664              		.loc 1 3374 24 discriminator 1 view .LVU226
 665 0088 C01B     		subs	r0, r0, r7
3374:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 666              		.loc 1 3374 8 discriminator 1 view .LVU227
 667 008a B0F1FF3F 		cmp	r0, #-1
 668 008e 2FD0     		beq	.L48
 669              	.L40:
3363:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 670              		.loc 1 3363 10 is_stmt 1 view .LVU228
3363:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 671              		.loc 1 3363 11 is_stmt 0 view .LVU229
 672 0090 2B68     		ldr	r3, [r5]
 673 0092 5C6B     		ldr	r4, [r3, #52]
3363:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 674              		.loc 1 3363 10 view .LVU230
 675 0094 14F49574 		ands	r4, r4, #298
 676 0098 04D1     		bne	.L54
3365:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 677              		.loc 1 3365 5 is_stmt 1 view .LVU231
3365:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 678              		.loc 1 3365 9 is_stmt 0 view .LVU232
 679 009a 5B6B     		ldr	r3, [r3, #52]
3365:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 680              		.loc 1 3365 8 view .LVU233
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 81


 681 009c 13F4004F 		tst	r3, #32768
 682 00a0 F0D0     		beq	.L42
 683 00a2 EDE7     		b	.L41
 684              	.L54:
3380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 685              		.loc 1 3380 3 is_stmt 1 view .LVU234
3380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 686              		.loc 1 3380 7 is_stmt 0 view .LVU235
 687 00a4 5A6B     		ldr	r2, [r3, #52]
3380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 688              		.loc 1 3380 6 view .LVU236
 689 00a6 12F0080F 		tst	r2, #8
 690 00aa 24D1     		bne	.L49
3384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 691              		.loc 1 3384 8 is_stmt 1 view .LVU237
3384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 692              		.loc 1 3384 12 is_stmt 0 view .LVU238
 693 00ac 5A6B     		ldr	r2, [r3, #52]
3384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 694              		.loc 1 3384 11 view .LVU239
 695 00ae 12F0020F 		tst	r2, #2
 696 00b2 22D1     		bne	.L50
3388:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 697              		.loc 1 3388 8 is_stmt 1 view .LVU240
3388:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 698              		.loc 1 3388 12 is_stmt 0 view .LVU241
 699 00b4 5B6B     		ldr	r3, [r3, #52]
3388:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 700              		.loc 1 3388 11 view .LVU242
 701 00b6 13F0200F 		tst	r3, #32
 702 00ba 20D1     		bne	.L55
 703              	.L45:
3397:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 704              		.loc 1 3397 11 is_stmt 1 view .LVU243
 705 00bc 2868     		ldr	r0, [r5]
 706 00be 436B     		ldr	r3, [r0, #52]
 707 00c0 13F48053 		ands	r3, r3, #4096
 708 00c4 0CD0     		beq	.L56
3399:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pData++;
 709              		.loc 1 3399 5 view .LVU244
3399:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pData++;
 710              		.loc 1 3399 14 is_stmt 0 view .LVU245
 711 00c6 FFF7FEFF 		bl	SDMMC_ReadFIFO
 712              	.LVL71:
3399:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pData++;
 713              		.loc 1 3399 12 discriminator 1 view .LVU246
 714 00ca 46F8040B 		str	r0, [r6], #4
 715              	.LVL72:
3400:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 716              		.loc 1 3400 5 is_stmt 1 view .LVU247
3402:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 717              		.loc 1 3402 5 view .LVU248
3402:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 718              		.loc 1 3402 10 is_stmt 0 view .LVU249
 719 00ce FFF7FEFF 		bl	HAL_GetTick
 720              	.LVL73:
3402:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 82


 721              		.loc 1 3402 24 discriminator 1 view .LVU250
 722 00d2 C01B     		subs	r0, r0, r7
3402:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 723              		.loc 1 3402 8 discriminator 1 view .LVU251
 724 00d4 B0F1FF3F 		cmp	r0, #-1
 725 00d8 F0D1     		bne	.L45
3404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 726              		.loc 1 3404 14 view .LVU252
 727 00da 4FF00043 		mov	r3, #-2147483648
 728 00de 04E0     		b	.L36
 729              	.L56:
3409:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 730              		.loc 1 3409 3 is_stmt 1 view .LVU253
 731 00e0 084A     		ldr	r2, .L57
 732 00e2 8263     		str	r2, [r0, #56]
3411:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 733              		.loc 1 3411 3 view .LVU254
3411:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 734              		.loc 1 3411 10 is_stmt 0 view .LVU255
 735 00e4 01E0     		b	.L36
 736              	.LVL74:
 737              	.L47:
3326:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 738              		.loc 1 3326 12 view .LVU256
 739 00e6 4FF40063 		mov	r3, #2048
 740              	.LVL75:
 741              	.L36:
3412:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 742              		.loc 1 3412 1 view .LVU257
 743 00ea 1846     		mov	r0, r3
 744 00ec 07B0     		add	sp, sp, #28
 745              	.LCFI12:
 746              		.cfi_remember_state
 747              		.cfi_def_cfa_offset 20
 748              		@ sp needed
 749 00ee F0BD     		pop	{r4, r5, r6, r7, pc}
 750              	.LVL76:
 751              	.L48:
 752              	.LCFI13:
 753              		.cfi_restore_state
3376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 754              		.loc 1 3376 14 view .LVU258
 755 00f0 4FF00043 		mov	r3, #-2147483648
 756 00f4 F9E7     		b	.L36
 757              	.L49:
3382:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 758              		.loc 1 3382 12 view .LVU259
 759 00f6 0823     		movs	r3, #8
 760 00f8 F7E7     		b	.L36
 761              	.L50:
3386:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 762              		.loc 1 3386 12 view .LVU260
 763 00fa 0223     		movs	r3, #2
 764 00fc F5E7     		b	.L36
 765              	.L55:
3390:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 766              		.loc 1 3390 12 view .LVU261
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 83


 767 00fe 2023     		movs	r3, #32
 768 0100 F3E7     		b	.L36
 769              	.L58:
 770 0102 00BF     		.align	2
 771              	.L57:
 772 0104 3A0F0018 		.word	402657082
 773              		.cfi_endproc
 774              	.LFE175:
 776              		.section	.text.SD_FindSCR,"ax",%progbits
 777              		.align	1
 778              		.syntax unified
 779              		.thumb
 780              		.thumb_func
 782              	SD_FindSCR:
 783              	.LVL77:
 784              	.LFB179:
3544:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 785              		.loc 1 3544 1 is_stmt 1 view -0
 786              		.cfi_startproc
 787              		@ args = 0, pretend = 0, frame = 32
 788              		@ frame_needed = 0, uses_anonymous_args = 0
3544:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 789              		.loc 1 3544 1 is_stmt 0 view .LVU263
 790 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 791              	.LCFI14:
 792              		.cfi_def_cfa_offset 20
 793              		.cfi_offset 4, -20
 794              		.cfi_offset 5, -16
 795              		.cfi_offset 6, -12
 796              		.cfi_offset 7, -8
 797              		.cfi_offset 14, -4
 798 0002 89B0     		sub	sp, sp, #36
 799              	.LCFI15:
 800              		.cfi_def_cfa_offset 56
 801 0004 0446     		mov	r4, r0
 802 0006 0F46     		mov	r7, r1
3545:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 803              		.loc 1 3545 3 is_stmt 1 view .LVU264
3546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 804              		.loc 1 3546 3 view .LVU265
3547:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t index = 0U;
 805              		.loc 1 3547 3 view .LVU266
3547:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t index = 0U;
 806              		.loc 1 3547 24 is_stmt 0 view .LVU267
 807 0008 FFF7FEFF 		bl	HAL_GetTick
 808              	.LVL78:
3547:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t index = 0U;
 809              		.loc 1 3547 24 view .LVU268
 810 000c 0546     		mov	r5, r0
 811              	.LVL79:
3548:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tempscr[2U] = {0UL, 0UL};
 812              		.loc 1 3548 3 is_stmt 1 view .LVU269
3549:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t *scr = pSCR;
 813              		.loc 1 3549 3 view .LVU270
3549:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t *scr = pSCR;
 814              		.loc 1 3549 12 is_stmt 0 view .LVU271
 815 000e 0023     		movs	r3, #0
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 84


 816 0010 0093     		str	r3, [sp]
 817 0012 0193     		str	r3, [sp, #4]
3550:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 818              		.loc 1 3550 3 is_stmt 1 view .LVU272
 819              	.LVL80:
3553:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 820              		.loc 1 3553 3 view .LVU273
3553:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 821              		.loc 1 3553 16 is_stmt 0 view .LVU274
 822 0014 0821     		movs	r1, #8
 823 0016 2068     		ldr	r0, [r4]
 824              	.LVL81:
3553:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 825              		.loc 1 3553 16 view .LVU275
 826 0018 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 827              	.LVL82:
3554:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 828              		.loc 1 3554 3 is_stmt 1 view .LVU276
3554:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 829              		.loc 1 3554 6 is_stmt 0 view .LVU277
 830 001c 0646     		mov	r6, r0
 831 001e 10B1     		cbz	r0, .L69
 832              	.LVL83:
 833              	.L59:
3630:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 834              		.loc 1 3630 1 view .LVU278
 835 0020 3046     		mov	r0, r6
 836 0022 09B0     		add	sp, sp, #36
 837              	.LCFI16:
 838              		.cfi_remember_state
 839              		.cfi_def_cfa_offset 20
 840              		@ sp needed
 841 0024 F0BD     		pop	{r4, r5, r6, r7, pc}
 842              	.LVL84:
 843              	.L69:
 844              	.LCFI17:
 845              		.cfi_restore_state
3560:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 846              		.loc 1 3560 3 is_stmt 1 view .LVU279
3560:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 847              		.loc 1 3560 74 is_stmt 0 view .LVU280
 848 0026 616C     		ldr	r1, [r4, #68]
3560:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 849              		.loc 1 3560 16 view .LVU281
 850 0028 0904     		lsls	r1, r1, #16
 851 002a 2068     		ldr	r0, [r4]
 852              	.LVL85:
3560:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 853              		.loc 1 3560 16 view .LVU282
 854 002c FFF7FEFF 		bl	SDMMC_CmdAppCommand
 855              	.LVL86:
3561:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 856              		.loc 1 3561 3 is_stmt 1 view .LVU283
3561:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 857              		.loc 1 3561 6 is_stmt 0 view .LVU284
 858 0030 0646     		mov	r6, r0
 859 0032 0028     		cmp	r0, #0
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 85


 860 0034 F4D1     		bne	.L59
3566:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataLength    = 8U;
 861              		.loc 1 3566 3 is_stmt 1 view .LVU285
3566:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataLength    = 8U;
 862              		.loc 1 3566 24 is_stmt 0 view .LVU286
 863 0036 4FF0FF33 		mov	r3, #-1
 864 003a 0293     		str	r3, [sp, #8]
3567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_8B;
 865              		.loc 1 3567 3 is_stmt 1 view .LVU287
3567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_8B;
 866              		.loc 1 3567 24 is_stmt 0 view .LVU288
 867 003c 0823     		movs	r3, #8
 868 003e 0393     		str	r3, [sp, #12]
3568:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 869              		.loc 1 3568 3 is_stmt 1 view .LVU289
3568:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 870              		.loc 1 3568 24 is_stmt 0 view .LVU290
 871 0040 3023     		movs	r3, #48
 872 0042 0493     		str	r3, [sp, #16]
3569:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 873              		.loc 1 3569 3 is_stmt 1 view .LVU291
3569:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 874              		.loc 1 3569 24 is_stmt 0 view .LVU292
 875 0044 0223     		movs	r3, #2
 876 0046 0593     		str	r3, [sp, #20]
3570:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
 877              		.loc 1 3570 3 is_stmt 1 view .LVU293
3570:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
 878              		.loc 1 3570 24 is_stmt 0 view .LVU294
 879 0048 0023     		movs	r3, #0
 880 004a 0693     		str	r3, [sp, #24]
3571:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
 881              		.loc 1 3571 3 is_stmt 1 view .LVU295
3571:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
 882              		.loc 1 3571 24 is_stmt 0 view .LVU296
 883 004c 0123     		movs	r3, #1
 884 004e 0793     		str	r3, [sp, #28]
3572:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 885              		.loc 1 3572 3 is_stmt 1 view .LVU297
3572:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 886              		.loc 1 3572 9 is_stmt 0 view .LVU298
 887 0050 02A9     		add	r1, sp, #8
 888 0052 2068     		ldr	r0, [r4]
 889              	.LVL87:
3572:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 890              		.loc 1 3572 9 view .LVU299
 891 0054 FFF7FEFF 		bl	SDMMC_ConfigData
 892              	.LVL88:
3575:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 893              		.loc 1 3575 3 is_stmt 1 view .LVU300
3575:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 894              		.loc 1 3575 16 is_stmt 0 view .LVU301
 895 0058 2068     		ldr	r0, [r4]
 896 005a FFF7FEFF 		bl	SDMMC_CmdSendSCR
 897              	.LVL89:
3576:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 898              		.loc 1 3576 3 is_stmt 1 view .LVU302
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 86


3576:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 899              		.loc 1 3576 6 is_stmt 0 view .LVU303
 900 005e 0646     		mov	r6, r0
 901 0060 30B1     		cbz	r0, .L61
 902 0062 DDE7     		b	.L59
 903              	.LVL90:
 904              	.L62:
3591:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 905              		.loc 1 3591 5 is_stmt 1 view .LVU304
3591:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 906              		.loc 1 3591 10 is_stmt 0 view .LVU305
 907 0064 FFF7FEFF 		bl	HAL_GetTick
 908              	.LVL91:
3591:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 909              		.loc 1 3591 24 discriminator 1 view .LVU306
 910 0068 431B     		subs	r3, r0, r5
3591:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 911              		.loc 1 3591 8 discriminator 1 view .LVU307
 912 006a B3F1FF3F 		cmp	r3, #-1
 913 006e 46D0     		beq	.L67
 914              	.LVL92:
 915              	.L61:
3581:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                             SDMMC_FLAG_DATAEND))
 916              		.loc 1 3581 10 is_stmt 1 view .LVU308
3581:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                             SDMMC_FLAG_DATAEND))
 917              		.loc 1 3581 11 is_stmt 0 view .LVU309
 918 0070 2068     		ldr	r0, [r4]
 919 0072 426B     		ldr	r2, [r0, #52]
3581:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                             SDMMC_FLAG_DATAEND))
 920              		.loc 1 3581 10 view .LVU310
 921 0074 40F22A53 		movw	r3, #1322
 922 0078 1A42     		tst	r2, r3
 923 007a 0ED1     		bne	.L70
3584:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 924              		.loc 1 3584 5 is_stmt 1 view .LVU311
3584:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 925              		.loc 1 3584 11 is_stmt 0 view .LVU312
 926 007c 436B     		ldr	r3, [r0, #52]
3584:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 927              		.loc 1 3584 8 view .LVU313
 928 007e 13F4002F 		tst	r3, #524288
 929 0082 EFD1     		bne	.L62
3584:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 930              		.loc 1 3584 55 discriminator 1 view .LVU314
 931 0084 002E     		cmp	r6, #0
 932 0086 EDD1     		bne	.L62
3586:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tempscr[1] = SDMMC_ReadFIFO(hsd->Instance);
 933              		.loc 1 3586 7 is_stmt 1 view .LVU315
3586:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tempscr[1] = SDMMC_ReadFIFO(hsd->Instance);
 934              		.loc 1 3586 20 is_stmt 0 view .LVU316
 935 0088 FFF7FEFF 		bl	SDMMC_ReadFIFO
 936              	.LVL93:
3586:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tempscr[1] = SDMMC_ReadFIFO(hsd->Instance);
 937              		.loc 1 3586 18 discriminator 1 view .LVU317
 938 008c 0090     		str	r0, [sp]
3587:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       index++;
 939              		.loc 1 3587 7 is_stmt 1 view .LVU318
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 87


3587:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       index++;
 940              		.loc 1 3587 20 is_stmt 0 view .LVU319
 941 008e 2068     		ldr	r0, [r4]
 942 0090 FFF7FEFF 		bl	SDMMC_ReadFIFO
 943              	.LVL94:
3587:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       index++;
 944              		.loc 1 3587 18 discriminator 1 view .LVU320
 945 0094 0190     		str	r0, [sp, #4]
3588:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 946              		.loc 1 3588 7 is_stmt 1 view .LVU321
3588:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 947              		.loc 1 3588 12 is_stmt 0 view .LVU322
 948 0096 0136     		adds	r6, r6, #1
 949              	.LVL95:
3588:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 950              		.loc 1 3588 12 view .LVU323
 951 0098 E4E7     		b	.L62
 952              	.L70:
3597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 953              		.loc 1 3597 3 is_stmt 1 view .LVU324
3597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 954              		.loc 1 3597 7 is_stmt 0 view .LVU325
 955 009a 436B     		ldr	r3, [r0, #52]
3597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 956              		.loc 1 3597 6 view .LVU326
 957 009c 13F0080F 		tst	r3, #8
 958 00a0 24D1     		bne	.L71
3603:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 959              		.loc 1 3603 8 is_stmt 1 view .LVU327
3603:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 960              		.loc 1 3603 12 is_stmt 0 view .LVU328
 961 00a2 436B     		ldr	r3, [r0, #52]
3603:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 962              		.loc 1 3603 11 view .LVU329
 963 00a4 13F0020F 		tst	r3, #2
 964 00a8 23D1     		bne	.L72
3609:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 965              		.loc 1 3609 8 is_stmt 1 view .LVU330
3609:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 966              		.loc 1 3609 12 is_stmt 0 view .LVU331
 967 00aa 466B     		ldr	r6, [r0, #52]
 968              	.LVL96:
3609:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 969              		.loc 1 3609 11 view .LVU332
 970 00ac 16F02006 		ands	r6, r6, #32
 971 00b0 22D1     		bne	.L73
3619:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 972              		.loc 1 3619 5 is_stmt 1 view .LVU333
 973 00b2 144B     		ldr	r3, .L74
 974 00b4 8363     		str	r3, [r0, #56]
3621:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8U) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24U));
 975              		.loc 1 3621 5 view .LVU334
3621:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8U) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24U));
 976              		.loc 1 3621 22 is_stmt 0 view .LVU335
 977 00b6 019A     		ldr	r2, [sp, #4]
3621:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8U) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24U));
 978              		.loc 1 3621 87 view .LVU336
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 88


 979 00b8 1302     		lsls	r3, r2, #8
 980 00ba 03F47F03 		and	r3, r3, #16711680
3621:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8U) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24U));
 981              		.loc 1 3621 53 view .LVU337
 982 00be 43EA0263 		orr	r3, r3, r2, lsl #24
3622:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     scr++;
 983              		.loc 1 3622 46 view .LVU338
 984 00c2 110A     		lsrs	r1, r2, #8
 985 00c4 01F47F41 		and	r1, r1, #65280
3621:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8U) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24U));
 986              		.loc 1 3621 94 view .LVU339
 987 00c8 0B43     		orrs	r3, r3, r1
3622:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     scr++;
 988              		.loc 1 3622 53 view .LVU340
 989 00ca 43EA1263 		orr	r3, r3, r2, lsr #24
3621:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8U) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24U));
 990              		.loc 1 3621 10 view .LVU341
 991 00ce 3B60     		str	r3, [r7]
3623:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     *scr = (((tempscr[0] & SDMMC_0TO7BITS) << 24U)  | ((tempscr[0] & SDMMC_8TO15BITS) << 8U) | \
 992              		.loc 1 3623 5 is_stmt 1 view .LVU342
 993              	.LVL97:
3624:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8U) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24U));
 994              		.loc 1 3624 5 view .LVU343
3624:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8U) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24U));
 995              		.loc 1 3624 22 is_stmt 0 view .LVU344
 996 00d0 009A     		ldr	r2, [sp]
3624:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8U) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24U));
 997              		.loc 1 3624 87 view .LVU345
 998 00d2 1302     		lsls	r3, r2, #8
 999 00d4 03F47F03 		and	r3, r3, #16711680
3624:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8U) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24U));
 1000              		.loc 1 3624 53 view .LVU346
 1001 00d8 43EA0263 		orr	r3, r3, r2, lsl #24
3625:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1002              		.loc 1 3625 46 view .LVU347
 1003 00dc 110A     		lsrs	r1, r2, #8
 1004 00de 01F47F41 		and	r1, r1, #65280
3624:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8U) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24U));
 1005              		.loc 1 3624 94 view .LVU348
 1006 00e2 0B43     		orrs	r3, r3, r1
3625:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1007              		.loc 1 3625 53 view .LVU349
 1008 00e4 43EA1263 		orr	r3, r3, r2, lsr #24
3624:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8U) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24U));
 1009              		.loc 1 3624 10 view .LVU350
 1010 00e8 7B60     		str	r3, [r7, #4]
3629:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 1011              		.loc 1 3629 3 is_stmt 1 view .LVU351
3629:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 1012              		.loc 1 3629 10 is_stmt 0 view .LVU352
 1013 00ea 99E7     		b	.L59
 1014              	.LVL98:
 1015              	.L71:
3599:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1016              		.loc 1 3599 5 is_stmt 1 view .LVU353
 1017 00ec 0826     		movs	r6, #8
 1018              	.LVL99:
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 89


3599:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1019              		.loc 1 3599 5 is_stmt 0 view .LVU354
 1020 00ee 8663     		str	r6, [r0, #56]
3601:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1021              		.loc 1 3601 5 is_stmt 1 view .LVU355
3601:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1022              		.loc 1 3601 12 is_stmt 0 view .LVU356
 1023 00f0 96E7     		b	.L59
 1024              	.LVL100:
 1025              	.L72:
3605:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1026              		.loc 1 3605 5 is_stmt 1 view .LVU357
 1027 00f2 0226     		movs	r6, #2
 1028              	.LVL101:
3605:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1029              		.loc 1 3605 5 is_stmt 0 view .LVU358
 1030 00f4 8663     		str	r6, [r0, #56]
3607:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1031              		.loc 1 3607 5 is_stmt 1 view .LVU359
3607:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1032              		.loc 1 3607 12 is_stmt 0 view .LVU360
 1033 00f6 93E7     		b	.L59
 1034              	.L73:
3611:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1035              		.loc 1 3611 5 is_stmt 1 view .LVU361
 1036 00f8 2026     		movs	r6, #32
 1037 00fa 8663     		str	r6, [r0, #56]
3613:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1038              		.loc 1 3613 5 view .LVU362
3613:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1039              		.loc 1 3613 12 is_stmt 0 view .LVU363
 1040 00fc 90E7     		b	.L59
 1041              	.LVL102:
 1042              	.L67:
3593:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1043              		.loc 1 3593 14 view .LVU364
 1044 00fe 4FF00046 		mov	r6, #-2147483648
 1045              	.LVL103:
3593:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1046              		.loc 1 3593 14 view .LVU365
 1047 0102 8DE7     		b	.L59
 1048              	.L75:
 1049              		.align	2
 1050              	.L74:
 1051 0104 3A0F0018 		.word	402657082
 1052              		.cfi_endproc
 1053              	.LFE179:
 1055              		.section	.text.SD_WideBus_Enable,"ax",%progbits
 1056              		.align	1
 1057              		.syntax unified
 1058              		.thumb
 1059              		.thumb_func
 1061              	SD_WideBus_Enable:
 1062              	.LVL104:
 1063              	.LFB177:
3449:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
 1064              		.loc 1 3449 1 is_stmt 1 view -0
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 90


 1065              		.cfi_startproc
 1066              		@ args = 0, pretend = 0, frame = 8
 1067              		@ frame_needed = 0, uses_anonymous_args = 0
3449:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
 1068              		.loc 1 3449 1 is_stmt 0 view .LVU367
 1069 0000 10B5     		push	{r4, lr}
 1070              	.LCFI18:
 1071              		.cfi_def_cfa_offset 8
 1072              		.cfi_offset 4, -8
 1073              		.cfi_offset 14, -4
 1074 0002 82B0     		sub	sp, sp, #8
 1075              	.LCFI19:
 1076              		.cfi_def_cfa_offset 16
 1077 0004 0446     		mov	r4, r0
3450:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 1078              		.loc 1 3450 3 is_stmt 1 view .LVU368
3450:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 1079              		.loc 1 3450 12 is_stmt 0 view .LVU369
 1080 0006 0021     		movs	r1, #0
 1081 0008 0091     		str	r1, [sp]
 1082 000a 0191     		str	r1, [sp, #4]
3451:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1083              		.loc 1 3451 3 is_stmt 1 view .LVU370
3453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1084              		.loc 1 3453 3 view .LVU371
3453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1085              		.loc 1 3453 8 is_stmt 0 view .LVU372
 1086 000c 0068     		ldr	r0, [r0]
 1087              	.LVL105:
3453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1088              		.loc 1 3453 8 view .LVU373
 1089 000e FFF7FEFF 		bl	SDMMC_GetResponse
 1090              	.LVL106:
3453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1091              		.loc 1 3453 6 discriminator 1 view .LVU374
 1092 0012 10F0007F 		tst	r0, #33554432
 1093 0016 13D1     		bne	.L78
3459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 1094              		.loc 1 3459 3 is_stmt 1 view .LVU375
3459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 1095              		.loc 1 3459 16 is_stmt 0 view .LVU376
 1096 0018 6946     		mov	r1, sp
 1097 001a 2046     		mov	r0, r4
 1098 001c FFF7FEFF 		bl	SD_FindSCR
 1099              	.LVL107:
3460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1100              		.loc 1 3460 3 is_stmt 1 view .LVU377
3460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1101              		.loc 1 3460 6 is_stmt 0 view .LVU378
 1102 0020 80B9     		cbnz	r0, .L76
3466:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1103              		.loc 1 3466 3 is_stmt 1 view .LVU379
3466:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1104              		.loc 1 3466 6 is_stmt 0 view .LVU380
 1105 0022 019B     		ldr	r3, [sp, #4]
 1106 0024 13F4802F 		tst	r3, #262144
 1107 0028 0ED0     		beq	.L79
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 91


3469:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1108              		.loc 1 3469 5 is_stmt 1 view .LVU381
3469:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1109              		.loc 1 3469 75 is_stmt 0 view .LVU382
 1110 002a 616C     		ldr	r1, [r4, #68]
3469:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1111              		.loc 1 3469 18 view .LVU383
 1112 002c 0904     		lsls	r1, r1, #16
 1113 002e 2068     		ldr	r0, [r4]
 1114              	.LVL108:
3469:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1115              		.loc 1 3469 18 view .LVU384
 1116 0030 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 1117              	.LVL109:
3470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1118              		.loc 1 3470 5 is_stmt 1 view .LVU385
3470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1119              		.loc 1 3470 8 is_stmt 0 view .LVU386
 1120 0034 30B9     		cbnz	r0, .L76
3476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1121              		.loc 1 3476 5 is_stmt 1 view .LVU387
3476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1122              		.loc 1 3476 18 is_stmt 0 view .LVU388
 1123 0036 0221     		movs	r1, #2
 1124 0038 2068     		ldr	r0, [r4]
 1125              	.LVL110:
3476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1126              		.loc 1 3476 18 view .LVU389
 1127 003a FFF7FEFF 		bl	SDMMC_CmdBusWidth
 1128              	.LVL111:
3477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1129              		.loc 1 3477 5 is_stmt 1 view .LVU390
 1130 003e 01E0     		b	.L76
 1131              	.LVL112:
 1132              	.L78:
3455:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1133              		.loc 1 3455 12 is_stmt 0 view .LVU391
 1134 0040 4FF40060 		mov	r0, #2048
 1135              	.L76:
3488:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1136              		.loc 1 3488 1 view .LVU392
 1137 0044 02B0     		add	sp, sp, #8
 1138              	.LCFI20:
 1139              		.cfi_remember_state
 1140              		.cfi_def_cfa_offset 8
 1141              		@ sp needed
 1142 0046 10BD     		pop	{r4, pc}
 1143              	.LVL113:
 1144              	.L79:
 1145              	.LCFI21:
 1146              		.cfi_restore_state
3486:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1147              		.loc 1 3486 12 view .LVU393
 1148 0048 4FF08060 		mov	r0, #67108864
 1149              	.LVL114:
3486:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1150              		.loc 1 3486 12 view .LVU394
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 92


 1151 004c FAE7     		b	.L76
 1152              		.cfi_endproc
 1153              	.LFE177:
 1155              		.section	.text.SD_WideBus_Disable,"ax",%progbits
 1156              		.align	1
 1157              		.syntax unified
 1158              		.thumb
 1159              		.thumb_func
 1161              	SD_WideBus_Disable:
 1162              	.LVL115:
 1163              	.LFB178:
3496:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
 1164              		.loc 1 3496 1 is_stmt 1 view -0
 1165              		.cfi_startproc
 1166              		@ args = 0, pretend = 0, frame = 8
 1167              		@ frame_needed = 0, uses_anonymous_args = 0
3496:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
 1168              		.loc 1 3496 1 is_stmt 0 view .LVU396
 1169 0000 10B5     		push	{r4, lr}
 1170              	.LCFI22:
 1171              		.cfi_def_cfa_offset 8
 1172              		.cfi_offset 4, -8
 1173              		.cfi_offset 14, -4
 1174 0002 82B0     		sub	sp, sp, #8
 1175              	.LCFI23:
 1176              		.cfi_def_cfa_offset 16
 1177 0004 0446     		mov	r4, r0
3497:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 1178              		.loc 1 3497 3 is_stmt 1 view .LVU397
3497:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 1179              		.loc 1 3497 12 is_stmt 0 view .LVU398
 1180 0006 0021     		movs	r1, #0
 1181 0008 0091     		str	r1, [sp]
 1182 000a 0191     		str	r1, [sp, #4]
3498:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1183              		.loc 1 3498 3 is_stmt 1 view .LVU399
3500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1184              		.loc 1 3500 3 view .LVU400
3500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1185              		.loc 1 3500 8 is_stmt 0 view .LVU401
 1186 000c 0068     		ldr	r0, [r0]
 1187              	.LVL116:
3500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1188              		.loc 1 3500 8 view .LVU402
 1189 000e FFF7FEFF 		bl	SDMMC_GetResponse
 1190              	.LVL117:
3500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1191              		.loc 1 3500 6 discriminator 1 view .LVU403
 1192 0012 10F0007F 		tst	r0, #33554432
 1193 0016 13D1     		bne	.L83
3506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 1194              		.loc 1 3506 3 is_stmt 1 view .LVU404
3506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 1195              		.loc 1 3506 16 is_stmt 0 view .LVU405
 1196 0018 6946     		mov	r1, sp
 1197 001a 2046     		mov	r0, r4
 1198 001c FFF7FEFF 		bl	SD_FindSCR
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 93


 1199              	.LVL118:
3507:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1200              		.loc 1 3507 3 is_stmt 1 view .LVU406
3507:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1201              		.loc 1 3507 6 is_stmt 0 view .LVU407
 1202 0020 80B9     		cbnz	r0, .L81
3513:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1203              		.loc 1 3513 3 is_stmt 1 view .LVU408
3513:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1204              		.loc 1 3513 6 is_stmt 0 view .LVU409
 1205 0022 019B     		ldr	r3, [sp, #4]
 1206 0024 13F4803F 		tst	r3, #65536
 1207 0028 0ED0     		beq	.L84
3516:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1208              		.loc 1 3516 5 is_stmt 1 view .LVU410
3516:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1209              		.loc 1 3516 75 is_stmt 0 view .LVU411
 1210 002a 616C     		ldr	r1, [r4, #68]
3516:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1211              		.loc 1 3516 18 view .LVU412
 1212 002c 0904     		lsls	r1, r1, #16
 1213 002e 2068     		ldr	r0, [r4]
 1214              	.LVL119:
3516:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1215              		.loc 1 3516 18 view .LVU413
 1216 0030 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 1217              	.LVL120:
3517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1218              		.loc 1 3517 5 is_stmt 1 view .LVU414
3517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1219              		.loc 1 3517 8 is_stmt 0 view .LVU415
 1220 0034 30B9     		cbnz	r0, .L81
3523:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1221              		.loc 1 3523 5 is_stmt 1 view .LVU416
3523:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1222              		.loc 1 3523 18 is_stmt 0 view .LVU417
 1223 0036 0021     		movs	r1, #0
 1224 0038 2068     		ldr	r0, [r4]
 1225              	.LVL121:
3523:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1226              		.loc 1 3523 18 view .LVU418
 1227 003a FFF7FEFF 		bl	SDMMC_CmdBusWidth
 1228              	.LVL122:
3524:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1229              		.loc 1 3524 5 is_stmt 1 view .LVU419
 1230 003e 01E0     		b	.L81
 1231              	.LVL123:
 1232              	.L83:
3502:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1233              		.loc 1 3502 12 is_stmt 0 view .LVU420
 1234 0040 4FF40060 		mov	r0, #2048
 1235              	.L81:
3535:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1236              		.loc 1 3535 1 view .LVU421
 1237 0044 02B0     		add	sp, sp, #8
 1238              	.LCFI24:
 1239              		.cfi_remember_state
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 94


 1240              		.cfi_def_cfa_offset 8
 1241              		@ sp needed
 1242 0046 10BD     		pop	{r4, pc}
 1243              	.LVL124:
 1244              	.L84:
 1245              	.LCFI25:
 1246              		.cfi_restore_state
3533:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1247              		.loc 1 3533 12 view .LVU422
 1248 0048 4FF08060 		mov	r0, #67108864
 1249              	.LVL125:
3533:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1250              		.loc 1 3533 12 view .LVU423
 1251 004c FAE7     		b	.L81
 1252              		.cfi_endproc
 1253              	.LFE178:
 1255              		.section	.text.SD_SwitchSpeed,"ax",%progbits
 1256              		.align	1
 1257              		.syntax unified
 1258              		.thumb
 1259              		.thumb_func
 1261              	SD_SwitchSpeed:
 1262              	.LVL126:
 1263              	.LFB182:
3701:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3702:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3703:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Switches the SD card to High Speed mode.
3704:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         This API must be used after "Transfer State"
3705:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This operation should be followed by the configuration
3706:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         of PLL to have SDMMCCK clock between 25 and 50 MHz
3707:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: SD handle
3708:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  SwitchSpeedMode: SD speed mode( SDMMC_SDR12_SWITCH_PATTERN, SDMMC_SDR25_SWITCH_PATTERN)
3709:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval SD Card error state
3710:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3711:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** uint32_t SD_SwitchSpeed(SD_HandleTypeDef *hsd, uint32_t SwitchSpeedMode)
3712:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 1264              		.loc 1 3712 1 is_stmt 1 view -0
 1265              		.cfi_startproc
 1266              		@ args = 0, pretend = 0, frame = 88
 1267              		@ frame_needed = 0, uses_anonymous_args = 0
 1268              		.loc 1 3712 1 is_stmt 0 view .LVU425
 1269 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1270              	.LCFI26:
 1271              		.cfi_def_cfa_offset 28
 1272              		.cfi_offset 4, -28
 1273              		.cfi_offset 5, -24
 1274              		.cfi_offset 6, -20
 1275              		.cfi_offset 7, -16
 1276              		.cfi_offset 8, -12
 1277              		.cfi_offset 9, -8
 1278              		.cfi_offset 14, -4
 1279 0004 97B0     		sub	sp, sp, #92
 1280              	.LCFI27:
 1281              		.cfi_def_cfa_offset 120
 1282 0006 0546     		mov	r5, r0
 1283 0008 0C46     		mov	r4, r1
3713:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate = HAL_SD_ERROR_NONE;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 95


 1284              		.loc 1 3713 3 is_stmt 1 view .LVU426
 1285              	.LVL127:
3714:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef sdmmc_datainitstructure;
 1286              		.loc 1 3714 3 view .LVU427
3715:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t SD_hs[16]  = {0};
 1287              		.loc 1 3715 3 view .LVU428
 1288              		.loc 1 3715 12 is_stmt 0 view .LVU429
 1289 000a 4022     		movs	r2, #64
 1290 000c 0021     		movs	r1, #0
 1291              	.LVL128:
 1292              		.loc 1 3715 12 view .LVU430
 1293 000e 6846     		mov	r0, sp
 1294              	.LVL129:
 1295              		.loc 1 3715 12 view .LVU431
 1296 0010 FFF7FEFF 		bl	memset
 1297              	.LVL130:
3716:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 1298              		.loc 1 3716 3 is_stmt 1 view .LVU432
3717:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t loop = 0 ;
 1299              		.loc 1 3717 3 view .LVU433
3718:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t Timeout = HAL_GetTick();
 1300              		.loc 1 3718 3 view .LVU434
 1301              		.loc 1 3718 22 is_stmt 0 view .LVU435
 1302 0014 FFF7FEFF 		bl	HAL_GetTick
 1303              	.LVL131:
3719:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3720:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardSpeed == CARD_NORMAL_SPEED)
 1304              		.loc 1 3720 3 is_stmt 1 view .LVU436
 1305              		.loc 1 3720 18 is_stmt 0 view .LVU437
 1306 0018 AB6D     		ldr	r3, [r5, #88]
 1307              		.loc 1 3720 6 view .LVU438
 1308 001a 002B     		cmp	r3, #0
 1309 001c 75D0     		beq	.L96
 1310 001e 0746     		mov	r7, r0
3721:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3722:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Standard Speed Card <= 12.5Mhz  */
3723:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
3724:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3725:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3726:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardSpeed >= CARD_HIGH_SPEED)
 1311              		.loc 1 3726 3 is_stmt 1 view .LVU439
 1312              		.loc 1 3726 6 is_stmt 0 view .LVU440
 1313 0020 FF2B     		cmp	r3, #255
 1314 0022 05D8     		bhi	.L100
3713:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef sdmmc_datainitstructure;
 1315              		.loc 1 3713 12 view .LVU441
 1316 0024 4FF00008 		mov	r8, #0
 1317              	.LVL132:
 1318              	.L86:
3727:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3728:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize the Data control register */
3729:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0;
3730:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
3731:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3732:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3733:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3734:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 96


3735:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3736:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3737:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
3738:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataTimeOut   = SDMMC_DATATIMEOUT;
3739:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataLength    = 64U;
3740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B ;
3741:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
3742:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
3743:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DPSM          = SDMMC_DPSM_ENABLE;
3744:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3745:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &sdmmc_datainitstructure);
3746:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3747:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdSwitch(hsd->Instance, SwitchSpeedMode);
3748:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3749:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3750:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3751:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3752:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3753:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT |
3754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
3755:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3756:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF))
3757:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3758:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         for (count = 0U; count < 8U; count++)
3759:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
3760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           SD_hs[(8U * loop) + count]  = SDMMC_ReadFIFO(hsd->Instance);
3761:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
3762:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         loop ++;
3763:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3764:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((HAL_GetTick() - Timeout) >=  SDMMC_SWDATATIMEOUT)
3765:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3766:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
3767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
3768:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_SD_ERROR_TIMEOUT;
3769:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3770:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3771:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3772:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
3773:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3774:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DTIMEOUT);
3775:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3776:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3777:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
3779:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3780:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DCRCFAIL);
3781:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3782:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_DATA_CRC_FAIL;
3783:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3785:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
3787:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3788:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_RXOVERR);
3789:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3790:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_RX_OVERRUN;
3791:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 97


3792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3793:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3794:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
3795:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3796:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* No error flag set */
3797:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3798:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3799:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
3800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
3801:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3802:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Test if the switch mode HS is ok */
3803:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((((uint8_t *)SD_hs)[13] & 2U) != 2U)
3804:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_UNSUPPORTED_FEATURE;
3806:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3807:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3808:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3809:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3810:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return errorstate;
3811:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 1319              		.loc 1 3811 1 view .LVU442
 1320 0028 4046     		mov	r0, r8
 1321 002a 17B0     		add	sp, sp, #92
 1322              	.LCFI28:
 1323              		.cfi_remember_state
 1324              		.cfi_def_cfa_offset 28
 1325              		@ sp needed
 1326 002c BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1327              	.LVL133:
 1328              	.L100:
 1329              	.LCFI29:
 1330              		.cfi_restore_state
3729:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
 1331              		.loc 1 3729 5 is_stmt 1 view .LVU443
3729:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
 1332              		.loc 1 3729 8 is_stmt 0 view .LVU444
 1333 0030 2B68     		ldr	r3, [r5]
3729:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
 1334              		.loc 1 3729 26 view .LVU445
 1335 0032 0022     		movs	r2, #0
 1336 0034 DA62     		str	r2, [r3, #44]
3730:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1337              		.loc 1 3730 5 is_stmt 1 view .LVU446
3730:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1338              		.loc 1 3730 18 is_stmt 0 view .LVU447
 1339 0036 4021     		movs	r1, #64
 1340 0038 2868     		ldr	r0, [r5]
 1341              	.LVL134:
3730:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1342              		.loc 1 3730 18 view .LVU448
 1343 003a FFF7FEFF 		bl	SDMMC_CmdBlockLength
 1344              	.LVL135:
3732:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1345              		.loc 1 3732 5 is_stmt 1 view .LVU449
3732:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1346              		.loc 1 3732 8 is_stmt 0 view .LVU450
 1347 003e 8046     		mov	r8, r0
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 98


 1348 0040 0028     		cmp	r0, #0
 1349 0042 F1D1     		bne	.L86
3738:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataLength    = 64U;
 1350              		.loc 1 3738 5 is_stmt 1 view .LVU451
3738:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataLength    = 64U;
 1351              		.loc 1 3738 43 is_stmt 0 view .LVU452
 1352 0044 4FF0FF33 		mov	r3, #-1
 1353 0048 1093     		str	r3, [sp, #64]
3739:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B ;
 1354              		.loc 1 3739 5 is_stmt 1 view .LVU453
3739:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B ;
 1355              		.loc 1 3739 43 is_stmt 0 view .LVU454
 1356 004a 4023     		movs	r3, #64
 1357 004c 1193     		str	r3, [sp, #68]
3740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 1358              		.loc 1 3740 5 is_stmt 1 view .LVU455
3740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 1359              		.loc 1 3740 43 is_stmt 0 view .LVU456
 1360 004e 6023     		movs	r3, #96
 1361 0050 1293     		str	r3, [sp, #72]
3741:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 1362              		.loc 1 3741 5 is_stmt 1 view .LVU457
3741:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 1363              		.loc 1 3741 43 is_stmt 0 view .LVU458
 1364 0052 0223     		movs	r3, #2
 1365 0054 1393     		str	r3, [sp, #76]
3742:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DPSM          = SDMMC_DPSM_ENABLE;
 1366              		.loc 1 3742 5 is_stmt 1 view .LVU459
3742:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DPSM          = SDMMC_DPSM_ENABLE;
 1367              		.loc 1 3742 43 is_stmt 0 view .LVU460
 1368 0056 0023     		movs	r3, #0
 1369 0058 1493     		str	r3, [sp, #80]
3743:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1370              		.loc 1 3743 5 is_stmt 1 view .LVU461
3743:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1371              		.loc 1 3743 43 is_stmt 0 view .LVU462
 1372 005a 0123     		movs	r3, #1
 1373 005c 1593     		str	r3, [sp, #84]
3745:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1374              		.loc 1 3745 5 is_stmt 1 view .LVU463
3745:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1375              		.loc 1 3745 11 is_stmt 0 view .LVU464
 1376 005e 10A9     		add	r1, sp, #64
 1377 0060 2868     		ldr	r0, [r5]
 1378              	.LVL136:
3745:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1379              		.loc 1 3745 11 view .LVU465
 1380 0062 FFF7FEFF 		bl	SDMMC_ConfigData
 1381              	.LVL137:
3747:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1382              		.loc 1 3747 5 is_stmt 1 view .LVU466
3747:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1383              		.loc 1 3747 18 is_stmt 0 view .LVU467
 1384 0066 2146     		mov	r1, r4
 1385 0068 2868     		ldr	r0, [r5]
 1386 006a FFF7FEFF 		bl	SDMMC_CmdSwitch
 1387              	.LVL138:
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 99


3748:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1388              		.loc 1 3748 5 is_stmt 1 view .LVU468
3748:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1389              		.loc 1 3748 8 is_stmt 0 view .LVU469
 1390 006e 8046     		mov	r8, r0
 1391 0070 0028     		cmp	r0, #0
 1392 0072 D9D1     		bne	.L86
3717:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t Timeout = HAL_GetTick();
 1393              		.loc 1 3717 12 view .LVU470
 1394 0074 8146     		mov	r9, r0
 1395 0076 14E0     		b	.L88
 1396              	.LVL139:
 1397              	.L91:
3760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 1398              		.loc 1 3760 11 is_stmt 1 view .LVU471
3760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 1399              		.loc 1 3760 29 is_stmt 0 view .LVU472
 1400 0078 04EBC906 		add	r6, r4, r9, lsl #3
3760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 1401              		.loc 1 3760 41 view .LVU473
 1402 007c 2868     		ldr	r0, [r5]
 1403 007e FFF7FEFF 		bl	SDMMC_ReadFIFO
 1404              	.LVL140:
3760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 1405              		.loc 1 3760 39 discriminator 1 view .LVU474
 1406 0082 16AB     		add	r3, sp, #88
 1407 0084 03EB8606 		add	r6, r3, r6, lsl #2
 1408 0088 46F8580C 		str	r0, [r6, #-88]
3758:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 1409              		.loc 1 3758 43 is_stmt 1 discriminator 3 view .LVU475
 1410 008c 0134     		adds	r4, r4, #1
 1411              	.LVL141:
 1412              	.L89:
3758:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 1413              		.loc 1 3758 32 discriminator 1 view .LVU476
 1414 008e 072C     		cmp	r4, #7
 1415 0090 F2D9     		bls	.L91
3762:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 1416              		.loc 1 3762 9 view .LVU477
3762:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 1417              		.loc 1 3762 14 is_stmt 0 view .LVU478
 1418 0092 09F10109 		add	r9, r9, #1
 1419              	.LVL142:
 1420              	.L90:
3764:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1421              		.loc 1 3764 7 is_stmt 1 view .LVU479
3764:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1422              		.loc 1 3764 12 is_stmt 0 view .LVU480
 1423 0096 FFF7FEFF 		bl	HAL_GetTick
 1424              	.LVL143:
3764:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1425              		.loc 1 3764 26 discriminator 1 view .LVU481
 1426 009a C01B     		subs	r0, r0, r7
3764:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1427              		.loc 1 3764 10 discriminator 1 view .LVU482
 1428 009c B0F1FF3F 		cmp	r0, #-1
 1429 00a0 0AD0     		beq	.L101
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 100


 1430              	.LVL144:
 1431              	.L88:
3753:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 1432              		.loc 1 3753 12 is_stmt 1 view .LVU483
3753:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 1433              		.loc 1 3753 13 is_stmt 0 view .LVU484
 1434 00a2 2B68     		ldr	r3, [r5]
 1435 00a4 5C6B     		ldr	r4, [r3, #52]
 1436 00a6 40F22A52 		movw	r2, #1322
3753:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 1437              		.loc 1 3753 12 view .LVU485
 1438 00aa 1440     		ands	r4, r4, r2
 1439 00ac 0CD1     		bne	.L102
3756:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1440              		.loc 1 3756 7 is_stmt 1 view .LVU486
3756:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1441              		.loc 1 3756 11 is_stmt 0 view .LVU487
 1442 00ae 5B6B     		ldr	r3, [r3, #52]
3756:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1443              		.loc 1 3756 10 view .LVU488
 1444 00b0 13F4004F 		tst	r3, #32768
 1445 00b4 EFD0     		beq	.L90
 1446 00b6 EAE7     		b	.L89
 1447              	.L101:
3766:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 1448              		.loc 1 3766 9 is_stmt 1 view .LVU489
3766:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 1449              		.loc 1 3766 24 is_stmt 0 view .LVU490
 1450 00b8 4FF00043 		mov	r3, #-2147483648
 1451 00bc 6B63     		str	r3, [r5, #52]
3767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_SD_ERROR_TIMEOUT;
 1452              		.loc 1 3767 9 is_stmt 1 view .LVU491
3767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_SD_ERROR_TIMEOUT;
 1453              		.loc 1 3767 20 is_stmt 0 view .LVU492
 1454 00be 0122     		movs	r2, #1
 1455 00c0 85F83020 		strb	r2, [r5, #48]
3768:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 1456              		.loc 1 3768 9 is_stmt 1 view .LVU493
3768:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 1457              		.loc 1 3768 16 is_stmt 0 view .LVU494
 1458 00c4 9846     		mov	r8, r3
 1459              	.LVL145:
3768:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 1460              		.loc 1 3768 16 view .LVU495
 1461 00c6 AFE7     		b	.L86
 1462              	.LVL146:
 1463              	.L102:
3772:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1464              		.loc 1 3772 5 is_stmt 1 view .LVU496
3772:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1465              		.loc 1 3772 9 is_stmt 0 view .LVU497
 1466 00c8 5A6B     		ldr	r2, [r3, #52]
3772:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1467              		.loc 1 3772 8 view .LVU498
 1468 00ca 12F0080F 		tst	r2, #8
 1469 00ce 11D1     		bne	.L103
3778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 101


 1470              		.loc 1 3778 10 is_stmt 1 view .LVU499
3778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1471              		.loc 1 3778 14 is_stmt 0 view .LVU500
 1472 00d0 5A6B     		ldr	r2, [r3, #52]
3778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1473              		.loc 1 3778 13 view .LVU501
 1474 00d2 12F0020F 		tst	r2, #2
 1475 00d6 10D1     		bne	.L104
3786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1476              		.loc 1 3786 10 is_stmt 1 view .LVU502
3786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1477              		.loc 1 3786 14 is_stmt 0 view .LVU503
 1478 00d8 5A6B     		ldr	r2, [r3, #52]
3786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1479              		.loc 1 3786 13 view .LVU504
 1480 00da 12F0200F 		tst	r2, #32
 1481 00de 10D1     		bne	.L105
3797:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1482              		.loc 1 3797 5 is_stmt 1 view .LVU505
3800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1483              		.loc 1 3800 5 view .LVU506
 1484 00e0 0B4A     		ldr	r2, .L106
 1485 00e2 9A63     		str	r2, [r3, #56]
3803:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1486              		.loc 1 3803 5 view .LVU507
3803:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1487              		.loc 1 3803 28 is_stmt 0 view .LVU508
 1488 00e4 9DF80D30 		ldrb	r3, [sp, #13]	@ zero_extendqisi2
3803:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1489              		.loc 1 3803 8 view .LVU509
 1490 00e8 13F0020F 		tst	r3, #2
 1491 00ec 9CD1     		bne	.L86
3805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1492              		.loc 1 3805 18 view .LVU510
 1493 00ee 4FF08058 		mov	r8, #268435456
 1494              	.LVL147:
3805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1495              		.loc 1 3805 18 view .LVU511
 1496 00f2 99E7     		b	.L86
 1497              	.LVL148:
 1498              	.L103:
3774:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1499              		.loc 1 3774 7 is_stmt 1 view .LVU512
 1500 00f4 0822     		movs	r2, #8
 1501 00f6 9A63     		str	r2, [r3, #56]
3776:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1502              		.loc 1 3776 7 view .LVU513
3776:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1503              		.loc 1 3776 14 is_stmt 0 view .LVU514
 1504 00f8 96E7     		b	.L86
 1505              	.L104:
3780:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1506              		.loc 1 3780 7 is_stmt 1 view .LVU515
 1507 00fa 0222     		movs	r2, #2
 1508 00fc 9A63     		str	r2, [r3, #56]
3782:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1509              		.loc 1 3782 7 view .LVU516
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 102


 1510              	.LVL149:
3784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1511              		.loc 1 3784 7 view .LVU517
3784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1512              		.loc 1 3784 14 is_stmt 0 view .LVU518
 1513 00fe 9046     		mov	r8, r2
 1514 0100 92E7     		b	.L86
 1515              	.LVL150:
 1516              	.L105:
3788:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1517              		.loc 1 3788 7 is_stmt 1 view .LVU519
 1518 0102 2022     		movs	r2, #32
 1519 0104 9A63     		str	r2, [r3, #56]
3790:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1520              		.loc 1 3790 7 view .LVU520
 1521              	.LVL151:
3792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1522              		.loc 1 3792 7 view .LVU521
3792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1523              		.loc 1 3792 14 is_stmt 0 view .LVU522
 1524 0106 9046     		mov	r8, r2
 1525 0108 8EE7     		b	.L86
 1526              	.LVL152:
 1527              	.L96:
3723:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1528              		.loc 1 3723 12 view .LVU523
 1529 010a 4FF08068 		mov	r8, #67108864
 1530 010e 8BE7     		b	.L86
 1531              	.L107:
 1532              		.align	2
 1533              	.L106:
 1534 0110 3A0F0018 		.word	402657082
 1535              		.cfi_endproc
 1536              	.LFE182:
 1538              		.section	.text.SD_SendStatus,"ax",%progbits
 1539              		.align	1
 1540              		.syntax unified
 1541              		.thumb
 1542              		.thumb_func
 1544              	SD_SendStatus:
 1545              	.LVL153:
 1546              	.LFB176:
3422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 1547              		.loc 1 3422 1 is_stmt 1 view -0
 1548              		.cfi_startproc
 1549              		@ args = 0, pretend = 0, frame = 0
 1550              		@ frame_needed = 0, uses_anonymous_args = 0
3422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 1551              		.loc 1 3422 1 is_stmt 0 view .LVU525
 1552 0000 70B5     		push	{r4, r5, r6, lr}
 1553              	.LCFI30:
 1554              		.cfi_def_cfa_offset 16
 1555              		.cfi_offset 4, -16
 1556              		.cfi_offset 5, -12
 1557              		.cfi_offset 6, -8
 1558              		.cfi_offset 14, -4
3423:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 103


 1559              		.loc 1 3423 3 is_stmt 1 view .LVU526
3425:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1560              		.loc 1 3425 3 view .LVU527
3425:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1561              		.loc 1 3425 6 is_stmt 0 view .LVU528
 1562 0002 81B1     		cbz	r1, .L110
 1563 0004 0446     		mov	r4, r0
 1564 0006 0E46     		mov	r6, r1
3431:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 1565              		.loc 1 3431 3 is_stmt 1 view .LVU529
3431:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 1566              		.loc 1 3431 73 is_stmt 0 view .LVU530
 1567 0008 416C     		ldr	r1, [r0, #68]
 1568              	.LVL154:
3431:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 1569              		.loc 1 3431 16 view .LVU531
 1570 000a 0904     		lsls	r1, r1, #16
 1571 000c 0068     		ldr	r0, [r0]
 1572              	.LVL155:
3431:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 1573              		.loc 1 3431 16 view .LVU532
 1574 000e FFF7FEFF 		bl	SDMMC_CmdSendStatus
 1575              	.LVL156:
3432:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1576              		.loc 1 3432 3 is_stmt 1 view .LVU533
3432:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1577              		.loc 1 3432 6 is_stmt 0 view .LVU534
 1578 0012 0546     		mov	r5, r0
 1579 0014 08B1     		cbz	r0, .L112
 1580              	.LVL157:
 1581              	.L108:
3441:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1582              		.loc 1 3441 1 view .LVU535
 1583 0016 2846     		mov	r0, r5
 1584 0018 70BD     		pop	{r4, r5, r6, pc}
 1585              	.LVL158:
 1586              	.L112:
3438:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1587              		.loc 1 3438 3 is_stmt 1 view .LVU536
3438:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1588              		.loc 1 3438 18 is_stmt 0 view .LVU537
 1589 001a 0021     		movs	r1, #0
 1590 001c 2068     		ldr	r0, [r4]
 1591              	.LVL159:
3438:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1592              		.loc 1 3438 18 view .LVU538
 1593 001e FFF7FEFF 		bl	SDMMC_GetResponse
 1594              	.LVL160:
3438:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1595              		.loc 1 3438 16 discriminator 1 view .LVU539
 1596 0022 3060     		str	r0, [r6]
3440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 1597              		.loc 1 3440 3 is_stmt 1 view .LVU540
3440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 1598              		.loc 1 3440 10 is_stmt 0 view .LVU541
 1599 0024 F7E7     		b	.L108
 1600              	.LVL161:
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 104


 1601              	.L110:
3427:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1602              		.loc 1 3427 12 view .LVU542
 1603 0026 4FF00065 		mov	r5, #134217728
 1604 002a F4E7     		b	.L108
 1605              		.cfi_endproc
 1606              	.LFE176:
 1608              		.section	.text.HAL_SD_MspInit,"ax",%progbits
 1609              		.align	1
 1610              		.weak	HAL_SD_MspInit
 1611              		.syntax unified
 1612              		.thumb
 1613              		.thumb_func
 1615              	HAL_SD_MspInit:
 1616              	.LVL162:
 1617              	.LFB147:
 616:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 1618              		.loc 1 616 1 is_stmt 1 view -0
 1619              		.cfi_startproc
 1620              		@ args = 0, pretend = 0, frame = 0
 1621              		@ frame_needed = 0, uses_anonymous_args = 0
 1622              		@ link register save eliminated.
 618:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1623              		.loc 1 618 3 view .LVU544
 623:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1624              		.loc 1 623 1 is_stmt 0 view .LVU545
 1625 0000 7047     		bx	lr
 1626              		.cfi_endproc
 1627              	.LFE147:
 1629              		.section	.text.HAL_SD_MspDeInit,"ax",%progbits
 1630              		.align	1
 1631              		.weak	HAL_SD_MspDeInit
 1632              		.syntax unified
 1633              		.thumb
 1634              		.thumb_func
 1636              	HAL_SD_MspDeInit:
 1637              	.LVL163:
 1638              	.LFB148:
 631:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 1639              		.loc 1 631 1 is_stmt 1 view -0
 1640              		.cfi_startproc
 1641              		@ args = 0, pretend = 0, frame = 0
 1642              		@ frame_needed = 0, uses_anonymous_args = 0
 1643              		@ link register save eliminated.
 633:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1644              		.loc 1 633 3 view .LVU547
 638:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1645              		.loc 1 638 1 is_stmt 0 view .LVU548
 1646 0000 7047     		bx	lr
 1647              		.cfi_endproc
 1648              	.LFE148:
 1650              		.section	.text.HAL_SD_DeInit,"ax",%progbits
 1651              		.align	1
 1652              		.global	HAL_SD_DeInit
 1653              		.syntax unified
 1654              		.thumb
 1655              		.thumb_func
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 105


 1657              	HAL_SD_DeInit:
 1658              	.LVL164:
 1659              	.LFB146:
 560:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the SD handle allocation */
 1660              		.loc 1 560 1 is_stmt 1 view -0
 1661              		.cfi_startproc
 1662              		@ args = 0, pretend = 0, frame = 0
 1663              		@ frame_needed = 0, uses_anonymous_args = 0
 562:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1664              		.loc 1 562 3 view .LVU550
 562:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1665              		.loc 1 562 6 is_stmt 0 view .LVU551
 1666 0000 70B1     		cbz	r0, .L117
 560:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the SD handle allocation */
 1667              		.loc 1 560 1 view .LVU552
 1668 0002 10B5     		push	{r4, lr}
 1669              	.LCFI31:
 1670              		.cfi_def_cfa_offset 8
 1671              		.cfi_offset 4, -8
 1672              		.cfi_offset 14, -4
 1673 0004 0446     		mov	r4, r0
 568:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1674              		.loc 1 568 3 is_stmt 1 view .LVU553
 570:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1675              		.loc 1 570 3 view .LVU554
 570:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1676              		.loc 1 570 14 is_stmt 0 view .LVU555
 1677 0006 0323     		movs	r3, #3
 1678 0008 80F83030 		strb	r3, [r0, #48]
 589:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1679              		.loc 1 589 3 is_stmt 1 view .LVU556
 1680 000c FFF7FEFF 		bl	SD_PowerOFF
 1681              	.LVL165:
 601:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 1682              		.loc 1 601 3 view .LVU557
 1683 0010 2046     		mov	r0, r4
 1684 0012 FFF7FEFF 		bl	HAL_SD_MspDeInit
 1685              	.LVL166:
 604:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_RESET;
 1686              		.loc 1 604 3 view .LVU558
 604:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_RESET;
 1687              		.loc 1 604 18 is_stmt 0 view .LVU559
 1688 0016 0020     		movs	r0, #0
 1689 0018 6063     		str	r0, [r4, #52]
 605:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1690              		.loc 1 605 3 is_stmt 1 view .LVU560
 605:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1691              		.loc 1 605 14 is_stmt 0 view .LVU561
 1692 001a 84F83000 		strb	r0, [r4, #48]
 607:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 1693              		.loc 1 607 3 is_stmt 1 view .LVU562
 608:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1694              		.loc 1 608 1 is_stmt 0 view .LVU563
 1695 001e 10BD     		pop	{r4, pc}
 1696              	.LVL167:
 1697              	.L117:
 1698              	.LCFI32:
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 106


 1699              		.cfi_def_cfa_offset 0
 1700              		.cfi_restore 4
 1701              		.cfi_restore 14
 564:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1702              		.loc 1 564 12 view .LVU564
 1703 0020 0120     		movs	r0, #1
 1704              	.LVL168:
 608:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1705              		.loc 1 608 1 view .LVU565
 1706 0022 7047     		bx	lr
 1707              		.cfi_endproc
 1708              	.LFE146:
 1710              		.section	.text.HAL_SD_ReadBlocks,"ax",%progbits
 1711              		.align	1
 1712              		.global	HAL_SD_ReadBlocks
 1713              		.syntax unified
 1714              		.thumb
 1715              		.thumb_func
 1717              	HAL_SD_ReadBlocks:
 1718              	.LVL169:
 1719              	.LFB149:
 673:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 1720              		.loc 1 673 1 is_stmt 1 view -0
 1721              		.cfi_startproc
 1722              		@ args = 4, pretend = 0, frame = 24
 1723              		@ frame_needed = 0, uses_anonymous_args = 0
 673:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 1724              		.loc 1 673 1 is_stmt 0 view .LVU567
 1725 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1726              	.LCFI33:
 1727              		.cfi_def_cfa_offset 36
 1728              		.cfi_offset 4, -36
 1729              		.cfi_offset 5, -32
 1730              		.cfi_offset 6, -28
 1731              		.cfi_offset 7, -24
 1732              		.cfi_offset 8, -20
 1733              		.cfi_offset 9, -16
 1734              		.cfi_offset 10, -12
 1735              		.cfi_offset 11, -8
 1736              		.cfi_offset 14, -4
 1737 0004 87B0     		sub	sp, sp, #28
 1738              	.LCFI34:
 1739              		.cfi_def_cfa_offset 64
 1740 0006 0546     		mov	r5, r0
 1741 0008 0C46     		mov	r4, r1
 1742 000a 1646     		mov	r6, r2
 1743 000c 9A46     		mov	r10, r3
 1744 000e DDF84090 		ldr	r9, [sp, #64]
 674:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 1745              		.loc 1 674 3 is_stmt 1 view .LVU568
 675:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 1746              		.loc 1 675 3 view .LVU569
 676:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 1747              		.loc 1 676 3 view .LVU570
 676:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 1748              		.loc 1 676 24 is_stmt 0 view .LVU571
 1749 0012 FFF7FEFF 		bl	HAL_GetTick
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 107


 1750              	.LVL170:
 677:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t data;
 1751              		.loc 1 677 3 is_stmt 1 view .LVU572
 678:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t dataremaining;
 1752              		.loc 1 678 3 view .LVU573
 679:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 1753              		.loc 1 679 3 view .LVU574
 680:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint8_t *tempbuff = pData;
 1754              		.loc 1 680 3 view .LVU575
 681:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1755              		.loc 1 681 3 view .LVU576
 683:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1756              		.loc 1 683 3 view .LVU577
 683:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1757              		.loc 1 683 6 is_stmt 0 view .LVU578
 1758 0016 002C     		cmp	r4, #0
 1759 0018 3AD0     		beq	.L142
 1760 001a 8046     		mov	r8, r0
 689:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1761              		.loc 1 689 3 is_stmt 1 view .LVU579
 689:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1762              		.loc 1 689 10 is_stmt 0 view .LVU580
 1763 001c 95F83070 		ldrb	r7, [r5, #48]	@ zero_extendqisi2
 1764 0020 FFB2     		uxtb	r7, r7
 689:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1765              		.loc 1 689 6 view .LVU581
 1766 0022 012F     		cmp	r7, #1
 1767 0024 40F0E080 		bne	.L125
 691:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1768              		.loc 1 691 5 is_stmt 1 view .LVU582
 691:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1769              		.loc 1 691 20 is_stmt 0 view .LVU583
 1770 0028 0023     		movs	r3, #0
 1771 002a 6B63     		str	r3, [r5, #52]
 693:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1772              		.loc 1 693 5 is_stmt 1 view .LVU584
 693:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1773              		.loc 1 693 14 is_stmt 0 view .LVU585
 1774 002c 06EB0A03 		add	r3, r6, r10
 693:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1775              		.loc 1 693 46 view .LVU586
 1776 0030 2A6D     		ldr	r2, [r5, #80]
 693:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1777              		.loc 1 693 8 view .LVU587
 1778 0032 9342     		cmp	r3, r2
 1779 0034 32D8     		bhi	.L143
 699:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1780              		.loc 1 699 5 is_stmt 1 view .LVU588
 699:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1781              		.loc 1 699 16 is_stmt 0 view .LVU589
 1782 0036 0323     		movs	r3, #3
 1783 0038 85F83030 		strb	r3, [r5, #48]
 702:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1784              		.loc 1 702 5 is_stmt 1 view .LVU590
 702:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1785              		.loc 1 702 8 is_stmt 0 view .LVU591
 1786 003c 2B68     		ldr	r3, [r5]
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 108


 702:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1787              		.loc 1 702 26 view .LVU592
 1788 003e 0022     		movs	r2, #0
 1789 0040 DA62     		str	r2, [r3, #44]
 704:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1790              		.loc 1 704 5 is_stmt 1 view .LVU593
 704:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1791              		.loc 1 704 20 is_stmt 0 view .LVU594
 1792 0042 AB6B     		ldr	r3, [r5, #56]
 704:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1793              		.loc 1 704 8 view .LVU595
 1794 0044 012B     		cmp	r3, #1
 1795 0046 00D0     		beq	.L127
 706:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1796              		.loc 1 706 7 is_stmt 1 view .LVU596
 706:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1797              		.loc 1 706 11 is_stmt 0 view .LVU597
 1798 0048 7602     		lsls	r6, r6, #9
 1799              	.LVL171:
 1800              	.L127:
 710:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 1801              		.loc 1 710 5 is_stmt 1 view .LVU598
 710:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 1802              		.loc 1 710 26 is_stmt 0 view .LVU599
 1803 004a 4FF0FF33 		mov	r3, #-1
 1804 004e 0093     		str	r3, [sp]
 711:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 1805              		.loc 1 711 5 is_stmt 1 view .LVU600
 711:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 1806              		.loc 1 711 43 is_stmt 0 view .LVU601
 1807 0050 4FEA4A23 		lsl	r3, r10, #9
 711:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 1808              		.loc 1 711 26 view .LVU602
 1809 0054 0193     		str	r3, [sp, #4]
 712:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 1810              		.loc 1 712 5 is_stmt 1 view .LVU603
 712:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 1811              		.loc 1 712 26 is_stmt 0 view .LVU604
 1812 0056 9023     		movs	r3, #144
 1813 0058 0293     		str	r3, [sp, #8]
 713:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 1814              		.loc 1 713 5 is_stmt 1 view .LVU605
 713:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 1815              		.loc 1 713 26 is_stmt 0 view .LVU606
 1816 005a 0223     		movs	r3, #2
 1817 005c 0393     		str	r3, [sp, #12]
 714:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 1818              		.loc 1 714 5 is_stmt 1 view .LVU607
 714:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 1819              		.loc 1 714 26 is_stmt 0 view .LVU608
 1820 005e 0023     		movs	r3, #0
 1821 0060 0493     		str	r3, [sp, #16]
 715:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 1822              		.loc 1 715 5 is_stmt 1 view .LVU609
 715:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 1823              		.loc 1 715 26 is_stmt 0 view .LVU610
 1824 0062 0593     		str	r3, [sp, #20]
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 109


 716:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 1825              		.loc 1 716 5 is_stmt 1 view .LVU611
 716:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 1826              		.loc 1 716 11 is_stmt 0 view .LVU612
 1827 0064 6946     		mov	r1, sp
 1828 0066 2868     		ldr	r0, [r5]
 1829              	.LVL172:
 716:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 1830              		.loc 1 716 11 view .LVU613
 1831 0068 FFF7FEFF 		bl	SDMMC_ConfigData
 1832              	.LVL173:
 717:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1833              		.loc 1 717 5 is_stmt 1 view .LVU614
 1834 006c 2A68     		ldr	r2, [r5]
 1835 006e D368     		ldr	r3, [r2, #12]
 1836 0070 43F04003 		orr	r3, r3, #64
 1837 0074 D360     		str	r3, [r2, #12]
 720:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1838              		.loc 1 720 5 view .LVU615
 720:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1839              		.loc 1 720 8 is_stmt 0 view .LVU616
 1840 0076 BAF1010F 		cmp	r10, #1
 1841 007a 14D9     		bls	.L128
 722:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1842              		.loc 1 722 7 is_stmt 1 view .LVU617
 722:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1843              		.loc 1 722 20 is_stmt 0 view .LVU618
 1844 007c 0223     		movs	r3, #2
 1845 007e EB62     		str	r3, [r5, #44]
 725:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1846              		.loc 1 725 7 is_stmt 1 view .LVU619
 725:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1847              		.loc 1 725 20 is_stmt 0 view .LVU620
 1848 0080 3146     		mov	r1, r6
 1849 0082 2868     		ldr	r0, [r5]
 1850 0084 FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 1851              	.LVL174:
 1852              	.L129:
 734:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1853              		.loc 1 734 5 is_stmt 1 view .LVU621
 734:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1854              		.loc 1 734 8 is_stmt 0 view .LVU622
 1855 0088 A0B9     		cbnz	r0, .L144
 745:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT |
 1856              		.loc 1 745 5 is_stmt 1 view .LVU623
 745:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT |
 1857              		.loc 1 745 19 is_stmt 0 view .LVU624
 1858 008a DDF804B0 		ldr	fp, [sp, #4]
 1859              	.LVL175:
 746:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1860              		.loc 1 746 5 is_stmt 1 view .LVU625
 746:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1861              		.loc 1 746 11 is_stmt 0 view .LVU626
 1862 008e 38E0     		b	.L131
 1863              	.LVL176:
 1864              	.L142:
 685:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 110


 1865              		.loc 1 685 5 is_stmt 1 view .LVU627
 685:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 1866              		.loc 1 685 8 is_stmt 0 view .LVU628
 1867 0090 6B6B     		ldr	r3, [r5, #52]
 685:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 1868              		.loc 1 685 20 view .LVU629
 1869 0092 43F00063 		orr	r3, r3, #134217728
 1870 0096 6B63     		str	r3, [r5, #52]
 686:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1871              		.loc 1 686 5 is_stmt 1 view .LVU630
 686:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1872              		.loc 1 686 12 is_stmt 0 view .LVU631
 1873 0098 0127     		movs	r7, #1
 1874 009a AAE0     		b	.L124
 1875              	.L143:
 695:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 1876              		.loc 1 695 7 is_stmt 1 view .LVU632
 695:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 1877              		.loc 1 695 10 is_stmt 0 view .LVU633
 1878 009c 6B6B     		ldr	r3, [r5, #52]
 695:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 1879              		.loc 1 695 22 view .LVU634
 1880 009e 43F00073 		orr	r3, r3, #33554432
 1881 00a2 6B63     		str	r3, [r5, #52]
 696:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1882              		.loc 1 696 7 is_stmt 1 view .LVU635
 696:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1883              		.loc 1 696 14 is_stmt 0 view .LVU636
 1884 00a4 A5E0     		b	.L124
 1885              	.LVL177:
 1886              	.L128:
 729:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1887              		.loc 1 729 7 is_stmt 1 view .LVU637
 729:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1888              		.loc 1 729 20 is_stmt 0 view .LVU638
 1889 00a6 0123     		movs	r3, #1
 1890 00a8 EB62     		str	r3, [r5, #44]
 732:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1891              		.loc 1 732 7 is_stmt 1 view .LVU639
 732:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1892              		.loc 1 732 20 is_stmt 0 view .LVU640
 1893 00aa 3146     		mov	r1, r6
 1894 00ac 2868     		ldr	r0, [r5]
 1895 00ae FFF7FEFF 		bl	SDMMC_CmdReadSingleBlock
 1896              	.LVL178:
 732:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1897              		.loc 1 732 20 view .LVU641
 1898 00b2 E9E7     		b	.L129
 1899              	.L144:
 737:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 1900              		.loc 1 737 7 is_stmt 1 view .LVU642
 1901 00b4 2B68     		ldr	r3, [r5]
 1902 00b6 514A     		ldr	r2, .L149
 1903 00b8 9A63     		str	r2, [r3, #56]
 738:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1904              		.loc 1 738 7 view .LVU643
 738:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 111


 1905              		.loc 1 738 10 is_stmt 0 view .LVU644
 1906 00ba 6B6B     		ldr	r3, [r5, #52]
 738:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1907              		.loc 1 738 22 view .LVU645
 1908 00bc 0343     		orrs	r3, r3, r0
 1909 00be 6B63     		str	r3, [r5, #52]
 739:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1910              		.loc 1 739 7 is_stmt 1 view .LVU646
 739:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1911              		.loc 1 739 18 is_stmt 0 view .LVU647
 1912 00c0 0123     		movs	r3, #1
 1913 00c2 85F83030 		strb	r3, [r5, #48]
 740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 1914              		.loc 1 740 7 is_stmt 1 view .LVU648
 740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 1915              		.loc 1 740 20 is_stmt 0 view .LVU649
 1916 00c6 0023     		movs	r3, #0
 1917 00c8 EB62     		str	r3, [r5, #44]
 741:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1918              		.loc 1 741 7 is_stmt 1 view .LVU650
 741:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1919              		.loc 1 741 14 is_stmt 0 view .LVU651
 1920 00ca 92E0     		b	.L124
 1921              	.LVL179:
 1922              	.L134:
 753:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)(data & 0xFFU);
 1923              		.loc 1 753 11 is_stmt 1 view .LVU652
 753:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)(data & 0xFFU);
 1924              		.loc 1 753 18 is_stmt 0 view .LVU653
 1925 00cc 2868     		ldr	r0, [r5]
 1926 00ce FFF7FEFF 		bl	SDMMC_ReadFIFO
 1927              	.LVL180:
 754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1928              		.loc 1 754 11 is_stmt 1 view .LVU654
 754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1929              		.loc 1 754 21 is_stmt 0 view .LVU655
 1930 00d2 2070     		strb	r0, [r4]
 755:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 8U) & 0xFFU);
 1931              		.loc 1 755 11 is_stmt 1 view .LVU656
 1932              	.LVL181:
 756:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1933              		.loc 1 756 11 view .LVU657
 756:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1934              		.loc 1 756 23 is_stmt 0 view .LVU658
 1935 00d4 C0F30723 		ubfx	r3, r0, #8, #8
 756:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1936              		.loc 1 756 21 view .LVU659
 1937 00d8 6370     		strb	r3, [r4, #1]
 757:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 16U) & 0xFFU);
 1938              		.loc 1 757 11 is_stmt 1 view .LVU660
 1939              	.LVL182:
 758:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1940              		.loc 1 758 11 view .LVU661
 758:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1941              		.loc 1 758 23 is_stmt 0 view .LVU662
 1942 00da C0F30743 		ubfx	r3, r0, #16, #8
 758:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 112


 1943              		.loc 1 758 21 view .LVU663
 1944 00de A370     		strb	r3, [r4, #2]
 759:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 24U) & 0xFFU);
 1945              		.loc 1 759 11 is_stmt 1 view .LVU664
 1946              	.LVL183:
 760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1947              		.loc 1 760 11 view .LVU665
 760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1948              		.loc 1 760 23 is_stmt 0 view .LVU666
 1949 00e0 000E     		lsrs	r0, r0, #24
 1950              	.LVL184:
 760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1951              		.loc 1 760 21 view .LVU667
 1952 00e2 E070     		strb	r0, [r4, #3]
 761:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 1953              		.loc 1 761 11 is_stmt 1 view .LVU668
 761:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 1954              		.loc 1 761 19 is_stmt 0 view .LVU669
 1955 00e4 0434     		adds	r4, r4, #4
 1956              	.LVL185:
 751:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 1957              		.loc 1 751 63 is_stmt 1 discriminator 3 view .LVU670
 1958 00e6 0136     		adds	r6, r6, #1
 1959              	.LVL186:
 1960              	.L133:
 751:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 1961              		.loc 1 751 32 discriminator 1 view .LVU671
 1962 00e8 072E     		cmp	r6, #7
 1963 00ea EFD9     		bls	.L134
 763:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 1964              		.loc 1 763 9 view .LVU672
 763:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 1965              		.loc 1 763 23 is_stmt 0 view .LVU673
 1966 00ec ABF1200B 		sub	fp, fp, #32
 1967              	.LVL187:
 1968              	.L132:
 766:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1969              		.loc 1 766 7 is_stmt 1 view .LVU674
 766:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1970              		.loc 1 766 13 is_stmt 0 view .LVU675
 1971 00f0 FFF7FEFF 		bl	HAL_GetTick
 1972              	.LVL188:
 766:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1973              		.loc 1 766 27 discriminator 1 view .LVU676
 1974 00f4 A0EB0800 		sub	r0, r0, r8
 766:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1975              		.loc 1 766 10 discriminator 1 view .LVU677
 1976 00f8 4845     		cmp	r0, r9
 1977 00fa 0FD2     		bcs	.L135
 766:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1978              		.loc 1 766 53 discriminator 1 view .LVU678
 1979 00fc B9F1000F 		cmp	r9, #0
 1980 0100 0CD0     		beq	.L135
 1981              	.L131:
 746:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1982              		.loc 1 746 12 is_stmt 1 view .LVU679
 746:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 113


 1983              		.loc 1 746 13 is_stmt 0 view .LVU680
 1984 0102 2B68     		ldr	r3, [r5]
 1985 0104 5E6B     		ldr	r6, [r3, #52]
 746:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1986              		.loc 1 746 12 view .LVU681
 1987 0106 16F49576 		ands	r6, r6, #298
 1988 010a 15D1     		bne	.L145
 748:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1989              		.loc 1 748 7 is_stmt 1 view .LVU682
 748:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1990              		.loc 1 748 11 is_stmt 0 view .LVU683
 1991 010c 5B6B     		ldr	r3, [r3, #52]
 748:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1992              		.loc 1 748 10 view .LVU684
 1993 010e 13F4004F 		tst	r3, #32768
 1994 0112 EDD0     		beq	.L132
 748:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1995              		.loc 1 748 55 discriminator 1 view .LVU685
 1996 0114 BBF11F0F 		cmp	fp, #31
 1997 0118 EAD9     		bls	.L132
 1998 011a E5E7     		b	.L133
 1999              	.L135:
 769:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_TIMEOUT;
 2000              		.loc 1 769 9 is_stmt 1 view .LVU686
 2001 011c 2B68     		ldr	r3, [r5]
 2002 011e 374A     		ldr	r2, .L149
 2003 0120 9A63     		str	r2, [r3, #56]
 770:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2004              		.loc 1 770 9 view .LVU687
 770:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2005              		.loc 1 770 12 is_stmt 0 view .LVU688
 2006 0122 6B6B     		ldr	r3, [r5, #52]
 770:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2007              		.loc 1 770 24 view .LVU689
 2008 0124 43F00043 		orr	r3, r3, #-2147483648
 2009 0128 6B63     		str	r3, [r5, #52]
 771:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 2010              		.loc 1 771 9 is_stmt 1 view .LVU690
 771:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 2011              		.loc 1 771 20 is_stmt 0 view .LVU691
 2012 012a 0123     		movs	r3, #1
 2013 012c 85F83030 		strb	r3, [r5, #48]
 772:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_TIMEOUT;
 2014              		.loc 1 772 9 is_stmt 1 view .LVU692
 772:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_TIMEOUT;
 2015              		.loc 1 772 22 is_stmt 0 view .LVU693
 2016 0130 0023     		movs	r3, #0
 2017 0132 EB62     		str	r3, [r5, #44]
 773:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 2018              		.loc 1 773 9 is_stmt 1 view .LVU694
 773:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 2019              		.loc 1 773 16 is_stmt 0 view .LVU695
 2020 0134 0327     		movs	r7, #3
 2021 0136 5CE0     		b	.L124
 2022              	.L145:
 776:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2023              		.loc 1 776 5 is_stmt 1 view .LVU696
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 114


 2024 0138 DA68     		ldr	r2, [r3, #12]
 2025 013a 22F04002 		bic	r2, r2, #64
 2026 013e DA60     		str	r2, [r3, #12]
 779:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2027              		.loc 1 779 5 view .LVU697
 779:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2028              		.loc 1 779 9 is_stmt 0 view .LVU698
 2029 0140 2868     		ldr	r0, [r5]
 2030 0142 436B     		ldr	r3, [r0, #52]
 779:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2031              		.loc 1 779 8 view .LVU699
 2032 0144 13F4807F 		tst	r3, #256
 2033 0148 05D0     		beq	.L137
 779:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2034              		.loc 1 779 52 discriminator 1 view .LVU700
 2035 014a BAF1010F 		cmp	r10, #1
 2036 014e 02D9     		bls	.L137
 781:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2037              		.loc 1 781 7 is_stmt 1 view .LVU701
 781:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2038              		.loc 1 781 22 is_stmt 0 view .LVU702
 2039 0150 AB6B     		ldr	r3, [r5, #56]
 781:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2040              		.loc 1 781 10 view .LVU703
 2041 0152 032B     		cmp	r3, #3
 2042 0154 18D1     		bne	.L146
 2043              	.LVL189:
 2044              	.L137:
 798:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2045              		.loc 1 798 5 is_stmt 1 view .LVU704
 798:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2046              		.loc 1 798 9 is_stmt 0 view .LVU705
 2047 0156 2B68     		ldr	r3, [r5]
 2048 0158 5A6B     		ldr	r2, [r3, #52]
 798:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2049              		.loc 1 798 8 view .LVU706
 2050 015a 12F0080F 		tst	r2, #8
 2051 015e 24D1     		bne	.L147
 807:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2052              		.loc 1 807 10 is_stmt 1 view .LVU707
 807:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2053              		.loc 1 807 14 is_stmt 0 view .LVU708
 2054 0160 5A6B     		ldr	r2, [r3, #52]
 807:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2055              		.loc 1 807 13 view .LVU709
 2056 0162 12F0020F 		tst	r2, #2
 2057 0166 2CD1     		bne	.L148
 816:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2058              		.loc 1 816 10 is_stmt 1 view .LVU710
 816:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2059              		.loc 1 816 14 is_stmt 0 view .LVU711
 2060 0168 5A6B     		ldr	r2, [r3, #52]
 816:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2061              		.loc 1 816 13 view .LVU712
 2062 016a 12F0200F 		tst	r2, #32
 2063 016e 34D0     		beq	.L140
 819:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_RX_OVERRUN;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 115


 2064              		.loc 1 819 7 is_stmt 1 view .LVU713
 2065 0170 224A     		ldr	r2, .L149
 2066 0172 9A63     		str	r2, [r3, #56]
 820:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2067              		.loc 1 820 7 view .LVU714
 820:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2068              		.loc 1 820 10 is_stmt 0 view .LVU715
 2069 0174 6B6B     		ldr	r3, [r5, #52]
 820:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2070              		.loc 1 820 22 view .LVU716
 2071 0176 43F02003 		orr	r3, r3, #32
 2072 017a 6B63     		str	r3, [r5, #52]
 821:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2073              		.loc 1 821 7 is_stmt 1 view .LVU717
 821:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2074              		.loc 1 821 18 is_stmt 0 view .LVU718
 2075 017c 0123     		movs	r3, #1
 2076 017e 85F83030 		strb	r3, [r5, #48]
 822:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2077              		.loc 1 822 7 is_stmt 1 view .LVU719
 822:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2078              		.loc 1 822 20 is_stmt 0 view .LVU720
 2079 0182 0023     		movs	r3, #0
 2080 0184 EB62     		str	r3, [r5, #44]
 823:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2081              		.loc 1 823 7 is_stmt 1 view .LVU721
 823:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2082              		.loc 1 823 14 is_stmt 0 view .LVU722
 2083 0186 34E0     		b	.L124
 2084              	.LVL190:
 2085              	.L146:
 784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 2086              		.loc 1 784 9 is_stmt 1 view .LVU723
 784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 2087              		.loc 1 784 22 is_stmt 0 view .LVU724
 2088 0188 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 2089              	.LVL191:
 785:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 2090              		.loc 1 785 9 is_stmt 1 view .LVU725
 785:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 2091              		.loc 1 785 12 is_stmt 0 view .LVU726
 2092 018c 0346     		mov	r3, r0
 2093 018e 0028     		cmp	r0, #0
 2094 0190 E1D0     		beq	.L137
 788:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 2095              		.loc 1 788 11 is_stmt 1 view .LVU727
 2096 0192 2A68     		ldr	r2, [r5]
 2097 0194 1949     		ldr	r1, .L149
 2098 0196 9163     		str	r1, [r2, #56]
 789:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 2099              		.loc 1 789 11 view .LVU728
 789:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 2100              		.loc 1 789 14 is_stmt 0 view .LVU729
 2101 0198 6A6B     		ldr	r2, [r5, #52]
 789:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 2102              		.loc 1 789 26 view .LVU730
 2103 019a 1343     		orrs	r3, r3, r2
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 116


 2104 019c 6B63     		str	r3, [r5, #52]
 790:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 2105              		.loc 1 790 11 is_stmt 1 view .LVU731
 790:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 2106              		.loc 1 790 22 is_stmt 0 view .LVU732
 2107 019e 0123     		movs	r3, #1
 2108 01a0 85F83030 		strb	r3, [r5, #48]
 791:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return HAL_ERROR;
 2109              		.loc 1 791 11 is_stmt 1 view .LVU733
 791:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return HAL_ERROR;
 2110              		.loc 1 791 24 is_stmt 0 view .LVU734
 2111 01a4 0023     		movs	r3, #0
 2112 01a6 EB62     		str	r3, [r5, #44]
 792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 2113              		.loc 1 792 11 is_stmt 1 view .LVU735
 792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 2114              		.loc 1 792 18 is_stmt 0 view .LVU736
 2115 01a8 23E0     		b	.L124
 2116              	.LVL192:
 2117              	.L147:
 801:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
 2118              		.loc 1 801 7 is_stmt 1 view .LVU737
 2119 01aa 144A     		ldr	r2, .L149
 2120 01ac 9A63     		str	r2, [r3, #56]
 802:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2121              		.loc 1 802 7 view .LVU738
 802:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2122              		.loc 1 802 10 is_stmt 0 view .LVU739
 2123 01ae 6B6B     		ldr	r3, [r5, #52]
 802:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2124              		.loc 1 802 22 view .LVU740
 2125 01b0 43F00803 		orr	r3, r3, #8
 2126 01b4 6B63     		str	r3, [r5, #52]
 803:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2127              		.loc 1 803 7 is_stmt 1 view .LVU741
 803:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2128              		.loc 1 803 18 is_stmt 0 view .LVU742
 2129 01b6 0123     		movs	r3, #1
 2130 01b8 85F83030 		strb	r3, [r5, #48]
 804:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2131              		.loc 1 804 7 is_stmt 1 view .LVU743
 804:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2132              		.loc 1 804 20 is_stmt 0 view .LVU744
 2133 01bc 0023     		movs	r3, #0
 2134 01be EB62     		str	r3, [r5, #44]
 805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2135              		.loc 1 805 7 is_stmt 1 view .LVU745
 805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2136              		.loc 1 805 14 is_stmt 0 view .LVU746
 2137 01c0 17E0     		b	.L124
 2138              	.L148:
 810:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
 2139              		.loc 1 810 7 is_stmt 1 view .LVU747
 2140 01c2 0E4A     		ldr	r2, .L149
 2141 01c4 9A63     		str	r2, [r3, #56]
 811:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2142              		.loc 1 811 7 view .LVU748
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 117


 811:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2143              		.loc 1 811 10 is_stmt 0 view .LVU749
 2144 01c6 6B6B     		ldr	r3, [r5, #52]
 811:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2145              		.loc 1 811 22 view .LVU750
 2146 01c8 43F00203 		orr	r3, r3, #2
 2147 01cc 6B63     		str	r3, [r5, #52]
 812:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2148              		.loc 1 812 7 is_stmt 1 view .LVU751
 812:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2149              		.loc 1 812 18 is_stmt 0 view .LVU752
 2150 01ce 0123     		movs	r3, #1
 2151 01d0 85F83030 		strb	r3, [r5, #48]
 813:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2152              		.loc 1 813 7 is_stmt 1 view .LVU753
 813:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2153              		.loc 1 813 20 is_stmt 0 view .LVU754
 2154 01d4 0023     		movs	r3, #0
 2155 01d6 EB62     		str	r3, [r5, #44]
 814:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2156              		.loc 1 814 7 is_stmt 1 view .LVU755
 814:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2157              		.loc 1 814 14 is_stmt 0 view .LVU756
 2158 01d8 0BE0     		b	.L124
 2159              	.L140:
 828:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2160              		.loc 1 828 5 is_stmt 1 view .LVU757
 831:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2161              		.loc 1 831 5 view .LVU758
 2162 01da 094A     		ldr	r2, .L149+4
 2163 01dc 9A63     		str	r2, [r3, #56]
 833:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2164              		.loc 1 833 5 view .LVU759
 833:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2165              		.loc 1 833 16 is_stmt 0 view .LVU760
 2166 01de 0123     		movs	r3, #1
 2167 01e0 85F83030 		strb	r3, [r5, #48]
 835:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2168              		.loc 1 835 5 is_stmt 1 view .LVU761
 835:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2169              		.loc 1 835 12 is_stmt 0 view .LVU762
 2170 01e4 0027     		movs	r7, #0
 2171 01e6 04E0     		b	.L124
 2172              	.LVL193:
 2173              	.L125:
 839:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2174              		.loc 1 839 5 is_stmt 1 view .LVU763
 839:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2175              		.loc 1 839 8 is_stmt 0 view .LVU764
 2176 01e8 6B6B     		ldr	r3, [r5, #52]
 839:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2177              		.loc 1 839 20 view .LVU765
 2178 01ea 43F00053 		orr	r3, r3, #536870912
 2179 01ee 6B63     		str	r3, [r5, #52]
 840:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2180              		.loc 1 840 5 is_stmt 1 view .LVU766
 840:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 118


 2181              		.loc 1 840 12 is_stmt 0 view .LVU767
 2182 01f0 0127     		movs	r7, #1
 2183              	.LVL194:
 2184              	.L124:
 842:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2185              		.loc 1 842 1 view .LVU768
 2186 01f2 3846     		mov	r0, r7
 2187 01f4 07B0     		add	sp, sp, #28
 2188              	.LCFI35:
 2189              		.cfi_def_cfa_offset 36
 2190              		@ sp needed
 2191 01f6 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2192              	.LVL195:
 2193              	.L150:
 842:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2194              		.loc 1 842 1 view .LVU769
 2195 01fa 00BF     		.align	2
 2196              	.L149:
 2197 01fc FF0FE01F 		.word	534777855
 2198 0200 3A0F0018 		.word	402657082
 2199              		.cfi_endproc
 2200              	.LFE149:
 2202              		.section	.text.HAL_SD_WriteBlocks,"ax",%progbits
 2203              		.align	1
 2204              		.global	HAL_SD_WriteBlocks
 2205              		.syntax unified
 2206              		.thumb
 2207              		.thumb_func
 2209              	HAL_SD_WriteBlocks:
 2210              	.LVL196:
 2211              	.LFB150:
 858:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 2212              		.loc 1 858 1 is_stmt 1 view -0
 2213              		.cfi_startproc
 2214              		@ args = 4, pretend = 0, frame = 40
 2215              		@ frame_needed = 0, uses_anonymous_args = 0
 858:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 2216              		.loc 1 858 1 is_stmt 0 view .LVU771
 2217 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2218              	.LCFI36:
 2219              		.cfi_def_cfa_offset 36
 2220              		.cfi_offset 4, -36
 2221              		.cfi_offset 5, -32
 2222              		.cfi_offset 6, -28
 2223              		.cfi_offset 7, -24
 2224              		.cfi_offset 8, -20
 2225              		.cfi_offset 9, -16
 2226              		.cfi_offset 10, -12
 2227              		.cfi_offset 11, -8
 2228              		.cfi_offset 14, -4
 2229 0004 8BB0     		sub	sp, sp, #44
 2230              	.LCFI37:
 2231              		.cfi_def_cfa_offset 80
 2232 0006 0546     		mov	r5, r0
 2233 0008 0C46     		mov	r4, r1
 2234 000a 1646     		mov	r6, r2
 2235 000c 9A46     		mov	r10, r3
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 119


 2236 000e DDF85090 		ldr	r9, [sp, #80]
 859:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 2237              		.loc 1 859 3 is_stmt 1 view .LVU772
 860:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 2238              		.loc 1 860 3 view .LVU773
 861:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 2239              		.loc 1 861 3 view .LVU774
 861:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 2240              		.loc 1 861 24 is_stmt 0 view .LVU775
 2241 0012 FFF7FEFF 		bl	HAL_GetTick
 2242              	.LVL197:
 862:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t data;
 2243              		.loc 1 862 3 is_stmt 1 view .LVU776
 863:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t dataremaining;
 2244              		.loc 1 863 3 view .LVU777
 864:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 2245              		.loc 1 864 3 view .LVU778
 865:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   const uint8_t *tempbuff = pData;
 2246              		.loc 1 865 3 view .LVU779
 866:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2247              		.loc 1 866 3 view .LVU780
 868:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2248              		.loc 1 868 3 view .LVU781
 868:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2249              		.loc 1 868 6 is_stmt 0 view .LVU782
 2250 0016 002C     		cmp	r4, #0
 2251 0018 3BD0     		beq	.L171
 2252 001a 8046     		mov	r8, r0
 874:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2253              		.loc 1 874 3 is_stmt 1 view .LVU783
 874:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2254              		.loc 1 874 10 is_stmt 0 view .LVU784
 2255 001c 95F83070 		ldrb	r7, [r5, #48]	@ zero_extendqisi2
 2256 0020 FFB2     		uxtb	r7, r7
 874:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2257              		.loc 1 874 6 view .LVU785
 2258 0022 012F     		cmp	r7, #1
 2259 0024 40F0E980 		bne	.L154
 876:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2260              		.loc 1 876 5 is_stmt 1 view .LVU786
 876:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2261              		.loc 1 876 20 is_stmt 0 view .LVU787
 2262 0028 0023     		movs	r3, #0
 2263 002a 6B63     		str	r3, [r5, #52]
 878:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2264              		.loc 1 878 5 is_stmt 1 view .LVU788
 878:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2265              		.loc 1 878 14 is_stmt 0 view .LVU789
 2266 002c 06EB0A03 		add	r3, r6, r10
 878:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2267              		.loc 1 878 46 view .LVU790
 2268 0030 2A6D     		ldr	r2, [r5, #80]
 878:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2269              		.loc 1 878 8 view .LVU791
 2270 0032 9342     		cmp	r3, r2
 2271 0034 33D8     		bhi	.L172
 884:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 120


 2272              		.loc 1 884 5 is_stmt 1 view .LVU792
 884:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2273              		.loc 1 884 16 is_stmt 0 view .LVU793
 2274 0036 0323     		movs	r3, #3
 2275 0038 85F83030 		strb	r3, [r5, #48]
 887:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2276              		.loc 1 887 5 is_stmt 1 view .LVU794
 887:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2277              		.loc 1 887 8 is_stmt 0 view .LVU795
 2278 003c 2B68     		ldr	r3, [r5]
 887:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2279              		.loc 1 887 26 view .LVU796
 2280 003e 0022     		movs	r2, #0
 2281 0040 DA62     		str	r2, [r3, #44]
 889:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2282              		.loc 1 889 5 is_stmt 1 view .LVU797
 889:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2283              		.loc 1 889 20 is_stmt 0 view .LVU798
 2284 0042 AB6B     		ldr	r3, [r5, #56]
 889:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2285              		.loc 1 889 8 view .LVU799
 2286 0044 012B     		cmp	r3, #1
 2287 0046 00D0     		beq	.L156
 891:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2288              		.loc 1 891 7 is_stmt 1 view .LVU800
 891:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2289              		.loc 1 891 11 is_stmt 0 view .LVU801
 2290 0048 7602     		lsls	r6, r6, #9
 2291              	.LVL198:
 2292              	.L156:
 895:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 2293              		.loc 1 895 5 is_stmt 1 view .LVU802
 895:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 2294              		.loc 1 895 26 is_stmt 0 view .LVU803
 2295 004a 4FF0FF33 		mov	r3, #-1
 2296 004e 0493     		str	r3, [sp, #16]
 896:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2297              		.loc 1 896 5 is_stmt 1 view .LVU804
 896:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2298              		.loc 1 896 43 is_stmt 0 view .LVU805
 2299 0050 4FEA4A23 		lsl	r3, r10, #9
 896:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2300              		.loc 1 896 26 view .LVU806
 2301 0054 0593     		str	r3, [sp, #20]
 897:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 2302              		.loc 1 897 5 is_stmt 1 view .LVU807
 897:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 2303              		.loc 1 897 26 is_stmt 0 view .LVU808
 2304 0056 9023     		movs	r3, #144
 2305 0058 0693     		str	r3, [sp, #24]
 898:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 2306              		.loc 1 898 5 is_stmt 1 view .LVU809
 898:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 2307              		.loc 1 898 26 is_stmt 0 view .LVU810
 2308 005a 0023     		movs	r3, #0
 2309 005c 0793     		str	r3, [sp, #28]
 899:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 121


 2310              		.loc 1 899 5 is_stmt 1 view .LVU811
 899:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 2311              		.loc 1 899 26 is_stmt 0 view .LVU812
 2312 005e 0893     		str	r3, [sp, #32]
 900:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 2313              		.loc 1 900 5 is_stmt 1 view .LVU813
 900:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 2314              		.loc 1 900 26 is_stmt 0 view .LVU814
 2315 0060 0993     		str	r3, [sp, #36]
 901:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 2316              		.loc 1 901 5 is_stmt 1 view .LVU815
 901:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 2317              		.loc 1 901 11 is_stmt 0 view .LVU816
 2318 0062 04A9     		add	r1, sp, #16
 2319 0064 2868     		ldr	r0, [r5]
 2320              	.LVL199:
 901:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 2321              		.loc 1 901 11 view .LVU817
 2322 0066 FFF7FEFF 		bl	SDMMC_ConfigData
 2323              	.LVL200:
 902:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2324              		.loc 1 902 5 is_stmt 1 view .LVU818
 2325 006a 2A68     		ldr	r2, [r5]
 2326 006c D368     		ldr	r3, [r2, #12]
 2327 006e 43F04003 		orr	r3, r3, #64
 2328 0072 D360     		str	r3, [r2, #12]
 905:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2329              		.loc 1 905 5 view .LVU819
 905:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2330              		.loc 1 905 8 is_stmt 0 view .LVU820
 2331 0074 BAF1010F 		cmp	r10, #1
 2332 0078 16D9     		bls	.L157
 907:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2333              		.loc 1 907 7 is_stmt 1 view .LVU821
 907:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2334              		.loc 1 907 20 is_stmt 0 view .LVU822
 2335 007a 2023     		movs	r3, #32
 2336 007c EB62     		str	r3, [r5, #44]
 910:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2337              		.loc 1 910 7 is_stmt 1 view .LVU823
 910:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2338              		.loc 1 910 20 is_stmt 0 view .LVU824
 2339 007e 3146     		mov	r1, r6
 2340 0080 2868     		ldr	r0, [r5]
 2341 0082 FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 2342              	.LVL201:
 2343 0086 0190     		str	r0, [sp, #4]
 2344              	.LVL202:
 2345              	.L158:
 919:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2346              		.loc 1 919 5 is_stmt 1 view .LVU825
 919:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2347              		.loc 1 919 8 is_stmt 0 view .LVU826
 2348 0088 019B     		ldr	r3, [sp, #4]
 2349 008a ABB9     		cbnz	r3, .L173
 930:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXUNDERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT 
 2350              		.loc 1 930 5 is_stmt 1 view .LVU827
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 122


 930:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXUNDERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT 
 2351              		.loc 1 930 19 is_stmt 0 view .LVU828
 2352 008c DDF814B0 		ldr	fp, [sp, #20]
 2353              	.LVL203:
 931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 2354              		.loc 1 931 5 is_stmt 1 view .LVU829
 931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 2355              		.loc 1 931 11 is_stmt 0 view .LVU830
 2356 0090 40E0     		b	.L160
 2357              	.LVL204:
 2358              	.L171:
 870:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2359              		.loc 1 870 5 is_stmt 1 view .LVU831
 870:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2360              		.loc 1 870 8 is_stmt 0 view .LVU832
 2361 0092 6B6B     		ldr	r3, [r5, #52]
 870:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2362              		.loc 1 870 20 view .LVU833
 2363 0094 43F00063 		orr	r3, r3, #134217728
 2364 0098 6B63     		str	r3, [r5, #52]
 871:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2365              		.loc 1 871 5 is_stmt 1 view .LVU834
 871:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2366              		.loc 1 871 12 is_stmt 0 view .LVU835
 2367 009a 0127     		movs	r7, #1
 2368 009c B2E0     		b	.L153
 2369              	.L172:
 880:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2370              		.loc 1 880 7 is_stmt 1 view .LVU836
 880:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2371              		.loc 1 880 10 is_stmt 0 view .LVU837
 2372 009e 6B6B     		ldr	r3, [r5, #52]
 880:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2373              		.loc 1 880 22 view .LVU838
 2374 00a0 43F00073 		orr	r3, r3, #33554432
 2375 00a4 6B63     		str	r3, [r5, #52]
 881:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2376              		.loc 1 881 7 is_stmt 1 view .LVU839
 881:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2377              		.loc 1 881 14 is_stmt 0 view .LVU840
 2378 00a6 ADE0     		b	.L153
 2379              	.LVL205:
 2380              	.L157:
 914:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2381              		.loc 1 914 7 is_stmt 1 view .LVU841
 914:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2382              		.loc 1 914 20 is_stmt 0 view .LVU842
 2383 00a8 1023     		movs	r3, #16
 2384 00aa EB62     		str	r3, [r5, #44]
 917:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2385              		.loc 1 917 7 is_stmt 1 view .LVU843
 917:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2386              		.loc 1 917 20 is_stmt 0 view .LVU844
 2387 00ac 3146     		mov	r1, r6
 2388 00ae 2868     		ldr	r0, [r5]
 2389 00b0 FFF7FEFF 		bl	SDMMC_CmdWriteSingleBlock
 2390              	.LVL206:
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 123


 2391 00b4 0190     		str	r0, [sp, #4]
 2392              	.LVL207:
 917:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2393              		.loc 1 917 20 view .LVU845
 2394 00b6 E7E7     		b	.L158
 2395              	.LVL208:
 2396              	.L173:
 922:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 2397              		.loc 1 922 7 is_stmt 1 view .LVU846
 2398 00b8 2B68     		ldr	r3, [r5]
 2399              	.LVL209:
 922:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 2400              		.loc 1 922 7 is_stmt 0 view .LVU847
 2401 00ba 544A     		ldr	r2, .L178
 2402 00bc 9A63     		str	r2, [r3, #56]
 923:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2403              		.loc 1 923 7 is_stmt 1 view .LVU848
 923:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2404              		.loc 1 923 10 is_stmt 0 view .LVU849
 2405 00be 6B6B     		ldr	r3, [r5, #52]
 923:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2406              		.loc 1 923 22 view .LVU850
 2407 00c0 019A     		ldr	r2, [sp, #4]
 2408 00c2 1343     		orrs	r3, r3, r2
 2409 00c4 6B63     		str	r3, [r5, #52]
 924:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2410              		.loc 1 924 7 is_stmt 1 view .LVU851
 924:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2411              		.loc 1 924 18 is_stmt 0 view .LVU852
 2412 00c6 0123     		movs	r3, #1
 2413 00c8 85F83030 		strb	r3, [r5, #48]
 925:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2414              		.loc 1 925 7 is_stmt 1 view .LVU853
 925:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2415              		.loc 1 925 20 is_stmt 0 view .LVU854
 2416 00cc 0023     		movs	r3, #0
 2417 00ce EB62     		str	r3, [r5, #44]
 926:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2418              		.loc 1 926 7 is_stmt 1 view .LVU855
 926:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2419              		.loc 1 926 14 is_stmt 0 view .LVU856
 2420 00d0 98E0     		b	.L153
 2421              	.LVL210:
 2422              	.L163:
 939:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2423              		.loc 1 939 11 is_stmt 1 view .LVU857
 939:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2424              		.loc 1 939 29 is_stmt 0 view .LVU858
 2425 00d2 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 939:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2426              		.loc 1 939 16 view .LVU859
 2427 00d4 0393     		str	r3, [sp, #12]
 940:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 8U);
 2428              		.loc 1 940 11 is_stmt 1 view .LVU860
 2429              	.LVL211:
 941:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2430              		.loc 1 941 11 view .LVU861
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 124


 941:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2431              		.loc 1 941 31 is_stmt 0 view .LVU862
 2432 00d6 6278     		ldrb	r2, [r4, #1]	@ zero_extendqisi2
 941:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2433              		.loc 1 941 16 view .LVU863
 2434 00d8 43EA0223 		orr	r3, r3, r2, lsl #8
 2435 00dc 0393     		str	r3, [sp, #12]
 942:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 16U);
 2436              		.loc 1 942 11 is_stmt 1 view .LVU864
 2437              	.LVL212:
 943:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2438              		.loc 1 943 11 view .LVU865
 943:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2439              		.loc 1 943 31 is_stmt 0 view .LVU866
 2440 00de A278     		ldrb	r2, [r4, #2]	@ zero_extendqisi2
 943:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2441              		.loc 1 943 16 view .LVU867
 2442 00e0 43EA0243 		orr	r3, r3, r2, lsl #16
 2443 00e4 0393     		str	r3, [sp, #12]
 944:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 24U);
 2444              		.loc 1 944 11 is_stmt 1 view .LVU868
 2445              	.LVL213:
 945:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2446              		.loc 1 945 11 view .LVU869
 945:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2447              		.loc 1 945 31 is_stmt 0 view .LVU870
 2448 00e6 E278     		ldrb	r2, [r4, #3]	@ zero_extendqisi2
 945:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2449              		.loc 1 945 16 view .LVU871
 2450 00e8 43EA0263 		orr	r3, r3, r2, lsl #24
 2451 00ec 0393     		str	r3, [sp, #12]
 946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (void)SDMMC_WriteFIFO(hsd->Instance, &data);
 2452              		.loc 1 946 11 is_stmt 1 view .LVU872
 946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (void)SDMMC_WriteFIFO(hsd->Instance, &data);
 2453              		.loc 1 946 19 is_stmt 0 view .LVU873
 2454 00ee 0434     		adds	r4, r4, #4
 2455              	.LVL214:
 947:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 2456              		.loc 1 947 11 is_stmt 1 view .LVU874
 947:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 2457              		.loc 1 947 17 is_stmt 0 view .LVU875
 2458 00f0 03A9     		add	r1, sp, #12
 2459 00f2 2868     		ldr	r0, [r5]
 2460 00f4 FFF7FEFF 		bl	SDMMC_WriteFIFO
 2461              	.LVL215:
 937:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 2462              		.loc 1 937 63 is_stmt 1 discriminator 3 view .LVU876
 2463 00f8 0136     		adds	r6, r6, #1
 2464              	.LVL216:
 2465              	.L162:
 937:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 2466              		.loc 1 937 32 discriminator 1 view .LVU877
 2467 00fa 072E     		cmp	r6, #7
 2468 00fc E9D9     		bls	.L163
 949:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 2469              		.loc 1 949 9 view .LVU878
 949:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 125


 2470              		.loc 1 949 23 is_stmt 0 view .LVU879
 2471 00fe ABF1200B 		sub	fp, fp, #32
 2472              	.LVL217:
 2473              	.L161:
 952:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2474              		.loc 1 952 7 is_stmt 1 view .LVU880
 952:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2475              		.loc 1 952 13 is_stmt 0 view .LVU881
 2476 0102 FFF7FEFF 		bl	HAL_GetTick
 2477              	.LVL218:
 952:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2478              		.loc 1 952 27 discriminator 1 view .LVU882
 2479 0106 A0EB0800 		sub	r0, r0, r8
 952:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2480              		.loc 1 952 10 discriminator 1 view .LVU883
 2481 010a 4845     		cmp	r0, r9
 2482 010c 0FD2     		bcs	.L164
 952:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2483              		.loc 1 952 53 discriminator 1 view .LVU884
 2484 010e B9F1000F 		cmp	r9, #0
 2485 0112 0CD0     		beq	.L164
 2486              	.L160:
 931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 2487              		.loc 1 931 12 is_stmt 1 view .LVU885
 931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 2488              		.loc 1 931 13 is_stmt 0 view .LVU886
 2489 0114 2B68     		ldr	r3, [r5]
 2490 0116 5E6B     		ldr	r6, [r3, #52]
 931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 2491              		.loc 1 931 12 view .LVU887
 2492 0118 16F48D76 		ands	r6, r6, #282
 2493 011c 15D1     		bne	.L174
 934:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2494              		.loc 1 934 7 is_stmt 1 view .LVU888
 934:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2495              		.loc 1 934 11 is_stmt 0 view .LVU889
 2496 011e 5B6B     		ldr	r3, [r3, #52]
 934:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2497              		.loc 1 934 10 view .LVU890
 2498 0120 13F4804F 		tst	r3, #16384
 2499 0124 EDD0     		beq	.L161
 934:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2500              		.loc 1 934 55 discriminator 1 view .LVU891
 2501 0126 BBF11F0F 		cmp	fp, #31
 2502 012a EAD9     		bls	.L161
 2503 012c E5E7     		b	.L162
 2504              	.L164:
 955:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 2505              		.loc 1 955 9 is_stmt 1 view .LVU892
 2506 012e 2B68     		ldr	r3, [r5]
 2507 0130 364A     		ldr	r2, .L178
 2508 0132 9A63     		str	r2, [r3, #56]
 956:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2509              		.loc 1 956 9 view .LVU893
 956:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2510              		.loc 1 956 12 is_stmt 0 view .LVU894
 2511 0134 6B6B     		ldr	r3, [r5, #52]
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 126


 956:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2512              		.loc 1 956 24 view .LVU895
 2513 0136 019A     		ldr	r2, [sp, #4]
 2514 0138 1343     		orrs	r3, r3, r2
 2515 013a 6B63     		str	r3, [r5, #52]
 957:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 2516              		.loc 1 957 9 is_stmt 1 view .LVU896
 957:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 2517              		.loc 1 957 20 is_stmt 0 view .LVU897
 2518 013c 0123     		movs	r3, #1
 2519 013e 85F83030 		strb	r3, [r5, #48]
 958:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_TIMEOUT;
 2520              		.loc 1 958 9 is_stmt 1 view .LVU898
 958:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_TIMEOUT;
 2521              		.loc 1 958 22 is_stmt 0 view .LVU899
 2522 0142 0023     		movs	r3, #0
 2523 0144 EB62     		str	r3, [r5, #44]
 959:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 2524              		.loc 1 959 9 is_stmt 1 view .LVU900
 959:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 2525              		.loc 1 959 16 is_stmt 0 view .LVU901
 2526 0146 0327     		movs	r7, #3
 2527 0148 5CE0     		b	.L153
 2528              	.L174:
 962:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2529              		.loc 1 962 5 is_stmt 1 view .LVU902
 2530 014a DA68     		ldr	r2, [r3, #12]
 2531 014c 22F04002 		bic	r2, r2, #64
 2532 0150 DA60     		str	r2, [r3, #12]
 965:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2533              		.loc 1 965 5 view .LVU903
 965:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2534              		.loc 1 965 9 is_stmt 0 view .LVU904
 2535 0152 2868     		ldr	r0, [r5]
 2536 0154 436B     		ldr	r3, [r0, #52]
 965:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2537              		.loc 1 965 8 view .LVU905
 2538 0156 13F4807F 		tst	r3, #256
 2539 015a 05D0     		beq	.L166
 965:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2540              		.loc 1 965 52 discriminator 1 view .LVU906
 2541 015c BAF1010F 		cmp	r10, #1
 2542 0160 02D9     		bls	.L166
 967:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2543              		.loc 1 967 7 is_stmt 1 view .LVU907
 967:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2544              		.loc 1 967 22 is_stmt 0 view .LVU908
 2545 0162 AB6B     		ldr	r3, [r5, #56]
 967:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2546              		.loc 1 967 10 view .LVU909
 2547 0164 032B     		cmp	r3, #3
 2548 0166 18D1     		bne	.L175
 2549              	.LVL219:
 2550              	.L166:
 984:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2551              		.loc 1 984 5 is_stmt 1 view .LVU910
 984:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 127


 2552              		.loc 1 984 9 is_stmt 0 view .LVU911
 2553 0168 2B68     		ldr	r3, [r5]
 2554 016a 5A6B     		ldr	r2, [r3, #52]
 984:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2555              		.loc 1 984 8 view .LVU912
 2556 016c 12F0080F 		tst	r2, #8
 2557 0170 24D1     		bne	.L176
 993:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2558              		.loc 1 993 10 is_stmt 1 view .LVU913
 993:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2559              		.loc 1 993 14 is_stmt 0 view .LVU914
 2560 0172 5A6B     		ldr	r2, [r3, #52]
 993:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2561              		.loc 1 993 13 view .LVU915
 2562 0174 12F0020F 		tst	r2, #2
 2563 0178 2CD1     		bne	.L177
1002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2564              		.loc 1 1002 10 is_stmt 1 view .LVU916
1002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2565              		.loc 1 1002 14 is_stmt 0 view .LVU917
 2566 017a 5A6B     		ldr	r2, [r3, #52]
1002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2567              		.loc 1 1002 13 view .LVU918
 2568 017c 12F0100F 		tst	r2, #16
 2569 0180 34D0     		beq	.L169
1005:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_TX_UNDERRUN;
 2570              		.loc 1 1005 7 is_stmt 1 view .LVU919
 2571 0182 224A     		ldr	r2, .L178
 2572 0184 9A63     		str	r2, [r3, #56]
1006:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2573              		.loc 1 1006 7 view .LVU920
1006:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2574              		.loc 1 1006 10 is_stmt 0 view .LVU921
 2575 0186 6B6B     		ldr	r3, [r5, #52]
1006:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2576              		.loc 1 1006 22 view .LVU922
 2577 0188 43F01003 		orr	r3, r3, #16
 2578 018c 6B63     		str	r3, [r5, #52]
1007:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2579              		.loc 1 1007 7 is_stmt 1 view .LVU923
1007:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2580              		.loc 1 1007 18 is_stmt 0 view .LVU924
 2581 018e 0123     		movs	r3, #1
 2582 0190 85F83030 		strb	r3, [r5, #48]
1008:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2583              		.loc 1 1008 7 is_stmt 1 view .LVU925
1008:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2584              		.loc 1 1008 20 is_stmt 0 view .LVU926
 2585 0194 0023     		movs	r3, #0
 2586 0196 EB62     		str	r3, [r5, #44]
1009:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2587              		.loc 1 1009 7 is_stmt 1 view .LVU927
1009:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2588              		.loc 1 1009 14 is_stmt 0 view .LVU928
 2589 0198 34E0     		b	.L153
 2590              	.LVL220:
 2591              	.L175:
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 128


 970:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 2592              		.loc 1 970 9 is_stmt 1 view .LVU929
 970:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 2593              		.loc 1 970 22 is_stmt 0 view .LVU930
 2594 019a FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 2595              	.LVL221:
 971:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 2596              		.loc 1 971 9 is_stmt 1 view .LVU931
 971:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 2597              		.loc 1 971 12 is_stmt 0 view .LVU932
 2598 019e 0346     		mov	r3, r0
 2599 01a0 0028     		cmp	r0, #0
 2600 01a2 E1D0     		beq	.L166
 974:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 2601              		.loc 1 974 11 is_stmt 1 view .LVU933
 2602 01a4 2A68     		ldr	r2, [r5]
 2603 01a6 1949     		ldr	r1, .L178
 2604 01a8 9163     		str	r1, [r2, #56]
 975:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 2605              		.loc 1 975 11 view .LVU934
 975:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 2606              		.loc 1 975 14 is_stmt 0 view .LVU935
 2607 01aa 6A6B     		ldr	r2, [r5, #52]
 975:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 2608              		.loc 1 975 26 view .LVU936
 2609 01ac 1343     		orrs	r3, r3, r2
 2610 01ae 6B63     		str	r3, [r5, #52]
 976:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 2611              		.loc 1 976 11 is_stmt 1 view .LVU937
 976:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 2612              		.loc 1 976 22 is_stmt 0 view .LVU938
 2613 01b0 0123     		movs	r3, #1
 2614 01b2 85F83030 		strb	r3, [r5, #48]
 977:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return HAL_ERROR;
 2615              		.loc 1 977 11 is_stmt 1 view .LVU939
 977:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return HAL_ERROR;
 2616              		.loc 1 977 24 is_stmt 0 view .LVU940
 2617 01b6 0023     		movs	r3, #0
 2618 01b8 EB62     		str	r3, [r5, #44]
 978:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 2619              		.loc 1 978 11 is_stmt 1 view .LVU941
 978:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 2620              		.loc 1 978 18 is_stmt 0 view .LVU942
 2621 01ba 23E0     		b	.L153
 2622              	.LVL222:
 2623              	.L176:
 987:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
 2624              		.loc 1 987 7 is_stmt 1 view .LVU943
 2625 01bc 134A     		ldr	r2, .L178
 2626 01be 9A63     		str	r2, [r3, #56]
 988:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2627              		.loc 1 988 7 view .LVU944
 988:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2628              		.loc 1 988 10 is_stmt 0 view .LVU945
 2629 01c0 6B6B     		ldr	r3, [r5, #52]
 988:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2630              		.loc 1 988 22 view .LVU946
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 129


 2631 01c2 43F00803 		orr	r3, r3, #8
 2632 01c6 6B63     		str	r3, [r5, #52]
 989:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2633              		.loc 1 989 7 is_stmt 1 view .LVU947
 989:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2634              		.loc 1 989 18 is_stmt 0 view .LVU948
 2635 01c8 0123     		movs	r3, #1
 2636 01ca 85F83030 		strb	r3, [r5, #48]
 990:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2637              		.loc 1 990 7 is_stmt 1 view .LVU949
 990:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2638              		.loc 1 990 20 is_stmt 0 view .LVU950
 2639 01ce 0023     		movs	r3, #0
 2640 01d0 EB62     		str	r3, [r5, #44]
 991:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2641              		.loc 1 991 7 is_stmt 1 view .LVU951
 991:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2642              		.loc 1 991 14 is_stmt 0 view .LVU952
 2643 01d2 17E0     		b	.L153
 2644              	.L177:
 996:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
 2645              		.loc 1 996 7 is_stmt 1 view .LVU953
 2646 01d4 0D4A     		ldr	r2, .L178
 2647 01d6 9A63     		str	r2, [r3, #56]
 997:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2648              		.loc 1 997 7 view .LVU954
 997:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2649              		.loc 1 997 10 is_stmt 0 view .LVU955
 2650 01d8 6B6B     		ldr	r3, [r5, #52]
 997:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2651              		.loc 1 997 22 view .LVU956
 2652 01da 43F00203 		orr	r3, r3, #2
 2653 01de 6B63     		str	r3, [r5, #52]
 998:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2654              		.loc 1 998 7 is_stmt 1 view .LVU957
 998:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2655              		.loc 1 998 18 is_stmt 0 view .LVU958
 2656 01e0 0123     		movs	r3, #1
 2657 01e2 85F83030 		strb	r3, [r5, #48]
 999:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2658              		.loc 1 999 7 is_stmt 1 view .LVU959
 999:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2659              		.loc 1 999 20 is_stmt 0 view .LVU960
 2660 01e6 0023     		movs	r3, #0
 2661 01e8 EB62     		str	r3, [r5, #44]
1000:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2662              		.loc 1 1000 7 is_stmt 1 view .LVU961
1000:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2663              		.loc 1 1000 14 is_stmt 0 view .LVU962
 2664 01ea 0BE0     		b	.L153
 2665              	.L169:
1014:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2666              		.loc 1 1014 5 is_stmt 1 view .LVU963
1017:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2667              		.loc 1 1017 5 view .LVU964
 2668 01ec 084A     		ldr	r2, .L178+4
 2669 01ee 9A63     		str	r2, [r3, #56]
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 130


1019:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2670              		.loc 1 1019 5 view .LVU965
1019:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2671              		.loc 1 1019 16 is_stmt 0 view .LVU966
 2672 01f0 0123     		movs	r3, #1
 2673 01f2 85F83030 		strb	r3, [r5, #48]
1021:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2674              		.loc 1 1021 5 is_stmt 1 view .LVU967
1021:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2675              		.loc 1 1021 12 is_stmt 0 view .LVU968
 2676 01f6 0027     		movs	r7, #0
 2677 01f8 04E0     		b	.L153
 2678              	.LVL223:
 2679              	.L154:
1025:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2680              		.loc 1 1025 5 is_stmt 1 view .LVU969
1025:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2681              		.loc 1 1025 8 is_stmt 0 view .LVU970
 2682 01fa 6B6B     		ldr	r3, [r5, #52]
1025:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2683              		.loc 1 1025 20 view .LVU971
 2684 01fc 43F00053 		orr	r3, r3, #536870912
 2685 0200 6B63     		str	r3, [r5, #52]
1026:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2686              		.loc 1 1026 5 is_stmt 1 view .LVU972
1026:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2687              		.loc 1 1026 12 is_stmt 0 view .LVU973
 2688 0202 0127     		movs	r7, #1
 2689              	.LVL224:
 2690              	.L153:
1028:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2691              		.loc 1 1028 1 view .LVU974
 2692 0204 3846     		mov	r0, r7
 2693 0206 0BB0     		add	sp, sp, #44
 2694              	.LCFI38:
 2695              		.cfi_def_cfa_offset 36
 2696              		@ sp needed
 2697 0208 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2698              	.LVL225:
 2699              	.L179:
1028:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2700              		.loc 1 1028 1 view .LVU975
 2701              		.align	2
 2702              	.L178:
 2703 020c FF0FE01F 		.word	534777855
 2704 0210 3A0F0018 		.word	402657082
 2705              		.cfi_endproc
 2706              	.LFE150:
 2708              		.section	.text.HAL_SD_ReadBlocks_IT,"ax",%progbits
 2709              		.align	1
 2710              		.global	HAL_SD_ReadBlocks_IT
 2711              		.syntax unified
 2712              		.thumb
 2713              		.thumb_func
 2715              	HAL_SD_ReadBlocks_IT:
 2716              	.LVL226:
 2717              	.LFB151:
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 131


1045:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 2718              		.loc 1 1045 1 is_stmt 1 view -0
 2719              		.cfi_startproc
 2720              		@ args = 0, pretend = 0, frame = 24
 2721              		@ frame_needed = 0, uses_anonymous_args = 0
1045:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 2722              		.loc 1 1045 1 is_stmt 0 view .LVU977
 2723 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2724              	.LCFI39:
 2725              		.cfi_def_cfa_offset 20
 2726              		.cfi_offset 4, -20
 2727              		.cfi_offset 5, -16
 2728              		.cfi_offset 6, -12
 2729              		.cfi_offset 7, -8
 2730              		.cfi_offset 14, -4
 2731 0002 87B0     		sub	sp, sp, #28
 2732              	.LCFI40:
 2733              		.cfi_def_cfa_offset 48
 2734 0004 0446     		mov	r4, r0
1046:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 2735              		.loc 1 1046 3 is_stmt 1 view .LVU978
1047:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 2736              		.loc 1 1047 3 view .LVU979
1048:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2737              		.loc 1 1048 3 view .LVU980
 2738              	.LVL227:
1050:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2739              		.loc 1 1050 3 view .LVU981
1050:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2740              		.loc 1 1050 6 is_stmt 0 view .LVU982
 2741 0006 0029     		cmp	r1, #0
 2742 0008 43D0     		beq	.L190
 2743 000a 1646     		mov	r6, r2
 2744 000c 1F46     		mov	r7, r3
 2745 000e 0A46     		mov	r2, r1
 2746              	.LVL228:
1056:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2747              		.loc 1 1056 3 is_stmt 1 view .LVU983
1056:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2748              		.loc 1 1056 10 is_stmt 0 view .LVU984
 2749 0010 90F83050 		ldrb	r5, [r0, #48]	@ zero_extendqisi2
 2750 0014 EDB2     		uxtb	r5, r5
1056:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2751              		.loc 1 1056 6 view .LVU985
 2752 0016 012D     		cmp	r5, #1
 2753 0018 55D1     		bne	.L188
1058:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2754              		.loc 1 1058 5 is_stmt 1 view .LVU986
1058:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2755              		.loc 1 1058 20 is_stmt 0 view .LVU987
 2756 001a 0023     		movs	r3, #0
 2757              	.LVL229:
1058:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2758              		.loc 1 1058 20 view .LVU988
 2759 001c 4363     		str	r3, [r0, #52]
1060:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2760              		.loc 1 1060 5 is_stmt 1 view .LVU989
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 132


1060:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2761              		.loc 1 1060 14 is_stmt 0 view .LVU990
 2762 001e F319     		adds	r3, r6, r7
1060:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2763              		.loc 1 1060 46 view .LVU991
 2764 0020 016D     		ldr	r1, [r0, #80]
 2765              	.LVL230:
1060:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2766              		.loc 1 1060 8 view .LVU992
 2767 0022 8B42     		cmp	r3, r1
 2768 0024 3BD8     		bhi	.L191
1066:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2769              		.loc 1 1066 5 is_stmt 1 view .LVU993
1066:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2770              		.loc 1 1066 16 is_stmt 0 view .LVU994
 2771 0026 0323     		movs	r3, #3
 2772 0028 80F83030 		strb	r3, [r0, #48]
1069:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2773              		.loc 1 1069 5 is_stmt 1 view .LVU995
1069:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2774              		.loc 1 1069 8 is_stmt 0 view .LVU996
 2775 002c 0368     		ldr	r3, [r0]
1069:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2776              		.loc 1 1069 26 view .LVU997
 2777 002e 0021     		movs	r1, #0
 2778 0030 D962     		str	r1, [r3, #44]
1071:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
 2779              		.loc 1 1071 5 is_stmt 1 view .LVU998
1071:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
 2780              		.loc 1 1071 21 is_stmt 0 view .LVU999
 2781 0032 4262     		str	r2, [r0, #36]
1072:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2782              		.loc 1 1072 5 is_stmt 1 view .LVU1000
1072:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2783              		.loc 1 1072 33 is_stmt 0 view .LVU1001
 2784 0034 7B02     		lsls	r3, r7, #9
1072:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2785              		.loc 1 1072 21 view .LVU1002
 2786 0036 8362     		str	r3, [r0, #40]
1074:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2787              		.loc 1 1074 5 is_stmt 1 view .LVU1003
1074:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2788              		.loc 1 1074 20 is_stmt 0 view .LVU1004
 2789 0038 826B     		ldr	r2, [r0, #56]
 2790              	.LVL231:
1074:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2791              		.loc 1 1074 8 view .LVU1005
 2792 003a 012A     		cmp	r2, #1
 2793 003c 00D0     		beq	.L184
1076:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2794              		.loc 1 1076 7 is_stmt 1 view .LVU1006
1076:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2795              		.loc 1 1076 11 is_stmt 0 view .LVU1007
 2796 003e 7602     		lsls	r6, r6, #9
 2797              	.LVL232:
 2798              	.L184:
1080:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 133


 2799              		.loc 1 1080 5 is_stmt 1 view .LVU1008
1080:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 2800              		.loc 1 1080 26 is_stmt 0 view .LVU1009
 2801 0040 4FF0FF32 		mov	r2, #-1
 2802 0044 0092     		str	r2, [sp]
1081:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2803              		.loc 1 1081 5 is_stmt 1 view .LVU1010
1081:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2804              		.loc 1 1081 26 is_stmt 0 view .LVU1011
 2805 0046 0193     		str	r3, [sp, #4]
1082:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 2806              		.loc 1 1082 5 is_stmt 1 view .LVU1012
1082:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 2807              		.loc 1 1082 26 is_stmt 0 view .LVU1013
 2808 0048 9023     		movs	r3, #144
 2809 004a 0293     		str	r3, [sp, #8]
1083:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 2810              		.loc 1 1083 5 is_stmt 1 view .LVU1014
1083:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 2811              		.loc 1 1083 26 is_stmt 0 view .LVU1015
 2812 004c 0223     		movs	r3, #2
 2813 004e 0393     		str	r3, [sp, #12]
1084:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 2814              		.loc 1 1084 5 is_stmt 1 view .LVU1016
1084:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 2815              		.loc 1 1084 26 is_stmt 0 view .LVU1017
 2816 0050 0023     		movs	r3, #0
 2817 0052 0493     		str	r3, [sp, #16]
1085:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 2818              		.loc 1 1085 5 is_stmt 1 view .LVU1018
1085:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 2819              		.loc 1 1085 26 is_stmt 0 view .LVU1019
 2820 0054 0593     		str	r3, [sp, #20]
1086:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 2821              		.loc 1 1086 5 is_stmt 1 view .LVU1020
1086:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 2822              		.loc 1 1086 11 is_stmt 0 view .LVU1021
 2823 0056 6946     		mov	r1, sp
 2824 0058 2068     		ldr	r0, [r4]
 2825              	.LVL233:
1086:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 2826              		.loc 1 1086 11 view .LVU1022
 2827 005a FFF7FEFF 		bl	SDMMC_ConfigData
 2828              	.LVL234:
1087:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2829              		.loc 1 1087 5 is_stmt 1 view .LVU1023
 2830 005e 2268     		ldr	r2, [r4]
 2831 0060 D368     		ldr	r3, [r2, #12]
 2832 0062 43F04003 		orr	r3, r3, #64
 2833 0066 D360     		str	r3, [r2, #12]
1090:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2834              		.loc 1 1090 5 view .LVU1024
1090:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2835              		.loc 1 1090 8 is_stmt 0 view .LVU1025
 2836 0068 012F     		cmp	r7, #1
 2837 006a 1DD9     		bls	.L185
1092:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 134


 2838              		.loc 1 1092 7 is_stmt 1 view .LVU1026
1092:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2839              		.loc 1 1092 20 is_stmt 0 view .LVU1027
 2840 006c 0A23     		movs	r3, #10
 2841 006e E362     		str	r3, [r4, #44]
1095:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2842              		.loc 1 1095 7 is_stmt 1 view .LVU1028
1095:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2843              		.loc 1 1095 20 is_stmt 0 view .LVU1029
 2844 0070 3146     		mov	r1, r6
 2845 0072 2068     		ldr	r0, [r4]
 2846 0074 FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 2847              	.LVL235:
 2848              	.L186:
1104:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2849              		.loc 1 1104 5 is_stmt 1 view .LVU1030
1104:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2850              		.loc 1 1104 8 is_stmt 0 view .LVU1031
 2851 0078 E8B1     		cbz	r0, .L187
1107:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 2852              		.loc 1 1107 7 is_stmt 1 view .LVU1032
 2853 007a 2368     		ldr	r3, [r4]
 2854 007c 144A     		ldr	r2, .L192
 2855 007e 9A63     		str	r2, [r3, #56]
1108:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2856              		.loc 1 1108 7 view .LVU1033
1108:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2857              		.loc 1 1108 10 is_stmt 0 view .LVU1034
 2858 0080 636B     		ldr	r3, [r4, #52]
1108:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2859              		.loc 1 1108 22 view .LVU1035
 2860 0082 0343     		orrs	r3, r3, r0
 2861 0084 6363     		str	r3, [r4, #52]
1109:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2862              		.loc 1 1109 7 is_stmt 1 view .LVU1036
1109:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2863              		.loc 1 1109 18 is_stmt 0 view .LVU1037
 2864 0086 0123     		movs	r3, #1
 2865 0088 84F83030 		strb	r3, [r4, #48]
1110:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2866              		.loc 1 1110 7 is_stmt 1 view .LVU1038
1110:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2867              		.loc 1 1110 20 is_stmt 0 view .LVU1039
 2868 008c 0023     		movs	r3, #0
 2869 008e E362     		str	r3, [r4, #44]
1111:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2870              		.loc 1 1111 7 is_stmt 1 view .LVU1040
1111:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2871              		.loc 1 1111 14 is_stmt 0 view .LVU1041
 2872 0090 1AE0     		b	.L182
 2873              	.LVL236:
 2874              	.L190:
1052:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2875              		.loc 1 1052 5 is_stmt 1 view .LVU1042
1052:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2876              		.loc 1 1052 8 is_stmt 0 view .LVU1043
 2877 0092 436B     		ldr	r3, [r0, #52]
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 135


 2878              	.LVL237:
1052:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2879              		.loc 1 1052 20 view .LVU1044
 2880 0094 43F00063 		orr	r3, r3, #134217728
 2881 0098 4363     		str	r3, [r0, #52]
1053:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2882              		.loc 1 1053 5 is_stmt 1 view .LVU1045
1053:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2883              		.loc 1 1053 12 is_stmt 0 view .LVU1046
 2884 009a 0125     		movs	r5, #1
 2885 009c 14E0     		b	.L182
 2886              	.LVL238:
 2887              	.L191:
1062:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2888              		.loc 1 1062 7 is_stmt 1 view .LVU1047
1062:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2889              		.loc 1 1062 10 is_stmt 0 view .LVU1048
 2890 009e 436B     		ldr	r3, [r0, #52]
1062:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2891              		.loc 1 1062 22 view .LVU1049
 2892 00a0 43F00073 		orr	r3, r3, #33554432
 2893 00a4 4363     		str	r3, [r0, #52]
1063:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2894              		.loc 1 1063 7 is_stmt 1 view .LVU1050
1063:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2895              		.loc 1 1063 14 is_stmt 0 view .LVU1051
 2896 00a6 0FE0     		b	.L182
 2897              	.LVL239:
 2898              	.L185:
1099:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2899              		.loc 1 1099 7 is_stmt 1 view .LVU1052
1099:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2900              		.loc 1 1099 20 is_stmt 0 view .LVU1053
 2901 00a8 0923     		movs	r3, #9
 2902 00aa E362     		str	r3, [r4, #44]
1102:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2903              		.loc 1 1102 7 is_stmt 1 view .LVU1054
1102:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2904              		.loc 1 1102 20 is_stmt 0 view .LVU1055
 2905 00ac 3146     		mov	r1, r6
 2906 00ae 2068     		ldr	r0, [r4]
 2907 00b0 FFF7FEFF 		bl	SDMMC_CmdReadSingleBlock
 2908              	.LVL240:
1102:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2909              		.loc 1 1102 20 view .LVU1056
 2910 00b4 E0E7     		b	.L186
 2911              	.L187:
1114:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_RXFIFOHF));
 2912              		.loc 1 1114 5 is_stmt 1 view .LVU1057
 2913 00b6 2268     		ldr	r2, [r4]
 2914 00b8 D16B     		ldr	r1, [r2, #60]
 2915 00ba 48F22A13 		movw	r3, #33066
 2916 00be 0B43     		orrs	r3, r3, r1
 2917 00c0 D363     		str	r3, [r2, #60]
1117:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2918              		.loc 1 1117 5 view .LVU1058
1117:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 136


 2919              		.loc 1 1117 12 is_stmt 0 view .LVU1059
 2920 00c2 0025     		movs	r5, #0
 2921 00c4 00E0     		b	.L182
 2922              	.LVL241:
 2923              	.L188:
1121:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2924              		.loc 1 1121 12 view .LVU1060
 2925 00c6 0225     		movs	r5, #2
 2926              	.LVL242:
 2927              	.L182:
1123:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2928              		.loc 1 1123 1 view .LVU1061
 2929 00c8 2846     		mov	r0, r5
 2930 00ca 07B0     		add	sp, sp, #28
 2931              	.LCFI41:
 2932              		.cfi_def_cfa_offset 20
 2933              		@ sp needed
 2934 00cc F0BD     		pop	{r4, r5, r6, r7, pc}
 2935              	.LVL243:
 2936              	.L193:
1123:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2937              		.loc 1 1123 1 view .LVU1062
 2938 00ce 00BF     		.align	2
 2939              	.L192:
 2940 00d0 FF0FE01F 		.word	534777855
 2941              		.cfi_endproc
 2942              	.LFE151:
 2944              		.section	.text.HAL_SD_WriteBlocks_IT,"ax",%progbits
 2945              		.align	1
 2946              		.global	HAL_SD_WriteBlocks_IT
 2947              		.syntax unified
 2948              		.thumb
 2949              		.thumb_func
 2951              	HAL_SD_WriteBlocks_IT:
 2952              	.LVL244:
 2953              	.LFB152:
1140:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 2954              		.loc 1 1140 1 is_stmt 1 view -0
 2955              		.cfi_startproc
 2956              		@ args = 0, pretend = 0, frame = 24
 2957              		@ frame_needed = 0, uses_anonymous_args = 0
1140:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 2958              		.loc 1 1140 1 is_stmt 0 view .LVU1064
 2959 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2960              	.LCFI42:
 2961              		.cfi_def_cfa_offset 20
 2962              		.cfi_offset 4, -20
 2963              		.cfi_offset 5, -16
 2964              		.cfi_offset 6, -12
 2965              		.cfi_offset 7, -8
 2966              		.cfi_offset 14, -4
 2967 0002 87B0     		sub	sp, sp, #28
 2968              	.LCFI43:
 2969              		.cfi_def_cfa_offset 48
 2970 0004 0446     		mov	r4, r0
1141:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 2971              		.loc 1 1141 3 is_stmt 1 view .LVU1065
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 137


1142:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 2972              		.loc 1 1142 3 view .LVU1066
1143:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2973              		.loc 1 1143 3 view .LVU1067
 2974              	.LVL245:
1145:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2975              		.loc 1 1145 3 view .LVU1068
1145:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2976              		.loc 1 1145 6 is_stmt 0 view .LVU1069
 2977 0006 0029     		cmp	r1, #0
 2978 0008 42D0     		beq	.L204
 2979 000a 1646     		mov	r6, r2
 2980 000c 1F46     		mov	r7, r3
 2981 000e 0A46     		mov	r2, r1
 2982              	.LVL246:
1151:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2983              		.loc 1 1151 3 is_stmt 1 view .LVU1070
1151:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2984              		.loc 1 1151 10 is_stmt 0 view .LVU1071
 2985 0010 90F83050 		ldrb	r5, [r0, #48]	@ zero_extendqisi2
 2986 0014 EDB2     		uxtb	r5, r5
1151:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2987              		.loc 1 1151 6 view .LVU1072
 2988 0016 012D     		cmp	r5, #1
 2989 0018 54D1     		bne	.L202
1153:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2990              		.loc 1 1153 5 is_stmt 1 view .LVU1073
1153:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2991              		.loc 1 1153 20 is_stmt 0 view .LVU1074
 2992 001a 0023     		movs	r3, #0
 2993              	.LVL247:
1153:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2994              		.loc 1 1153 20 view .LVU1075
 2995 001c 4363     		str	r3, [r0, #52]
1155:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2996              		.loc 1 1155 5 is_stmt 1 view .LVU1076
1155:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2997              		.loc 1 1155 14 is_stmt 0 view .LVU1077
 2998 001e F319     		adds	r3, r6, r7
1155:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2999              		.loc 1 1155 46 view .LVU1078
 3000 0020 016D     		ldr	r1, [r0, #80]
 3001              	.LVL248:
1155:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3002              		.loc 1 1155 8 view .LVU1079
 3003 0022 8B42     		cmp	r3, r1
 3004 0024 3AD8     		bhi	.L205
1161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3005              		.loc 1 1161 5 is_stmt 1 view .LVU1080
1161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3006              		.loc 1 1161 16 is_stmt 0 view .LVU1081
 3007 0026 0323     		movs	r3, #3
 3008 0028 80F83030 		strb	r3, [r0, #48]
1164:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3009              		.loc 1 1164 5 is_stmt 1 view .LVU1082
1164:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3010              		.loc 1 1164 8 is_stmt 0 view .LVU1083
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 138


 3011 002c 0368     		ldr	r3, [r0]
1164:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3012              		.loc 1 1164 26 view .LVU1084
 3013 002e 0021     		movs	r1, #0
 3014 0030 D962     		str	r1, [r3, #44]
1166:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
 3015              		.loc 1 1166 5 is_stmt 1 view .LVU1085
1166:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
 3016              		.loc 1 1166 21 is_stmt 0 view .LVU1086
 3017 0032 C261     		str	r2, [r0, #28]
1167:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3018              		.loc 1 1167 5 is_stmt 1 view .LVU1087
1167:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3019              		.loc 1 1167 33 is_stmt 0 view .LVU1088
 3020 0034 7B02     		lsls	r3, r7, #9
1167:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3021              		.loc 1 1167 21 view .LVU1089
 3022 0036 0362     		str	r3, [r0, #32]
1169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3023              		.loc 1 1169 5 is_stmt 1 view .LVU1090
1169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3024              		.loc 1 1169 20 is_stmt 0 view .LVU1091
 3025 0038 826B     		ldr	r2, [r0, #56]
 3026              	.LVL249:
1169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3027              		.loc 1 1169 8 view .LVU1092
 3028 003a 012A     		cmp	r2, #1
 3029 003c 00D0     		beq	.L198
1171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3030              		.loc 1 1171 7 is_stmt 1 view .LVU1093
1171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3031              		.loc 1 1171 11 is_stmt 0 view .LVU1094
 3032 003e 7602     		lsls	r6, r6, #9
 3033              	.LVL250:
 3034              	.L198:
1175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3035              		.loc 1 1175 5 is_stmt 1 view .LVU1095
1175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3036              		.loc 1 1175 26 is_stmt 0 view .LVU1096
 3037 0040 4FF0FF32 		mov	r2, #-1
 3038 0044 0092     		str	r2, [sp]
1176:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 3039              		.loc 1 1176 5 is_stmt 1 view .LVU1097
1176:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 3040              		.loc 1 1176 26 is_stmt 0 view .LVU1098
 3041 0046 0193     		str	r3, [sp, #4]
1177:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 3042              		.loc 1 1177 5 is_stmt 1 view .LVU1099
1177:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 3043              		.loc 1 1177 26 is_stmt 0 view .LVU1100
 3044 0048 9023     		movs	r3, #144
 3045 004a 0293     		str	r3, [sp, #8]
1178:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 3046              		.loc 1 1178 5 is_stmt 1 view .LVU1101
1178:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 3047              		.loc 1 1178 26 is_stmt 0 view .LVU1102
 3048 004c 0023     		movs	r3, #0
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 139


 3049 004e 0393     		str	r3, [sp, #12]
1179:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 3050              		.loc 1 1179 5 is_stmt 1 view .LVU1103
1179:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 3051              		.loc 1 1179 26 is_stmt 0 view .LVU1104
 3052 0050 0493     		str	r3, [sp, #16]
1180:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 3053              		.loc 1 1180 5 is_stmt 1 view .LVU1105
1180:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 3054              		.loc 1 1180 26 is_stmt 0 view .LVU1106
 3055 0052 0593     		str	r3, [sp, #20]
1181:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3056              		.loc 1 1181 5 is_stmt 1 view .LVU1107
1181:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3057              		.loc 1 1181 11 is_stmt 0 view .LVU1108
 3058 0054 6946     		mov	r1, sp
 3059 0056 2068     		ldr	r0, [r4]
 3060              	.LVL251:
1181:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3061              		.loc 1 1181 11 view .LVU1109
 3062 0058 FFF7FEFF 		bl	SDMMC_ConfigData
 3063              	.LVL252:
1183:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3064              		.loc 1 1183 5 is_stmt 1 view .LVU1110
 3065 005c 2268     		ldr	r2, [r4]
 3066 005e D368     		ldr	r3, [r2, #12]
 3067 0060 43F04003 		orr	r3, r3, #64
 3068 0064 D360     		str	r3, [r2, #12]
1186:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3069              		.loc 1 1186 5 view .LVU1111
1186:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3070              		.loc 1 1186 8 is_stmt 0 view .LVU1112
 3071 0066 012F     		cmp	r7, #1
 3072 0068 1DD9     		bls	.L199
1188:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3073              		.loc 1 1188 7 is_stmt 1 view .LVU1113
1188:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3074              		.loc 1 1188 20 is_stmt 0 view .LVU1114
 3075 006a 2823     		movs	r3, #40
 3076 006c E362     		str	r3, [r4, #44]
1191:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3077              		.loc 1 1191 7 is_stmt 1 view .LVU1115
1191:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3078              		.loc 1 1191 20 is_stmt 0 view .LVU1116
 3079 006e 3146     		mov	r1, r6
 3080 0070 2068     		ldr	r0, [r4]
 3081 0072 FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 3082              	.LVL253:
 3083              	.L200:
1200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3084              		.loc 1 1200 5 is_stmt 1 view .LVU1117
1200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3085              		.loc 1 1200 8 is_stmt 0 view .LVU1118
 3086 0076 E8B1     		cbz	r0, .L201
1203:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 3087              		.loc 1 1203 7 is_stmt 1 view .LVU1119
 3088 0078 2368     		ldr	r3, [r4]
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 140


 3089 007a 144A     		ldr	r2, .L206
 3090 007c 9A63     		str	r2, [r3, #56]
1204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3091              		.loc 1 1204 7 view .LVU1120
1204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3092              		.loc 1 1204 10 is_stmt 0 view .LVU1121
 3093 007e 636B     		ldr	r3, [r4, #52]
1204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3094              		.loc 1 1204 22 view .LVU1122
 3095 0080 0343     		orrs	r3, r3, r0
 3096 0082 6363     		str	r3, [r4, #52]
1205:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3097              		.loc 1 1205 7 is_stmt 1 view .LVU1123
1205:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3098              		.loc 1 1205 18 is_stmt 0 view .LVU1124
 3099 0084 0123     		movs	r3, #1
 3100 0086 84F83030 		strb	r3, [r4, #48]
1206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3101              		.loc 1 1206 7 is_stmt 1 view .LVU1125
1206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3102              		.loc 1 1206 20 is_stmt 0 view .LVU1126
 3103 008a 0023     		movs	r3, #0
 3104 008c E362     		str	r3, [r4, #44]
1207:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3105              		.loc 1 1207 7 is_stmt 1 view .LVU1127
1207:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3106              		.loc 1 1207 14 is_stmt 0 view .LVU1128
 3107 008e 1AE0     		b	.L196
 3108              	.LVL254:
 3109              	.L204:
1147:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 3110              		.loc 1 1147 5 is_stmt 1 view .LVU1129
1147:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 3111              		.loc 1 1147 8 is_stmt 0 view .LVU1130
 3112 0090 436B     		ldr	r3, [r0, #52]
 3113              	.LVL255:
1147:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 3114              		.loc 1 1147 20 view .LVU1131
 3115 0092 43F00063 		orr	r3, r3, #134217728
 3116 0096 4363     		str	r3, [r0, #52]
1148:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3117              		.loc 1 1148 5 is_stmt 1 view .LVU1132
1148:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3118              		.loc 1 1148 12 is_stmt 0 view .LVU1133
 3119 0098 0125     		movs	r5, #1
 3120 009a 14E0     		b	.L196
 3121              	.LVL256:
 3122              	.L205:
1157:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3123              		.loc 1 1157 7 is_stmt 1 view .LVU1134
1157:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3124              		.loc 1 1157 10 is_stmt 0 view .LVU1135
 3125 009c 436B     		ldr	r3, [r0, #52]
1157:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3126              		.loc 1 1157 22 view .LVU1136
 3127 009e 43F00073 		orr	r3, r3, #33554432
 3128 00a2 4363     		str	r3, [r0, #52]
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 141


1158:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3129              		.loc 1 1158 7 is_stmt 1 view .LVU1137
1158:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3130              		.loc 1 1158 14 is_stmt 0 view .LVU1138
 3131 00a4 0FE0     		b	.L196
 3132              	.LVL257:
 3133              	.L199:
1195:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3134              		.loc 1 1195 7 is_stmt 1 view .LVU1139
1195:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3135              		.loc 1 1195 20 is_stmt 0 view .LVU1140
 3136 00a6 1823     		movs	r3, #24
 3137 00a8 E362     		str	r3, [r4, #44]
1198:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3138              		.loc 1 1198 7 is_stmt 1 view .LVU1141
1198:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3139              		.loc 1 1198 20 is_stmt 0 view .LVU1142
 3140 00aa 3146     		mov	r1, r6
 3141 00ac 2068     		ldr	r0, [r4]
 3142 00ae FFF7FEFF 		bl	SDMMC_CmdWriteSingleBlock
 3143              	.LVL258:
1198:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3144              		.loc 1 1198 20 view .LVU1143
 3145 00b2 E0E7     		b	.L200
 3146              	.L201:
1211:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_TXFIFOHE));
 3147              		.loc 1 1211 5 is_stmt 1 view .LVU1144
 3148 00b4 2268     		ldr	r2, [r4]
 3149 00b6 D16B     		ldr	r1, [r2, #60]
 3150 00b8 44F21A13 		movw	r3, #16666
 3151 00bc 0B43     		orrs	r3, r3, r1
 3152 00be D363     		str	r3, [r2, #60]
1214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3153              		.loc 1 1214 5 view .LVU1145
1214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3154              		.loc 1 1214 12 is_stmt 0 view .LVU1146
 3155 00c0 0025     		movs	r5, #0
 3156 00c2 00E0     		b	.L196
 3157              	.LVL259:
 3158              	.L202:
1218:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3159              		.loc 1 1218 12 view .LVU1147
 3160 00c4 0225     		movs	r5, #2
 3161              	.LVL260:
 3162              	.L196:
1220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3163              		.loc 1 1220 1 view .LVU1148
 3164 00c6 2846     		mov	r0, r5
 3165 00c8 07B0     		add	sp, sp, #28
 3166              	.LCFI44:
 3167              		.cfi_def_cfa_offset 20
 3168              		@ sp needed
 3169 00ca F0BD     		pop	{r4, r5, r6, r7, pc}
 3170              	.LVL261:
 3171              	.L207:
1220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3172              		.loc 1 1220 1 view .LVU1149
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 142


 3173              		.align	2
 3174              	.L206:
 3175 00cc FF0FE01F 		.word	534777855
 3176              		.cfi_endproc
 3177              	.LFE152:
 3179              		.section	.text.HAL_SD_ReadBlocks_DMA,"ax",%progbits
 3180              		.align	1
 3181              		.global	HAL_SD_ReadBlocks_DMA
 3182              		.syntax unified
 3183              		.thumb
 3184              		.thumb_func
 3186              	HAL_SD_ReadBlocks_DMA:
 3187              	.LVL262:
 3188              	.LFB153:
1237:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 3189              		.loc 1 1237 1 is_stmt 1 view -0
 3190              		.cfi_startproc
 3191              		@ args = 0, pretend = 0, frame = 24
 3192              		@ frame_needed = 0, uses_anonymous_args = 0
1237:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 3193              		.loc 1 1237 1 is_stmt 0 view .LVU1151
 3194 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3195              	.LCFI45:
 3196              		.cfi_def_cfa_offset 24
 3197              		.cfi_offset 4, -24
 3198              		.cfi_offset 5, -20
 3199              		.cfi_offset 6, -16
 3200              		.cfi_offset 7, -12
 3201              		.cfi_offset 8, -8
 3202              		.cfi_offset 14, -4
 3203 0004 86B0     		sub	sp, sp, #24
 3204              	.LCFI46:
 3205              		.cfi_def_cfa_offset 48
 3206 0006 0446     		mov	r4, r0
1238:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 3207              		.loc 1 1238 3 is_stmt 1 view .LVU1152
1239:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 3208              		.loc 1 1239 3 view .LVU1153
1240:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3209              		.loc 1 1240 3 view .LVU1154
 3210              	.LVL263:
1242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3211              		.loc 1 1242 3 view .LVU1155
1242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3212              		.loc 1 1242 6 is_stmt 0 view .LVU1156
 3213 0008 0029     		cmp	r1, #0
 3214 000a 49D0     		beq	.L218
 3215 000c 1646     		mov	r6, r2
 3216 000e 1F46     		mov	r7, r3
 3217 0010 8846     		mov	r8, r1
1248:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3218              		.loc 1 1248 3 is_stmt 1 view .LVU1157
1248:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3219              		.loc 1 1248 10 is_stmt 0 view .LVU1158
 3220 0012 90F83050 		ldrb	r5, [r0, #48]	@ zero_extendqisi2
 3221 0016 EDB2     		uxtb	r5, r5
1248:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 143


 3222              		.loc 1 1248 6 view .LVU1159
 3223 0018 012D     		cmp	r5, #1
 3224 001a 5AD1     		bne	.L216
1250:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3225              		.loc 1 1250 5 is_stmt 1 view .LVU1160
1250:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3226              		.loc 1 1250 20 is_stmt 0 view .LVU1161
 3227 001c 0023     		movs	r3, #0
 3228              	.LVL264:
1250:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3229              		.loc 1 1250 20 view .LVU1162
 3230 001e 4363     		str	r3, [r0, #52]
1252:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3231              		.loc 1 1252 5 is_stmt 1 view .LVU1163
1252:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3232              		.loc 1 1252 14 is_stmt 0 view .LVU1164
 3233 0020 D319     		adds	r3, r2, r7
1252:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3234              		.loc 1 1252 46 view .LVU1165
 3235 0022 026D     		ldr	r2, [r0, #80]
 3236              	.LVL265:
1252:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3237              		.loc 1 1252 8 view .LVU1166
 3238 0024 9342     		cmp	r3, r2
 3239 0026 41D8     		bhi	.L219
1258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3240              		.loc 1 1258 5 is_stmt 1 view .LVU1167
1258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3241              		.loc 1 1258 16 is_stmt 0 view .LVU1168
 3242 0028 0323     		movs	r3, #3
 3243 002a 80F83030 		strb	r3, [r0, #48]
1261:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3244              		.loc 1 1261 5 is_stmt 1 view .LVU1169
1261:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3245              		.loc 1 1261 8 is_stmt 0 view .LVU1170
 3246 002e 0368     		ldr	r3, [r0]
1261:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3247              		.loc 1 1261 26 view .LVU1171
 3248 0030 0022     		movs	r2, #0
 3249 0032 DA62     		str	r2, [r3, #44]
1263:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
 3250              		.loc 1 1263 5 is_stmt 1 view .LVU1172
1263:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
 3251              		.loc 1 1263 21 is_stmt 0 view .LVU1173
 3252 0034 6162     		str	r1, [r4, #36]
1264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3253              		.loc 1 1264 5 is_stmt 1 view .LVU1174
1264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3254              		.loc 1 1264 33 is_stmt 0 view .LVU1175
 3255 0036 7B02     		lsls	r3, r7, #9
1264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3256              		.loc 1 1264 21 view .LVU1176
 3257 0038 8362     		str	r3, [r0, #40]
1266:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3258              		.loc 1 1266 5 is_stmt 1 view .LVU1177
1266:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3259              		.loc 1 1266 20 is_stmt 0 view .LVU1178
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 144


 3260 003a 826B     		ldr	r2, [r0, #56]
1266:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3261              		.loc 1 1266 8 view .LVU1179
 3262 003c 012A     		cmp	r2, #1
 3263 003e 00D0     		beq	.L212
1268:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3264              		.loc 1 1268 7 is_stmt 1 view .LVU1180
1268:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3265              		.loc 1 1268 11 is_stmt 0 view .LVU1181
 3266 0040 7602     		lsls	r6, r6, #9
 3267              	.LVL266:
 3268              	.L212:
1272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3269              		.loc 1 1272 5 is_stmt 1 view .LVU1182
1272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3270              		.loc 1 1272 26 is_stmt 0 view .LVU1183
 3271 0042 4FF0FF32 		mov	r2, #-1
 3272 0046 0092     		str	r2, [sp]
1273:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 3273              		.loc 1 1273 5 is_stmt 1 view .LVU1184
1273:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 3274              		.loc 1 1273 26 is_stmt 0 view .LVU1185
 3275 0048 0193     		str	r3, [sp, #4]
1274:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 3276              		.loc 1 1274 5 is_stmt 1 view .LVU1186
1274:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 3277              		.loc 1 1274 26 is_stmt 0 view .LVU1187
 3278 004a 9023     		movs	r3, #144
 3279 004c 0293     		str	r3, [sp, #8]
1275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 3280              		.loc 1 1275 5 is_stmt 1 view .LVU1188
1275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 3281              		.loc 1 1275 26 is_stmt 0 view .LVU1189
 3282 004e 0223     		movs	r3, #2
 3283 0050 0393     		str	r3, [sp, #12]
1276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 3284              		.loc 1 1276 5 is_stmt 1 view .LVU1190
1276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 3285              		.loc 1 1276 26 is_stmt 0 view .LVU1191
 3286 0052 0023     		movs	r3, #0
 3287 0054 0493     		str	r3, [sp, #16]
1277:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 3288              		.loc 1 1277 5 is_stmt 1 view .LVU1192
1277:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 3289              		.loc 1 1277 26 is_stmt 0 view .LVU1193
 3290 0056 0593     		str	r3, [sp, #20]
1278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3291              		.loc 1 1278 5 is_stmt 1 view .LVU1194
1278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3292              		.loc 1 1278 11 is_stmt 0 view .LVU1195
 3293 0058 6946     		mov	r1, sp
 3294              	.LVL267:
1278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3295              		.loc 1 1278 11 view .LVU1196
 3296 005a 2068     		ldr	r0, [r4]
 3297              	.LVL268:
1278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 145


 3298              		.loc 1 1278 11 view .LVU1197
 3299 005c FFF7FEFF 		bl	SDMMC_ConfigData
 3300              	.LVL269:
1280:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMABASE0 = (uint32_t) pData ;
 3301              		.loc 1 1280 5 is_stmt 1 view .LVU1198
 3302 0060 2268     		ldr	r2, [r4]
 3303 0062 D368     		ldr	r3, [r2, #12]
 3304 0064 43F04003 		orr	r3, r3, #64
 3305 0068 D360     		str	r3, [r2, #12]
1281:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
 3306              		.loc 1 1281 5 view .LVU1199
1281:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
 3307              		.loc 1 1281 8 is_stmt 0 view .LVU1200
 3308 006a 2368     		ldr	r3, [r4]
1281:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
 3309              		.loc 1 1281 30 view .LVU1201
 3310 006c C3F85880 		str	r8, [r3, #88]
1282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3311              		.loc 1 1282 5 is_stmt 1 view .LVU1202
1282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3312              		.loc 1 1282 8 is_stmt 0 view .LVU1203
 3313 0070 2368     		ldr	r3, [r4]
1282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3314              		.loc 1 1282 30 view .LVU1204
 3315 0072 0122     		movs	r2, #1
 3316 0074 1A65     		str	r2, [r3, #80]
1285:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3317              		.loc 1 1285 5 is_stmt 1 view .LVU1205
1285:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3318              		.loc 1 1285 8 is_stmt 0 view .LVU1206
 3319 0076 9742     		cmp	r7, r2
 3320 0078 1DD9     		bls	.L213
1287:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3321              		.loc 1 1287 7 is_stmt 1 view .LVU1207
1287:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3322              		.loc 1 1287 20 is_stmt 0 view .LVU1208
 3323 007a 8223     		movs	r3, #130
 3324 007c E362     		str	r3, [r4, #44]
1290:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3325              		.loc 1 1290 7 is_stmt 1 view .LVU1209
1290:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3326              		.loc 1 1290 20 is_stmt 0 view .LVU1210
 3327 007e 3146     		mov	r1, r6
 3328 0080 2068     		ldr	r0, [r4]
 3329 0082 FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 3330              	.LVL270:
 3331              	.L214:
1299:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3332              		.loc 1 1299 5 is_stmt 1 view .LVU1211
1299:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3333              		.loc 1 1299 8 is_stmt 0 view .LVU1212
 3334 0086 E8B1     		cbz	r0, .L215
1302:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 3335              		.loc 1 1302 7 is_stmt 1 view .LVU1213
 3336 0088 2368     		ldr	r3, [r4]
 3337 008a 144A     		ldr	r2, .L220
 3338 008c 9A63     		str	r2, [r3, #56]
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 146


1303:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3339              		.loc 1 1303 7 view .LVU1214
1303:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3340              		.loc 1 1303 10 is_stmt 0 view .LVU1215
 3341 008e 636B     		ldr	r3, [r4, #52]
1303:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3342              		.loc 1 1303 22 view .LVU1216
 3343 0090 0343     		orrs	r3, r3, r0
 3344 0092 6363     		str	r3, [r4, #52]
1304:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3345              		.loc 1 1304 7 is_stmt 1 view .LVU1217
1304:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3346              		.loc 1 1304 18 is_stmt 0 view .LVU1218
 3347 0094 0123     		movs	r3, #1
 3348 0096 84F83030 		strb	r3, [r4, #48]
1305:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3349              		.loc 1 1305 7 is_stmt 1 view .LVU1219
1305:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3350              		.loc 1 1305 20 is_stmt 0 view .LVU1220
 3351 009a 0023     		movs	r3, #0
 3352 009c E362     		str	r3, [r4, #44]
1306:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3353              		.loc 1 1306 7 is_stmt 1 view .LVU1221
1306:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3354              		.loc 1 1306 14 is_stmt 0 view .LVU1222
 3355 009e 19E0     		b	.L210
 3356              	.LVL271:
 3357              	.L218:
1244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 3358              		.loc 1 1244 5 is_stmt 1 view .LVU1223
1244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 3359              		.loc 1 1244 8 is_stmt 0 view .LVU1224
 3360 00a0 436B     		ldr	r3, [r0, #52]
 3361              	.LVL272:
1244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 3362              		.loc 1 1244 20 view .LVU1225
 3363 00a2 43F00063 		orr	r3, r3, #134217728
 3364 00a6 4363     		str	r3, [r0, #52]
1245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3365              		.loc 1 1245 5 is_stmt 1 view .LVU1226
1245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3366              		.loc 1 1245 12 is_stmt 0 view .LVU1227
 3367 00a8 0125     		movs	r5, #1
 3368 00aa 13E0     		b	.L210
 3369              	.LVL273:
 3370              	.L219:
1254:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3371              		.loc 1 1254 7 is_stmt 1 view .LVU1228
1254:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3372              		.loc 1 1254 10 is_stmt 0 view .LVU1229
 3373 00ac 436B     		ldr	r3, [r0, #52]
1254:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3374              		.loc 1 1254 22 view .LVU1230
 3375 00ae 43F00073 		orr	r3, r3, #33554432
 3376 00b2 4363     		str	r3, [r0, #52]
1255:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3377              		.loc 1 1255 7 is_stmt 1 view .LVU1231
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 147


1255:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3378              		.loc 1 1255 14 is_stmt 0 view .LVU1232
 3379 00b4 0EE0     		b	.L210
 3380              	.LVL274:
 3381              	.L213:
1294:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3382              		.loc 1 1294 7 is_stmt 1 view .LVU1233
1294:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3383              		.loc 1 1294 20 is_stmt 0 view .LVU1234
 3384 00b6 8123     		movs	r3, #129
 3385 00b8 E362     		str	r3, [r4, #44]
1297:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3386              		.loc 1 1297 7 is_stmt 1 view .LVU1235
1297:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3387              		.loc 1 1297 20 is_stmt 0 view .LVU1236
 3388 00ba 3146     		mov	r1, r6
 3389 00bc 2068     		ldr	r0, [r4]
 3390 00be FFF7FEFF 		bl	SDMMC_CmdReadSingleBlock
 3391              	.LVL275:
1297:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3392              		.loc 1 1297 20 view .LVU1237
 3393 00c2 E0E7     		b	.L214
 3394              	.L215:
1310:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3395              		.loc 1 1310 5 is_stmt 1 view .LVU1238
 3396 00c4 2268     		ldr	r2, [r4]
 3397 00c6 D36B     		ldr	r3, [r2, #60]
 3398 00c8 43F49573 		orr	r3, r3, #298
 3399 00cc D363     		str	r3, [r2, #60]
1312:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3400              		.loc 1 1312 5 view .LVU1239
1312:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3401              		.loc 1 1312 12 is_stmt 0 view .LVU1240
 3402 00ce 0025     		movs	r5, #0
 3403 00d0 00E0     		b	.L210
 3404              	.LVL276:
 3405              	.L216:
1316:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3406              		.loc 1 1316 12 view .LVU1241
 3407 00d2 0225     		movs	r5, #2
 3408              	.LVL277:
 3409              	.L210:
1318:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3410              		.loc 1 1318 1 view .LVU1242
 3411 00d4 2846     		mov	r0, r5
 3412 00d6 06B0     		add	sp, sp, #24
 3413              	.LCFI47:
 3414              		.cfi_def_cfa_offset 24
 3415              		@ sp needed
 3416 00d8 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3417              	.LVL278:
 3418              	.L221:
1318:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3419              		.loc 1 1318 1 view .LVU1243
 3420              		.align	2
 3421              	.L220:
 3422 00dc FF0FE01F 		.word	534777855
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 148


 3423              		.cfi_endproc
 3424              	.LFE153:
 3426              		.section	.text.HAL_SD_WriteBlocks_DMA,"ax",%progbits
 3427              		.align	1
 3428              		.global	HAL_SD_WriteBlocks_DMA
 3429              		.syntax unified
 3430              		.thumb
 3431              		.thumb_func
 3433              	HAL_SD_WriteBlocks_DMA:
 3434              	.LVL279:
 3435              	.LFB154:
1335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 3436              		.loc 1 1335 1 is_stmt 1 view -0
 3437              		.cfi_startproc
 3438              		@ args = 0, pretend = 0, frame = 24
 3439              		@ frame_needed = 0, uses_anonymous_args = 0
1335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 3440              		.loc 1 1335 1 is_stmt 0 view .LVU1245
 3441 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3442              	.LCFI48:
 3443              		.cfi_def_cfa_offset 24
 3444              		.cfi_offset 4, -24
 3445              		.cfi_offset 5, -20
 3446              		.cfi_offset 6, -16
 3447              		.cfi_offset 7, -12
 3448              		.cfi_offset 8, -8
 3449              		.cfi_offset 14, -4
 3450 0004 86B0     		sub	sp, sp, #24
 3451              	.LCFI49:
 3452              		.cfi_def_cfa_offset 48
 3453 0006 0446     		mov	r4, r0
1336:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 3454              		.loc 1 1336 3 is_stmt 1 view .LVU1246
1337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 3455              		.loc 1 1337 3 view .LVU1247
1338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3456              		.loc 1 1338 3 view .LVU1248
 3457              	.LVL280:
1340:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3458              		.loc 1 1340 3 view .LVU1249
1340:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3459              		.loc 1 1340 6 is_stmt 0 view .LVU1250
 3460 0008 0029     		cmp	r1, #0
 3461 000a 48D0     		beq	.L232
 3462 000c 1646     		mov	r6, r2
 3463 000e 1F46     		mov	r7, r3
 3464 0010 8846     		mov	r8, r1
1346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3465              		.loc 1 1346 3 is_stmt 1 view .LVU1251
1346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3466              		.loc 1 1346 10 is_stmt 0 view .LVU1252
 3467 0012 90F83050 		ldrb	r5, [r0, #48]	@ zero_extendqisi2
 3468 0016 EDB2     		uxtb	r5, r5
1346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3469              		.loc 1 1346 6 view .LVU1253
 3470 0018 012D     		cmp	r5, #1
 3471 001a 59D1     		bne	.L230
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 149


1348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3472              		.loc 1 1348 5 is_stmt 1 view .LVU1254
1348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3473              		.loc 1 1348 20 is_stmt 0 view .LVU1255
 3474 001c 0023     		movs	r3, #0
 3475              	.LVL281:
1348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3476              		.loc 1 1348 20 view .LVU1256
 3477 001e 4363     		str	r3, [r0, #52]
1350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3478              		.loc 1 1350 5 is_stmt 1 view .LVU1257
1350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3479              		.loc 1 1350 14 is_stmt 0 view .LVU1258
 3480 0020 D319     		adds	r3, r2, r7
1350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3481              		.loc 1 1350 46 view .LVU1259
 3482 0022 026D     		ldr	r2, [r0, #80]
 3483              	.LVL282:
1350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3484              		.loc 1 1350 8 view .LVU1260
 3485 0024 9342     		cmp	r3, r2
 3486 0026 40D8     		bhi	.L233
1356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3487              		.loc 1 1356 5 is_stmt 1 view .LVU1261
1356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3488              		.loc 1 1356 16 is_stmt 0 view .LVU1262
 3489 0028 0323     		movs	r3, #3
 3490 002a 80F83030 		strb	r3, [r0, #48]
1359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3491              		.loc 1 1359 5 is_stmt 1 view .LVU1263
1359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3492              		.loc 1 1359 8 is_stmt 0 view .LVU1264
 3493 002e 0368     		ldr	r3, [r0]
1359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3494              		.loc 1 1359 26 view .LVU1265
 3495 0030 0022     		movs	r2, #0
 3496 0032 DA62     		str	r2, [r3, #44]
1361:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
 3497              		.loc 1 1361 5 is_stmt 1 view .LVU1266
1361:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
 3498              		.loc 1 1361 21 is_stmt 0 view .LVU1267
 3499 0034 E161     		str	r1, [r4, #28]
1362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3500              		.loc 1 1362 5 is_stmt 1 view .LVU1268
1362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3501              		.loc 1 1362 33 is_stmt 0 view .LVU1269
 3502 0036 7B02     		lsls	r3, r7, #9
1362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3503              		.loc 1 1362 21 view .LVU1270
 3504 0038 0362     		str	r3, [r0, #32]
1364:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3505              		.loc 1 1364 5 is_stmt 1 view .LVU1271
1364:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3506              		.loc 1 1364 20 is_stmt 0 view .LVU1272
 3507 003a 826B     		ldr	r2, [r0, #56]
1364:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3508              		.loc 1 1364 8 view .LVU1273
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 150


 3509 003c 012A     		cmp	r2, #1
 3510 003e 00D0     		beq	.L226
1366:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3511              		.loc 1 1366 7 is_stmt 1 view .LVU1274
1366:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3512              		.loc 1 1366 11 is_stmt 0 view .LVU1275
 3513 0040 7602     		lsls	r6, r6, #9
 3514              	.LVL283:
 3515              	.L226:
1370:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3516              		.loc 1 1370 5 is_stmt 1 view .LVU1276
1370:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3517              		.loc 1 1370 26 is_stmt 0 view .LVU1277
 3518 0042 4FF0FF32 		mov	r2, #-1
 3519 0046 0092     		str	r2, [sp]
1371:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 3520              		.loc 1 1371 5 is_stmt 1 view .LVU1278
1371:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 3521              		.loc 1 1371 26 is_stmt 0 view .LVU1279
 3522 0048 0193     		str	r3, [sp, #4]
1372:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 3523              		.loc 1 1372 5 is_stmt 1 view .LVU1280
1372:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 3524              		.loc 1 1372 26 is_stmt 0 view .LVU1281
 3525 004a 9023     		movs	r3, #144
 3526 004c 0293     		str	r3, [sp, #8]
1373:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 3527              		.loc 1 1373 5 is_stmt 1 view .LVU1282
1373:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 3528              		.loc 1 1373 26 is_stmt 0 view .LVU1283
 3529 004e 0023     		movs	r3, #0
 3530 0050 0393     		str	r3, [sp, #12]
1374:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 3531              		.loc 1 1374 5 is_stmt 1 view .LVU1284
1374:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 3532              		.loc 1 1374 26 is_stmt 0 view .LVU1285
 3533 0052 0493     		str	r3, [sp, #16]
1375:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 3534              		.loc 1 1375 5 is_stmt 1 view .LVU1286
1375:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 3535              		.loc 1 1375 26 is_stmt 0 view .LVU1287
 3536 0054 0593     		str	r3, [sp, #20]
1376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3537              		.loc 1 1376 5 is_stmt 1 view .LVU1288
1376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3538              		.loc 1 1376 11 is_stmt 0 view .LVU1289
 3539 0056 6946     		mov	r1, sp
 3540              	.LVL284:
1376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3541              		.loc 1 1376 11 view .LVU1290
 3542 0058 2068     		ldr	r0, [r4]
 3543              	.LVL285:
1376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3544              		.loc 1 1376 11 view .LVU1291
 3545 005a FFF7FEFF 		bl	SDMMC_ConfigData
 3546              	.LVL286:
1378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 151


 3547              		.loc 1 1378 5 is_stmt 1 view .LVU1292
 3548 005e 2268     		ldr	r2, [r4]
 3549 0060 D368     		ldr	r3, [r2, #12]
 3550 0062 43F04003 		orr	r3, r3, #64
 3551 0066 D360     		str	r3, [r2, #12]
1380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
 3552              		.loc 1 1380 5 view .LVU1293
1380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
 3553              		.loc 1 1380 8 is_stmt 0 view .LVU1294
 3554 0068 2368     		ldr	r3, [r4]
1380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
 3555              		.loc 1 1380 30 view .LVU1295
 3556 006a C3F85880 		str	r8, [r3, #88]
1381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3557              		.loc 1 1381 5 is_stmt 1 view .LVU1296
1381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3558              		.loc 1 1381 8 is_stmt 0 view .LVU1297
 3559 006e 2368     		ldr	r3, [r4]
1381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3560              		.loc 1 1381 30 view .LVU1298
 3561 0070 0122     		movs	r2, #1
 3562 0072 1A65     		str	r2, [r3, #80]
1384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3563              		.loc 1 1384 5 is_stmt 1 view .LVU1299
1384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3564              		.loc 1 1384 8 is_stmt 0 view .LVU1300
 3565 0074 9742     		cmp	r7, r2
 3566 0076 1DD9     		bls	.L227
1386:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3567              		.loc 1 1386 7 is_stmt 1 view .LVU1301
1386:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3568              		.loc 1 1386 20 is_stmt 0 view .LVU1302
 3569 0078 A023     		movs	r3, #160
 3570 007a E362     		str	r3, [r4, #44]
1389:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3571              		.loc 1 1389 7 is_stmt 1 view .LVU1303
1389:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3572              		.loc 1 1389 20 is_stmt 0 view .LVU1304
 3573 007c 3146     		mov	r1, r6
 3574 007e 2068     		ldr	r0, [r4]
 3575 0080 FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 3576              	.LVL287:
 3577              	.L228:
1398:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3578              		.loc 1 1398 5 is_stmt 1 view .LVU1305
1398:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3579              		.loc 1 1398 8 is_stmt 0 view .LVU1306
 3580 0084 E8B1     		cbz	r0, .L229
1401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 3581              		.loc 1 1401 7 is_stmt 1 view .LVU1307
 3582 0086 2368     		ldr	r3, [r4]
 3583 0088 144A     		ldr	r2, .L234
 3584 008a 9A63     		str	r2, [r3, #56]
1402:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3585              		.loc 1 1402 7 view .LVU1308
1402:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3586              		.loc 1 1402 10 is_stmt 0 view .LVU1309
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 152


 3587 008c 636B     		ldr	r3, [r4, #52]
1402:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3588              		.loc 1 1402 22 view .LVU1310
 3589 008e 0343     		orrs	r3, r3, r0
 3590 0090 6363     		str	r3, [r4, #52]
1403:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3591              		.loc 1 1403 7 is_stmt 1 view .LVU1311
1403:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3592              		.loc 1 1403 18 is_stmt 0 view .LVU1312
 3593 0092 0123     		movs	r3, #1
 3594 0094 84F83030 		strb	r3, [r4, #48]
1404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3595              		.loc 1 1404 7 is_stmt 1 view .LVU1313
1404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3596              		.loc 1 1404 20 is_stmt 0 view .LVU1314
 3597 0098 0023     		movs	r3, #0
 3598 009a E362     		str	r3, [r4, #44]
1405:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3599              		.loc 1 1405 7 is_stmt 1 view .LVU1315
1405:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3600              		.loc 1 1405 14 is_stmt 0 view .LVU1316
 3601 009c 19E0     		b	.L224
 3602              	.LVL288:
 3603              	.L232:
1342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 3604              		.loc 1 1342 5 is_stmt 1 view .LVU1317
1342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 3605              		.loc 1 1342 8 is_stmt 0 view .LVU1318
 3606 009e 436B     		ldr	r3, [r0, #52]
 3607              	.LVL289:
1342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 3608              		.loc 1 1342 20 view .LVU1319
 3609 00a0 43F00063 		orr	r3, r3, #134217728
 3610 00a4 4363     		str	r3, [r0, #52]
1343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3611              		.loc 1 1343 5 is_stmt 1 view .LVU1320
1343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3612              		.loc 1 1343 12 is_stmt 0 view .LVU1321
 3613 00a6 0125     		movs	r5, #1
 3614 00a8 13E0     		b	.L224
 3615              	.LVL290:
 3616              	.L233:
1352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3617              		.loc 1 1352 7 is_stmt 1 view .LVU1322
1352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3618              		.loc 1 1352 10 is_stmt 0 view .LVU1323
 3619 00aa 436B     		ldr	r3, [r0, #52]
1352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3620              		.loc 1 1352 22 view .LVU1324
 3621 00ac 43F00073 		orr	r3, r3, #33554432
 3622 00b0 4363     		str	r3, [r0, #52]
1353:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3623              		.loc 1 1353 7 is_stmt 1 view .LVU1325
1353:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3624              		.loc 1 1353 14 is_stmt 0 view .LVU1326
 3625 00b2 0EE0     		b	.L224
 3626              	.LVL291:
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 153


 3627              	.L227:
1393:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3628              		.loc 1 1393 7 is_stmt 1 view .LVU1327
1393:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3629              		.loc 1 1393 20 is_stmt 0 view .LVU1328
 3630 00b4 9023     		movs	r3, #144
 3631 00b6 E362     		str	r3, [r4, #44]
1396:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3632              		.loc 1 1396 7 is_stmt 1 view .LVU1329
1396:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3633              		.loc 1 1396 20 is_stmt 0 view .LVU1330
 3634 00b8 3146     		mov	r1, r6
 3635 00ba 2068     		ldr	r0, [r4]
 3636 00bc FFF7FEFF 		bl	SDMMC_CmdWriteSingleBlock
 3637              	.LVL292:
1396:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3638              		.loc 1 1396 20 view .LVU1331
 3639 00c0 E0E7     		b	.L228
 3640              	.L229:
1409:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3641              		.loc 1 1409 5 is_stmt 1 view .LVU1332
 3642 00c2 2268     		ldr	r2, [r4]
 3643 00c4 D36B     		ldr	r3, [r2, #60]
 3644 00c6 43F48D73 		orr	r3, r3, #282
 3645 00ca D363     		str	r3, [r2, #60]
1411:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3646              		.loc 1 1411 5 view .LVU1333
1411:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3647              		.loc 1 1411 12 is_stmt 0 view .LVU1334
 3648 00cc 0025     		movs	r5, #0
 3649 00ce 00E0     		b	.L224
 3650              	.LVL293:
 3651              	.L230:
1415:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3652              		.loc 1 1415 12 view .LVU1335
 3653 00d0 0225     		movs	r5, #2
 3654              	.LVL294:
 3655              	.L224:
1417:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3656              		.loc 1 1417 1 view .LVU1336
 3657 00d2 2846     		mov	r0, r5
 3658 00d4 06B0     		add	sp, sp, #24
 3659              	.LCFI50:
 3660              		.cfi_def_cfa_offset 24
 3661              		@ sp needed
 3662 00d6 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3663              	.LVL295:
 3664              	.L235:
1417:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3665              		.loc 1 1417 1 view .LVU1337
 3666 00da 00BF     		.align	2
 3667              	.L234:
 3668 00dc FF0FE01F 		.word	534777855
 3669              		.cfi_endproc
 3670              	.LFE154:
 3672              		.section	.text.HAL_SD_Erase,"ax",%progbits
 3673              		.align	1
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 154


 3674              		.global	HAL_SD_Erase
 3675              		.syntax unified
 3676              		.thumb
 3677              		.thumb_func
 3679              	HAL_SD_Erase:
 3680              	.LVL296:
 3681              	.LFB155:
1429:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 3682              		.loc 1 1429 1 is_stmt 1 view -0
 3683              		.cfi_startproc
 3684              		@ args = 0, pretend = 0, frame = 0
 3685              		@ frame_needed = 0, uses_anonymous_args = 0
1429:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 3686              		.loc 1 1429 1 is_stmt 0 view .LVU1339
 3687 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3688              	.LCFI51:
 3689              		.cfi_def_cfa_offset 24
 3690              		.cfi_offset 3, -24
 3691              		.cfi_offset 4, -20
 3692              		.cfi_offset 5, -16
 3693              		.cfi_offset 6, -12
 3694              		.cfi_offset 7, -8
 3695              		.cfi_offset 14, -4
1430:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t start_add = BlockStartAdd;
 3696              		.loc 1 1430 3 is_stmt 1 view .LVU1340
1431:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t end_add = BlockEndAdd;
 3697              		.loc 1 1431 3 view .LVU1341
 3698              	.LVL297:
1432:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3699              		.loc 1 1432 3 view .LVU1342
1434:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3700              		.loc 1 1434 3 view .LVU1343
1434:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3701              		.loc 1 1434 10 is_stmt 0 view .LVU1344
 3702 0002 90F83050 		ldrb	r5, [r0, #48]	@ zero_extendqisi2
 3703 0006 EDB2     		uxtb	r5, r5
1434:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3704              		.loc 1 1434 6 view .LVU1345
 3705 0008 012D     		cmp	r5, #1
 3706 000a 70D1     		bne	.L246
 3707 000c 0446     		mov	r4, r0
 3708 000e 0F46     		mov	r7, r1
 3709 0010 1646     		mov	r6, r2
1436:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3710              		.loc 1 1436 5 is_stmt 1 view .LVU1346
1436:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3711              		.loc 1 1436 20 is_stmt 0 view .LVU1347
 3712 0012 0023     		movs	r3, #0
 3713 0014 4363     		str	r3, [r0, #52]
1438:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3714              		.loc 1 1438 5 is_stmt 1 view .LVU1348
1438:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3715              		.loc 1 1438 8 is_stmt 0 view .LVU1349
 3716 0016 9142     		cmp	r1, r2
 3717 0018 14D8     		bhi	.L248
1444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3718              		.loc 1 1444 5 is_stmt 1 view .LVU1350
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 155


1444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3719              		.loc 1 1444 31 is_stmt 0 view .LVU1351
 3720 001a 036D     		ldr	r3, [r0, #80]
1444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3721              		.loc 1 1444 8 view .LVU1352
 3722 001c 9342     		cmp	r3, r2
 3723 001e 16D3     		bcc	.L249
1450:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3724              		.loc 1 1450 5 is_stmt 1 view .LVU1353
1450:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3725              		.loc 1 1450 16 is_stmt 0 view .LVU1354
 3726 0020 0323     		movs	r3, #3
 3727 0022 80F83030 		strb	r3, [r0, #48]
1453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3728              		.loc 1 1453 5 is_stmt 1 view .LVU1355
1453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3729              		.loc 1 1453 22 is_stmt 0 view .LVU1356
 3730 0026 036C     		ldr	r3, [r0, #64]
1453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3731              		.loc 1 1453 8 view .LVU1357
 3732 0028 13F0200F 		tst	r3, #32
 3733 002c 14D1     		bne	.L240
1456:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
 3734              		.loc 1 1456 7 is_stmt 1 view .LVU1358
 3735 002e 0368     		ldr	r3, [r0]
 3736 0030 304A     		ldr	r2, .L252
 3737              	.LVL298:
1456:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
 3738              		.loc 1 1456 7 is_stmt 0 view .LVU1359
 3739 0032 9A63     		str	r2, [r3, #56]
1457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3740              		.loc 1 1457 7 is_stmt 1 view .LVU1360
1457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3741              		.loc 1 1457 10 is_stmt 0 view .LVU1361
 3742 0034 436B     		ldr	r3, [r0, #52]
1457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3743              		.loc 1 1457 22 view .LVU1362
 3744 0036 43F08063 		orr	r3, r3, #67108864
 3745 003a 4363     		str	r3, [r0, #52]
1458:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3746              		.loc 1 1458 7 is_stmt 1 view .LVU1363
1458:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3747              		.loc 1 1458 18 is_stmt 0 view .LVU1364
 3748 003c 0123     		movs	r3, #1
 3749 003e 80F83030 		strb	r3, [r0, #48]
1459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3750              		.loc 1 1459 7 is_stmt 1 view .LVU1365
1459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3751              		.loc 1 1459 14 is_stmt 0 view .LVU1366
 3752 0042 55E0     		b	.L237
 3753              	.LVL299:
 3754              	.L248:
1440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3755              		.loc 1 1440 7 is_stmt 1 view .LVU1367
1440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3756              		.loc 1 1440 10 is_stmt 0 view .LVU1368
 3757 0044 436B     		ldr	r3, [r0, #52]
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 156


1440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3758              		.loc 1 1440 22 view .LVU1369
 3759 0046 43F00063 		orr	r3, r3, #134217728
 3760 004a 4363     		str	r3, [r0, #52]
1441:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3761              		.loc 1 1441 7 is_stmt 1 view .LVU1370
1441:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3762              		.loc 1 1441 14 is_stmt 0 view .LVU1371
 3763 004c 50E0     		b	.L237
 3764              	.L249:
1446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3765              		.loc 1 1446 7 is_stmt 1 view .LVU1372
1446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3766              		.loc 1 1446 10 is_stmt 0 view .LVU1373
 3767 004e 436B     		ldr	r3, [r0, #52]
1446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3768              		.loc 1 1446 22 view .LVU1374
 3769 0050 43F00073 		orr	r3, r3, #33554432
 3770 0054 4363     		str	r3, [r0, #52]
1447:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3771              		.loc 1 1447 7 is_stmt 1 view .LVU1375
1447:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3772              		.loc 1 1447 14 is_stmt 0 view .LVU1376
 3773 0056 4BE0     		b	.L237
 3774              	.L240:
1462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3775              		.loc 1 1462 5 is_stmt 1 view .LVU1377
1462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3776              		.loc 1 1462 10 is_stmt 0 view .LVU1378
 3777 0058 0021     		movs	r1, #0
 3778              	.LVL300:
1462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3779              		.loc 1 1462 10 view .LVU1379
 3780 005a 0068     		ldr	r0, [r0]
 3781              	.LVL301:
1462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3782              		.loc 1 1462 10 view .LVU1380
 3783 005c FFF7FEFF 		bl	SDMMC_GetResponse
 3784              	.LVL302:
1462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3785              		.loc 1 1462 8 discriminator 1 view .LVU1381
 3786 0060 10F0007F 		tst	r0, #33554432
 3787 0064 15D1     		bne	.L250
1472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3788              		.loc 1 1472 5 is_stmt 1 view .LVU1382
1472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3789              		.loc 1 1472 20 is_stmt 0 view .LVU1383
 3790 0066 A36B     		ldr	r3, [r4, #56]
1472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3791              		.loc 1 1472 8 view .LVU1384
 3792 0068 012B     		cmp	r3, #1
 3793 006a 01D0     		beq	.L242
1474:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       end_add   *= BLOCKSIZE;
 3794              		.loc 1 1474 7 is_stmt 1 view .LVU1385
1474:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       end_add   *= BLOCKSIZE;
 3795              		.loc 1 1474 17 is_stmt 0 view .LVU1386
 3796 006c 7F02     		lsls	r7, r7, #9
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 157


 3797              	.LVL303:
1475:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3798              		.loc 1 1475 7 is_stmt 1 view .LVU1387
1475:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3799              		.loc 1 1475 17 is_stmt 0 view .LVU1388
 3800 006e 7602     		lsls	r6, r6, #9
 3801              	.LVL304:
 3802              	.L242:
1479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3803              		.loc 1 1479 5 is_stmt 1 view .LVU1389
1479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3804              		.loc 1 1479 8 is_stmt 0 view .LVU1390
 3805 0070 032B     		cmp	r3, #3
 3806 0072 1ED0     		beq	.L243
1482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
 3807              		.loc 1 1482 7 is_stmt 1 view .LVU1391
1482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
 3808              		.loc 1 1482 20 is_stmt 0 view .LVU1392
 3809 0074 3946     		mov	r1, r7
 3810 0076 2068     		ldr	r0, [r4]
 3811 0078 FFF7FEFF 		bl	SDMMC_CmdSDEraseStartAdd
 3812              	.LVL305:
1483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3813              		.loc 1 1483 7 is_stmt 1 view .LVU1393
1483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3814              		.loc 1 1483 10 is_stmt 0 view .LVU1394
 3815 007c A0B1     		cbz	r0, .L244
1486:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 3816              		.loc 1 1486 9 is_stmt 1 view .LVU1395
 3817 007e 2368     		ldr	r3, [r4]
 3818 0080 1C49     		ldr	r1, .L252
 3819 0082 9963     		str	r1, [r3, #56]
1487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3820              		.loc 1 1487 9 view .LVU1396
1487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3821              		.loc 1 1487 12 is_stmt 0 view .LVU1397
 3822 0084 636B     		ldr	r3, [r4, #52]
1487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3823              		.loc 1 1487 24 view .LVU1398
 3824 0086 0343     		orrs	r3, r3, r0
 3825 0088 6363     		str	r3, [r4, #52]
1488:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_ERROR;
 3826              		.loc 1 1488 9 is_stmt 1 view .LVU1399
1488:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_ERROR;
 3827              		.loc 1 1488 20 is_stmt 0 view .LVU1400
 3828 008a 0123     		movs	r3, #1
 3829 008c 84F83030 		strb	r3, [r4, #48]
1489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 3830              		.loc 1 1489 9 is_stmt 1 view .LVU1401
1489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 3831              		.loc 1 1489 16 is_stmt 0 view .LVU1402
 3832 0090 2EE0     		b	.L237
 3833              	.LVL306:
 3834              	.L250:
1465:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
 3835              		.loc 1 1465 7 is_stmt 1 view .LVU1403
 3836 0092 2368     		ldr	r3, [r4]
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 158


 3837 0094 174A     		ldr	r2, .L252
 3838 0096 9A63     		str	r2, [r3, #56]
1466:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3839              		.loc 1 1466 7 view .LVU1404
1466:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3840              		.loc 1 1466 10 is_stmt 0 view .LVU1405
 3841 0098 636B     		ldr	r3, [r4, #52]
1466:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3842              		.loc 1 1466 22 view .LVU1406
 3843 009a 43F40063 		orr	r3, r3, #2048
 3844 009e 6363     		str	r3, [r4, #52]
1467:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3845              		.loc 1 1467 7 is_stmt 1 view .LVU1407
1467:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3846              		.loc 1 1467 18 is_stmt 0 view .LVU1408
 3847 00a0 0123     		movs	r3, #1
 3848 00a2 84F83030 		strb	r3, [r4, #48]
1468:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3849              		.loc 1 1468 7 is_stmt 1 view .LVU1409
1468:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3850              		.loc 1 1468 14 is_stmt 0 view .LVU1410
 3851 00a6 23E0     		b	.L237
 3852              	.LVL307:
 3853              	.L244:
1493:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
 3854              		.loc 1 1493 7 is_stmt 1 view .LVU1411
1493:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
 3855              		.loc 1 1493 20 is_stmt 0 view .LVU1412
 3856 00a8 3146     		mov	r1, r6
 3857 00aa 2068     		ldr	r0, [r4]
 3858              	.LVL308:
1493:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
 3859              		.loc 1 1493 20 view .LVU1413
 3860 00ac FFF7FEFF 		bl	SDMMC_CmdSDEraseEndAdd
 3861              	.LVL309:
1494:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3862              		.loc 1 1494 7 is_stmt 1 view .LVU1414
1494:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3863              		.loc 1 1494 10 is_stmt 0 view .LVU1415
 3864 00b0 70B9     		cbnz	r0, .L251
 3865              	.LVL310:
 3866              	.L243:
1505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 3867              		.loc 1 1505 5 is_stmt 1 view .LVU1416
1505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 3868              		.loc 1 1505 18 is_stmt 0 view .LVU1417
 3869 00b2 0021     		movs	r1, #0
 3870 00b4 2068     		ldr	r0, [r4]
 3871 00b6 FFF7FEFF 		bl	SDMMC_CmdErase
 3872              	.LVL311:
1506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3873              		.loc 1 1506 5 is_stmt 1 view .LVU1418
1506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3874              		.loc 1 1506 8 is_stmt 0 view .LVU1419
 3875 00ba 98B1     		cbz	r0, .L245
1509:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 3876              		.loc 1 1509 7 is_stmt 1 view .LVU1420
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 159


 3877 00bc 2368     		ldr	r3, [r4]
 3878 00be 0D49     		ldr	r1, .L252
 3879 00c0 9963     		str	r1, [r3, #56]
1510:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3880              		.loc 1 1510 7 view .LVU1421
1510:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3881              		.loc 1 1510 10 is_stmt 0 view .LVU1422
 3882 00c2 636B     		ldr	r3, [r4, #52]
1510:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3883              		.loc 1 1510 22 view .LVU1423
 3884 00c4 0343     		orrs	r3, r3, r0
 3885 00c6 6363     		str	r3, [r4, #52]
1511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3886              		.loc 1 1511 7 is_stmt 1 view .LVU1424
1511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3887              		.loc 1 1511 18 is_stmt 0 view .LVU1425
 3888 00c8 0123     		movs	r3, #1
 3889 00ca 84F83030 		strb	r3, [r4, #48]
1512:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3890              		.loc 1 1512 7 is_stmt 1 view .LVU1426
1512:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3891              		.loc 1 1512 14 is_stmt 0 view .LVU1427
 3892 00ce 0FE0     		b	.L237
 3893              	.L251:
1497:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 3894              		.loc 1 1497 9 is_stmt 1 view .LVU1428
 3895 00d0 2368     		ldr	r3, [r4]
 3896 00d2 0849     		ldr	r1, .L252
 3897 00d4 9963     		str	r1, [r3, #56]
1498:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3898              		.loc 1 1498 9 view .LVU1429
1498:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3899              		.loc 1 1498 12 is_stmt 0 view .LVU1430
 3900 00d6 636B     		ldr	r3, [r4, #52]
1498:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3901              		.loc 1 1498 24 view .LVU1431
 3902 00d8 0343     		orrs	r3, r3, r0
 3903 00da 6363     		str	r3, [r4, #52]
1499:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_ERROR;
 3904              		.loc 1 1499 9 is_stmt 1 view .LVU1432
1499:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_ERROR;
 3905              		.loc 1 1499 20 is_stmt 0 view .LVU1433
 3906 00dc 0123     		movs	r3, #1
 3907 00de 84F83030 		strb	r3, [r4, #48]
1500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 3908              		.loc 1 1500 9 is_stmt 1 view .LVU1434
1500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 3909              		.loc 1 1500 16 is_stmt 0 view .LVU1435
 3910 00e2 05E0     		b	.L237
 3911              	.L245:
1515:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3912              		.loc 1 1515 5 is_stmt 1 view .LVU1436
1515:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3913              		.loc 1 1515 16 is_stmt 0 view .LVU1437
 3914 00e4 0123     		movs	r3, #1
 3915 00e6 84F83030 		strb	r3, [r4, #48]
1517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 160


 3916              		.loc 1 1517 5 is_stmt 1 view .LVU1438
1517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3917              		.loc 1 1517 12 is_stmt 0 view .LVU1439
 3918 00ea 0025     		movs	r5, #0
 3919 00ec 00E0     		b	.L237
 3920              	.LVL312:
 3921              	.L246:
1521:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3922              		.loc 1 1521 12 view .LVU1440
 3923 00ee 0225     		movs	r5, #2
 3924              	.LVL313:
 3925              	.L237:
1523:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3926              		.loc 1 1523 1 view .LVU1441
 3927 00f0 2846     		mov	r0, r5
 3928 00f2 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3929              	.L253:
 3930              		.align	2
 3931              	.L252:
 3932 00f4 FF0FE01F 		.word	534777855
 3933              		.cfi_endproc
 3934              	.LFE155:
 3936              		.section	.text.HAL_SD_GetState,"ax",%progbits
 3937              		.align	1
 3938              		.global	HAL_SD_GetState
 3939              		.syntax unified
 3940              		.thumb
 3941              		.thumb_func
 3943              	HAL_SD_GetState:
 3944              	.LVL314:
 3945              	.LFB157:
1766:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return hsd->State;
 3946              		.loc 1 1766 1 is_stmt 1 view -0
 3947              		.cfi_startproc
 3948              		@ args = 0, pretend = 0, frame = 0
 3949              		@ frame_needed = 0, uses_anonymous_args = 0
 3950              		@ link register save eliminated.
1767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 3951              		.loc 1 1767 3 view .LVU1443
1767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 3952              		.loc 1 1767 13 is_stmt 0 view .LVU1444
 3953 0000 90F83000 		ldrb	r0, [r0, #48]	@ zero_extendqisi2
 3954              	.LVL315:
1768:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3955              		.loc 1 1768 1 view .LVU1445
 3956 0004 7047     		bx	lr
 3957              		.cfi_endproc
 3958              	.LFE157:
 3960              		.section	.text.HAL_SD_GetError,"ax",%progbits
 3961              		.align	1
 3962              		.global	HAL_SD_GetError
 3963              		.syntax unified
 3964              		.thumb
 3965              		.thumb_func
 3967              	HAL_SD_GetError:
 3968              	.LVL316:
 3969              	.LFB158:
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 161


1777:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return hsd->ErrorCode;
 3970              		.loc 1 1777 1 is_stmt 1 view -0
 3971              		.cfi_startproc
 3972              		@ args = 0, pretend = 0, frame = 0
 3973              		@ frame_needed = 0, uses_anonymous_args = 0
 3974              		@ link register save eliminated.
1778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 3975              		.loc 1 1778 3 view .LVU1447
1778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 3976              		.loc 1 1778 13 is_stmt 0 view .LVU1448
 3977 0000 406B     		ldr	r0, [r0, #52]
 3978              	.LVL317:
1779:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3979              		.loc 1 1779 1 view .LVU1449
 3980 0002 7047     		bx	lr
 3981              		.cfi_endproc
 3982              	.LFE158:
 3984              		.section	.text.HAL_SD_TxCpltCallback,"ax",%progbits
 3985              		.align	1
 3986              		.weak	HAL_SD_TxCpltCallback
 3987              		.syntax unified
 3988              		.thumb
 3989              		.thumb_func
 3991              	HAL_SD_TxCpltCallback:
 3992              	.LVL318:
 3993              	.LFB159:
1787:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 3994              		.loc 1 1787 1 is_stmt 1 view -0
 3995              		.cfi_startproc
 3996              		@ args = 0, pretend = 0, frame = 0
 3997              		@ frame_needed = 0, uses_anonymous_args = 0
 3998              		@ link register save eliminated.
1789:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3999              		.loc 1 1789 3 view .LVU1451
1794:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4000              		.loc 1 1794 1 is_stmt 0 view .LVU1452
 4001 0000 7047     		bx	lr
 4002              		.cfi_endproc
 4003              	.LFE159:
 4005              		.section	.text.HAL_SD_RxCpltCallback,"ax",%progbits
 4006              		.align	1
 4007              		.weak	HAL_SD_RxCpltCallback
 4008              		.syntax unified
 4009              		.thumb
 4010              		.thumb_func
 4012              	HAL_SD_RxCpltCallback:
 4013              	.LVL319:
 4014              	.LFB160:
1802:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 4015              		.loc 1 1802 1 is_stmt 1 view -0
 4016              		.cfi_startproc
 4017              		@ args = 0, pretend = 0, frame = 0
 4018              		@ frame_needed = 0, uses_anonymous_args = 0
 4019              		@ link register save eliminated.
1804:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4020              		.loc 1 1804 3 view .LVU1454
1809:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 162


 4021              		.loc 1 1809 1 is_stmt 0 view .LVU1455
 4022 0000 7047     		bx	lr
 4023              		.cfi_endproc
 4024              	.LFE160:
 4026              		.section	.text.HAL_SD_ErrorCallback,"ax",%progbits
 4027              		.align	1
 4028              		.weak	HAL_SD_ErrorCallback
 4029              		.syntax unified
 4030              		.thumb
 4031              		.thumb_func
 4033              	HAL_SD_ErrorCallback:
 4034              	.LVL320:
 4035              	.LFB161:
1817:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 4036              		.loc 1 1817 1 is_stmt 1 view -0
 4037              		.cfi_startproc
 4038              		@ args = 0, pretend = 0, frame = 0
 4039              		@ frame_needed = 0, uses_anonymous_args = 0
 4040              		@ link register save eliminated.
1819:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4041              		.loc 1 1819 3 view .LVU1457
1824:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4042              		.loc 1 1824 1 is_stmt 0 view .LVU1458
 4043 0000 7047     		bx	lr
 4044              		.cfi_endproc
 4045              	.LFE161:
 4047              		.section	.text.HAL_SD_AbortCallback,"ax",%progbits
 4048              		.align	1
 4049              		.weak	HAL_SD_AbortCallback
 4050              		.syntax unified
 4051              		.thumb
 4052              		.thumb_func
 4054              	HAL_SD_AbortCallback:
 4055              	.LVL321:
 4056              	.LFB162:
1832:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 4057              		.loc 1 1832 1 is_stmt 1 view -0
 4058              		.cfi_startproc
 4059              		@ args = 0, pretend = 0, frame = 0
 4060              		@ frame_needed = 0, uses_anonymous_args = 0
 4061              		@ link register save eliminated.
1834:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4062              		.loc 1 1834 3 view .LVU1460
1839:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4063              		.loc 1 1839 1 is_stmt 0 view .LVU1461
 4064 0000 7047     		bx	lr
 4065              		.cfi_endproc
 4066              	.LFE162:
 4068              		.section	.text.HAL_SD_GetCardCID,"ax",%progbits
 4069              		.align	1
 4070              		.global	HAL_SD_GetCardCID
 4071              		.syntax unified
 4072              		.thumb
 4073              		.thumb_func
 4075              	HAL_SD_GetCardCID:
 4076              	.LVL322:
 4077              	.LFB163:
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 163


2158:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->ManufacturerID = (uint8_t)((hsd->CID[0] & 0xFF000000U) >> 24U);
 4078              		.loc 1 2158 1 is_stmt 1 view -0
 4079              		.cfi_startproc
 4080              		@ args = 0, pretend = 0, frame = 0
 4081              		@ frame_needed = 0, uses_anonymous_args = 0
 4082              		@ link register save eliminated.
2159:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4083              		.loc 1 2159 3 view .LVU1463
2159:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4084              		.loc 1 2159 26 is_stmt 0 view .LVU1464
 4085 0000 90F86F30 		ldrb	r3, [r0, #111]	@ zero_extendqisi2
2159:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4086              		.loc 1 2159 24 view .LVU1465
 4087 0004 0B70     		strb	r3, [r1]
2161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4088              		.loc 1 2161 3 is_stmt 1 view .LVU1466
2161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4089              		.loc 1 2161 43 is_stmt 0 view .LVU1467
 4090 0006 C36E     		ldr	r3, [r0, #108]
2161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4091              		.loc 1 2161 23 view .LVU1468
 4092 0008 C3F30F23 		ubfx	r3, r3, #8, #16
2161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4093              		.loc 1 2161 21 view .LVU1469
 4094 000c 4B80     		strh	r3, [r1, #2]	@ movhi
2163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4095              		.loc 1 2163 3 is_stmt 1 view .LVU1470
2163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4096              		.loc 1 2163 32 is_stmt 0 view .LVU1471
 4097 000e C26E     		ldr	r2, [r0, #108]
2163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4098              		.loc 1 2163 71 view .LVU1472
 4099 0010 036F     		ldr	r3, [r0, #112]
2163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4100              		.loc 1 2163 90 view .LVU1473
 4101 0012 1B0A     		lsrs	r3, r3, #8
2163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4102              		.loc 1 2163 59 view .LVU1474
 4103 0014 43EA0263 		orr	r3, r3, r2, lsl #24
2163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4104              		.loc 1 2163 19 view .LVU1475
 4105 0018 4B60     		str	r3, [r1, #4]
2165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4106              		.loc 1 2165 3 is_stmt 1 view .LVU1476
2165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4107              		.loc 1 2165 21 is_stmt 0 view .LVU1477
 4108 001a 90F87030 		ldrb	r3, [r0, #112]	@ zero_extendqisi2
2165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4109              		.loc 1 2165 19 view .LVU1478
 4110 001e 0B72     		strb	r3, [r1, #8]
2167:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4111              		.loc 1 2167 3 is_stmt 1 view .LVU1479
2167:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4112              		.loc 1 2167 19 is_stmt 0 view .LVU1480
 4113 0020 90F87730 		ldrb	r3, [r0, #119]	@ zero_extendqisi2
2167:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4114              		.loc 1 2167 17 view .LVU1481
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 164


 4115 0024 4B72     		strb	r3, [r1, #9]
2169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4116              		.loc 1 2169 3 is_stmt 1 view .LVU1482
2169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4117              		.loc 1 2169 29 is_stmt 0 view .LVU1483
 4118 0026 426F     		ldr	r2, [r0, #116]
2169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4119              		.loc 1 2169 86 view .LVU1484
 4120 0028 90F87B30 		ldrb	r3, [r0, #123]	@ zero_extendqisi2
2169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4121              		.loc 1 2169 55 view .LVU1485
 4122 002c 43EA0223 		orr	r3, r3, r2, lsl #8
2169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4123              		.loc 1 2169 16 view .LVU1486
 4124 0030 CB60     		str	r3, [r1, #12]
2171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4125              		.loc 1 2171 3 is_stmt 1 view .LVU1487
2171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4126              		.loc 1 2171 40 is_stmt 0 view .LVU1488
 4127 0032 836F     		ldr	r3, [r0, #120]
2171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4128              		.loc 1 2171 21 view .LVU1489
 4129 0034 C3F30353 		ubfx	r3, r3, #20, #4
2171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4130              		.loc 1 2171 19 view .LVU1490
 4131 0038 0B74     		strb	r3, [r1, #16]
2173:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4132              		.loc 1 2173 3 is_stmt 1 view .LVU1491
2173:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4133              		.loc 1 2173 44 is_stmt 0 view .LVU1492
 4134 003a 836F     		ldr	r3, [r0, #120]
2173:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4135              		.loc 1 2173 24 view .LVU1493
 4136 003c C3F30B23 		ubfx	r3, r3, #8, #12
2173:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4137              		.loc 1 2173 22 view .LVU1494
 4138 0040 4B82     		strh	r3, [r1, #18]	@ movhi
2175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4139              		.loc 1 2175 3 is_stmt 1 view .LVU1495
2175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4140              		.loc 1 2175 38 is_stmt 0 view .LVU1496
 4141 0042 836F     		ldr	r3, [r0, #120]
2175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4142              		.loc 1 2175 19 view .LVU1497
 4143 0044 C3F34603 		ubfx	r3, r3, #1, #7
2175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4144              		.loc 1 2175 17 view .LVU1498
 4145 0048 0B75     		strb	r3, [r1, #20]
2177:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4146              		.loc 1 2177 3 is_stmt 1 view .LVU1499
2177:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4147              		.loc 1 2177 19 is_stmt 0 view .LVU1500
 4148 004a 0123     		movs	r3, #1
 4149 004c 4B75     		strb	r3, [r1, #21]
2179:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 4150              		.loc 1 2179 3 is_stmt 1 view .LVU1501
2180:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 165


 4151              		.loc 1 2180 1 is_stmt 0 view .LVU1502
 4152 004e 0020     		movs	r0, #0
 4153              	.LVL323:
2180:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4154              		.loc 1 2180 1 view .LVU1503
 4155 0050 7047     		bx	lr
 4156              		.cfi_endproc
 4157              	.LFE163:
 4159              		.section	.text.HAL_SD_GetCardCSD,"ax",%progbits
 4160              		.align	1
 4161              		.global	HAL_SD_GetCardCSD
 4162              		.syntax unified
 4163              		.thumb
 4164              		.thumb_func
 4166              	HAL_SD_GetCardCSD:
 4167              	.LVL324:
 4168              	.LFB164:
2191:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->CSDStruct = (uint8_t)((hsd->CSD[0] & 0xC0000000U) >> 30U);
 4169              		.loc 1 2191 1 is_stmt 1 view -0
 4170              		.cfi_startproc
 4171              		@ args = 0, pretend = 0, frame = 0
 4172              		@ frame_needed = 0, uses_anonymous_args = 0
 4173              		@ link register save eliminated.
2191:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->CSDStruct = (uint8_t)((hsd->CSD[0] & 0xC0000000U) >> 30U);
 4174              		.loc 1 2191 1 is_stmt 0 view .LVU1505
 4175 0000 0346     		mov	r3, r0
2192:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4176              		.loc 1 2192 3 is_stmt 1 view .LVU1506
2192:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4177              		.loc 1 2192 40 is_stmt 0 view .LVU1507
 4178 0002 C26D     		ldr	r2, [r0, #92]
2192:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4179              		.loc 1 2192 21 view .LVU1508
 4180 0004 920F     		lsrs	r2, r2, #30
2192:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4181              		.loc 1 2192 19 view .LVU1509
 4182 0006 0A70     		strb	r2, [r1]
2194:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4183              		.loc 1 2194 3 is_stmt 1 view .LVU1510
2194:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4184              		.loc 1 2194 45 is_stmt 0 view .LVU1511
 4185 0008 C26D     		ldr	r2, [r0, #92]
2194:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4186              		.loc 1 2194 26 view .LVU1512
 4187 000a C2F38362 		ubfx	r2, r2, #26, #4
2194:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4188              		.loc 1 2194 24 view .LVU1513
 4189 000e 4A70     		strb	r2, [r1, #1]
2196:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4190              		.loc 1 2196 3 is_stmt 1 view .LVU1514
2196:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4191              		.loc 1 2196 59 is_stmt 0 view .LVU1515
 4192 0010 90F85F20 		ldrb	r2, [r0, #95]	@ zero_extendqisi2
2196:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4193              		.loc 1 2196 21 view .LVU1516
 4194 0014 02F00302 		and	r2, r2, #3
2196:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 166


 4195              		.loc 1 2196 19 view .LVU1517
 4196 0018 8A70     		strb	r2, [r1, #2]
2198:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4197              		.loc 1 2198 3 is_stmt 1 view .LVU1518
2198:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4198              		.loc 1 2198 16 is_stmt 0 view .LVU1519
 4199 001a 90F85E20 		ldrb	r2, [r0, #94]	@ zero_extendqisi2
2198:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4200              		.loc 1 2198 14 view .LVU1520
 4201 001e CA70     		strb	r2, [r1, #3]
2200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4202              		.loc 1 2200 3 is_stmt 1 view .LVU1521
2200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4203              		.loc 1 2200 16 is_stmt 0 view .LVU1522
 4204 0020 90F85D20 		ldrb	r2, [r0, #93]	@ zero_extendqisi2
2200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4205              		.loc 1 2200 14 view .LVU1523
 4206 0024 0A71     		strb	r2, [r1, #4]
2202:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4207              		.loc 1 2202 3 is_stmt 1 view .LVU1524
2202:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4208              		.loc 1 2202 25 is_stmt 0 view .LVU1525
 4209 0026 90F85C20 		ldrb	r2, [r0, #92]	@ zero_extendqisi2
2202:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4210              		.loc 1 2202 23 view .LVU1526
 4211 002a 4A71     		strb	r2, [r1, #5]
2204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4212              		.loc 1 2204 3 is_stmt 1 view .LVU1527
2204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4213              		.loc 1 2204 47 is_stmt 0 view .LVU1528
 4214 002c 026E     		ldr	r2, [r0, #96]
2204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4215              		.loc 1 2204 27 view .LVU1529
 4216 002e 120D     		lsrs	r2, r2, #20
2204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4217              		.loc 1 2204 25 view .LVU1530
 4218 0030 CA80     		strh	r2, [r1, #6]	@ movhi
2206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4219              		.loc 1 2206 3 is_stmt 1 view .LVU1531
2206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4220              		.loc 1 2206 60 is_stmt 0 view .LVU1532
 4221 0032 B0F86220 		ldrh	r2, [r0, #98]
2206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4222              		.loc 1 2206 22 view .LVU1533
 4223 0036 02F00F02 		and	r2, r2, #15
2206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4224              		.loc 1 2206 20 view .LVU1534
 4225 003a 0A72     		strb	r2, [r1, #8]
2208:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4226              		.loc 1 2208 3 is_stmt 1 view .LVU1535
2208:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4227              		.loc 1 2208 46 is_stmt 0 view .LVU1536
 4228 003c 026E     		ldr	r2, [r0, #96]
2208:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4229              		.loc 1 2208 27 view .LVU1537
 4230 003e C2F3C032 		ubfx	r2, r2, #15, #1
2208:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 167


 4231              		.loc 1 2208 25 view .LVU1538
 4232 0042 4A72     		strb	r2, [r1, #9]
2210:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4233              		.loc 1 2210 3 is_stmt 1 view .LVU1539
2210:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4234              		.loc 1 2210 46 is_stmt 0 view .LVU1540
 4235 0044 026E     		ldr	r2, [r0, #96]
2210:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4236              		.loc 1 2210 27 view .LVU1541
 4237 0046 C2F38032 		ubfx	r2, r2, #14, #1
2210:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4238              		.loc 1 2210 25 view .LVU1542
 4239 004a 8A72     		strb	r2, [r1, #10]
2212:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4240              		.loc 1 2212 3 is_stmt 1 view .LVU1543
2212:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4241              		.loc 1 2212 46 is_stmt 0 view .LVU1544
 4242 004c 026E     		ldr	r2, [r0, #96]
2212:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4243              		.loc 1 2212 27 view .LVU1545
 4244 004e C2F34032 		ubfx	r2, r2, #13, #1
2212:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4245              		.loc 1 2212 25 view .LVU1546
 4246 0052 CA72     		strb	r2, [r1, #11]
2214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4247              		.loc 1 2214 3 is_stmt 1 view .LVU1547
2214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4248              		.loc 1 2214 38 is_stmt 0 view .LVU1548
 4249 0054 026E     		ldr	r2, [r0, #96]
2214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4250              		.loc 1 2214 19 view .LVU1549
 4251 0056 C2F30032 		ubfx	r2, r2, #12, #1
2214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4252              		.loc 1 2214 17 view .LVU1550
 4253 005a 0A73     		strb	r2, [r1, #12]
2216:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4254              		.loc 1 2216 3 is_stmt 1 view .LVU1551
2216:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4255              		.loc 1 2216 19 is_stmt 0 view .LVU1552
 4256 005c 0022     		movs	r2, #0
 4257 005e 4A73     		strb	r2, [r1, #13]
2218:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4258              		.loc 1 2218 3 is_stmt 1 view .LVU1553
2218:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4259              		.loc 1 2218 18 is_stmt 0 view .LVU1554
 4260 0060 826B     		ldr	r2, [r0, #56]
2218:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4261              		.loc 1 2218 6 view .LVU1555
 4262 0062 002A     		cmp	r2, #0
 4263 0064 40F08680 		bne	.L262
2220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4264              		.loc 1 2220 5 is_stmt 1 view .LVU1556
2220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4265              		.loc 1 2220 35 is_stmt 0 view .LVU1557
 4266 0068 006E     		ldr	r0, [r0, #96]
 4267              	.LVL325:
2220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 168


 4268              		.loc 1 2220 54 view .LVU1558
 4269 006a 40F6FC72 		movw	r2, #4092
 4270 006e 02EA8002 		and	r2, r2, r0, lsl #2
2220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4271              		.loc 1 2220 73 view .LVU1559
 4272 0072 586E     		ldr	r0, [r3, #100]
2220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4273              		.loc 1 2220 61 view .LVU1560
 4274 0074 42EA9072 		orr	r2, r2, r0, lsr #30
2220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4275              		.loc 1 2220 22 view .LVU1561
 4276 0078 0A61     		str	r2, [r1, #16]
2222:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4277              		.loc 1 2222 5 is_stmt 1 view .LVU1562
2222:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4278              		.loc 1 2222 51 is_stmt 0 view .LVU1563
 4279 007a 5A6E     		ldr	r2, [r3, #100]
2222:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4280              		.loc 1 2222 32 view .LVU1564
 4281 007c C2F3C262 		ubfx	r2, r2, #27, #3
2222:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4282              		.loc 1 2222 30 view .LVU1565
 4283 0080 0A75     		strb	r2, [r1, #20]
2224:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4284              		.loc 1 2224 5 is_stmt 1 view .LVU1566
2224:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4285              		.loc 1 2224 70 is_stmt 0 view .LVU1567
 4286 0082 93F86720 		ldrb	r2, [r3, #103]	@ zero_extendqisi2
2224:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4287              		.loc 1 2224 32 view .LVU1568
 4288 0086 02F00702 		and	r2, r2, #7
2224:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4289              		.loc 1 2224 30 view .LVU1569
 4290 008a 4A75     		strb	r2, [r1, #21]
2226:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4291              		.loc 1 2226 5 is_stmt 1 view .LVU1570
2226:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4292              		.loc 1 2226 51 is_stmt 0 view .LVU1571
 4293 008c 5A6E     		ldr	r2, [r3, #100]
2226:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4294              		.loc 1 2226 32 view .LVU1572
 4295 008e C2F34252 		ubfx	r2, r2, #21, #3
2226:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4296              		.loc 1 2226 30 view .LVU1573
 4297 0092 8A75     		strb	r2, [r1, #22]
2228:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4298              		.loc 1 2228 5 is_stmt 1 view .LVU1574
2228:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4299              		.loc 1 2228 51 is_stmt 0 view .LVU1575
 4300 0094 5A6E     		ldr	r2, [r3, #100]
2228:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4301              		.loc 1 2228 32 view .LVU1576
 4302 0096 C2F38242 		ubfx	r2, r2, #18, #3
2228:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4303              		.loc 1 2228 30 view .LVU1577
 4304 009a CA75     		strb	r2, [r1, #23]
2230:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 169


 4305              		.loc 1 2230 5 is_stmt 1 view .LVU1578
2230:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4306              		.loc 1 2230 46 is_stmt 0 view .LVU1579
 4307 009c 5A6E     		ldr	r2, [r3, #100]
2230:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4308              		.loc 1 2230 27 view .LVU1580
 4309 009e C2F3C232 		ubfx	r2, r2, #15, #3
2230:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4310              		.loc 1 2230 25 view .LVU1581
 4311 00a2 0A76     		strb	r2, [r1, #24]
2232:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
 4312              		.loc 1 2232 5 is_stmt 1 view .LVU1582
2232:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
 4313              		.loc 1 2232 34 is_stmt 0 view .LVU1583
 4314 00a4 0A69     		ldr	r2, [r1, #16]
2232:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
 4315              		.loc 1 2232 47 view .LVU1584
 4316 00a6 0132     		adds	r2, r2, #1
2232:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
 4317              		.loc 1 2232 27 view .LVU1585
 4318 00a8 9A64     		str	r2, [r3, #72]
2233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4319              		.loc 1 2233 5 is_stmt 1 view .LVU1586
2233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4320              		.loc 1 2233 43 is_stmt 0 view .LVU1587
 4321 00aa 087E     		ldrb	r0, [r1, #24]	@ zero_extendqisi2
2233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4322              		.loc 1 2233 59 view .LVU1588
 4323 00ac 00F00700 		and	r0, r0, #7
2233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4324              		.loc 1 2233 68 view .LVU1589
 4325 00b0 0230     		adds	r0, r0, #2
2233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4326              		.loc 1 2233 26 view .LVU1590
 4327 00b2 8240     		lsls	r2, r2, r0
 4328 00b4 9A64     		str	r2, [r3, #72]
2234:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4329              		.loc 1 2234 5 is_stmt 1 view .LVU1591
2234:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4330              		.loc 1 2234 42 is_stmt 0 view .LVU1592
 4331 00b6 91F808C0 		ldrb	ip, [r1, #8]	@ zero_extendqisi2
2234:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4332              		.loc 1 2234 55 view .LVU1593
 4333 00ba 0CF00F0C 		and	ip, ip, #15
2234:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4334              		.loc 1 2234 34 view .LVU1594
 4335 00be 0120     		movs	r0, #1
 4336 00c0 00FA0CF0 		lsl	r0, r0, ip
2234:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4337              		.loc 1 2234 27 view .LVU1595
 4338 00c4 D864     		str	r0, [r3, #76]
2236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = BLOCKSIZE;
 4339              		.loc 1 2236 5 is_stmt 1 view .LVU1596
2236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = BLOCKSIZE;
 4340              		.loc 1 2236 81 is_stmt 0 view .LVU1597
 4341 00c6 400A     		lsrs	r0, r0, #9
2236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = BLOCKSIZE;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 170


 4342              		.loc 1 2236 54 view .LVU1598
 4343 00c8 00FB02F2 		mul	r2, r0, r2
2236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = BLOCKSIZE;
 4344              		.loc 1 2236 29 view .LVU1599
 4345 00cc 1A65     		str	r2, [r3, #80]
2237:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4346              		.loc 1 2237 5 is_stmt 1 view .LVU1600
2237:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4347              		.loc 1 2237 30 is_stmt 0 view .LVU1601
 4348 00ce 4FF40072 		mov	r2, #512
 4349 00d2 5A65     		str	r2, [r3, #84]
 4350              	.L263:
2258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4351              		.loc 1 2258 3 is_stmt 1 view .LVU1602
2258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4352              		.loc 1 2258 42 is_stmt 0 view .LVU1603
 4353 00d4 5A6E     		ldr	r2, [r3, #100]
2258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4354              		.loc 1 2258 23 view .LVU1604
 4355 00d6 C2F38032 		ubfx	r2, r2, #14, #1
2258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4356              		.loc 1 2258 21 view .LVU1605
 4357 00da 4A76     		strb	r2, [r1, #25]
2260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4358              		.loc 1 2260 3 is_stmt 1 view .LVU1606
2260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4359              		.loc 1 2260 41 is_stmt 0 view .LVU1607
 4360 00dc 5A6E     		ldr	r2, [r3, #100]
2260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4361              		.loc 1 2260 22 view .LVU1608
 4362 00de C2F3C612 		ubfx	r2, r2, #7, #7
2260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4363              		.loc 1 2260 20 view .LVU1609
 4364 00e2 8A76     		strb	r2, [r1, #26]
2262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4365              		.loc 1 2262 3 is_stmt 1 view .LVU1610
2262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4366              		.loc 1 2262 45 is_stmt 0 view .LVU1611
 4367 00e4 5A6E     		ldr	r2, [r3, #100]
2262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4368              		.loc 1 2262 27 view .LVU1612
 4369 00e6 02F07F02 		and	r2, r2, #127
2262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4370              		.loc 1 2262 25 view .LVU1613
 4371 00ea CA76     		strb	r2, [r1, #27]
2264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4372              		.loc 1 2264 3 is_stmt 1 view .LVU1614
2264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4373              		.loc 1 2264 48 is_stmt 0 view .LVU1615
 4374 00ec 9A6E     		ldr	r2, [r3, #104]
2264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4375              		.loc 1 2264 29 view .LVU1616
 4376 00ee D20F     		lsrs	r2, r2, #31
2264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4377              		.loc 1 2264 27 view .LVU1617
 4378 00f0 0A77     		strb	r2, [r1, #28]
2266:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 171


 4379              		.loc 1 2266 3 is_stmt 1 view .LVU1618
2266:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4380              		.loc 1 2266 41 is_stmt 0 view .LVU1619
 4381 00f2 9A6E     		ldr	r2, [r3, #104]
2266:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4382              		.loc 1 2266 22 view .LVU1620
 4383 00f4 C2F34172 		ubfx	r2, r2, #29, #2
2266:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4384              		.loc 1 2266 20 view .LVU1621
 4385 00f8 4A77     		strb	r2, [r1, #29]
2268:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4386              		.loc 1 2268 3 is_stmt 1 view .LVU1622
2268:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4387              		.loc 1 2268 42 is_stmt 0 view .LVU1623
 4388 00fa 9A6E     		ldr	r2, [r3, #104]
2268:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4389              		.loc 1 2268 23 view .LVU1624
 4390 00fc C2F38262 		ubfx	r2, r2, #26, #3
2268:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4391              		.loc 1 2268 21 view .LVU1625
 4392 0100 8A77     		strb	r2, [r1, #30]
2270:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4393              		.loc 1 2270 3 is_stmt 1 view .LVU1626
2270:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4394              		.loc 1 2270 44 is_stmt 0 view .LVU1627
 4395 0102 9A6E     		ldr	r2, [r3, #104]
2270:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4396              		.loc 1 2270 25 view .LVU1628
 4397 0104 C2F38352 		ubfx	r2, r2, #22, #4
2270:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4398              		.loc 1 2270 23 view .LVU1629
 4399 0108 CA77     		strb	r2, [r1, #31]
2272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4400              		.loc 1 2272 3 is_stmt 1 view .LVU1630
2272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4401              		.loc 1 2272 50 is_stmt 0 view .LVU1631
 4402 010a 9A6E     		ldr	r2, [r3, #104]
2272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4403              		.loc 1 2272 31 view .LVU1632
 4404 010c C2F34052 		ubfx	r2, r2, #21, #1
2272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4405              		.loc 1 2272 29 view .LVU1633
 4406 0110 81F82020 		strb	r2, [r1, #32]
2274:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4407              		.loc 1 2274 3 is_stmt 1 view .LVU1634
2274:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4408              		.loc 1 2274 19 is_stmt 0 view .LVU1635
 4409 0114 0020     		movs	r0, #0
 4410 0116 81F82100 		strb	r0, [r1, #33]
2276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4411              		.loc 1 2276 3 is_stmt 1 view .LVU1636
2276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4412              		.loc 1 2276 69 is_stmt 0 view .LVU1637
 4413 011a B3F86A20 		ldrh	r2, [r3, #106]
2276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4414              		.loc 1 2276 31 view .LVU1638
 4415 011e 02F00102 		and	r2, r2, #1
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 172


2276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4416              		.loc 1 2276 29 view .LVU1639
 4417 0122 81F82220 		strb	r2, [r1, #34]
2278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4418              		.loc 1 2278 3 is_stmt 1 view .LVU1640
2278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4419              		.loc 1 2278 46 is_stmt 0 view .LVU1641
 4420 0126 9A6E     		ldr	r2, [r3, #104]
2278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4421              		.loc 1 2278 27 view .LVU1642
 4422 0128 C2F3C032 		ubfx	r2, r2, #15, #1
2278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4423              		.loc 1 2278 25 view .LVU1643
 4424 012c 81F82320 		strb	r2, [r1, #35]
2280:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4425              		.loc 1 2280 3 is_stmt 1 view .LVU1644
2280:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4426              		.loc 1 2280 39 is_stmt 0 view .LVU1645
 4427 0130 9A6E     		ldr	r2, [r3, #104]
2280:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4428              		.loc 1 2280 20 view .LVU1646
 4429 0132 C2F38032 		ubfx	r2, r2, #14, #1
2280:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4430              		.loc 1 2280 18 view .LVU1647
 4431 0136 81F82420 		strb	r2, [r1, #36]
2282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4432              		.loc 1 2282 3 is_stmt 1 view .LVU1648
2282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4433              		.loc 1 2282 44 is_stmt 0 view .LVU1649
 4434 013a 9A6E     		ldr	r2, [r3, #104]
2282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4435              		.loc 1 2282 25 view .LVU1650
 4436 013c C2F34032 		ubfx	r2, r2, #13, #1
2282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4437              		.loc 1 2282 23 view .LVU1651
 4438 0140 81F82520 		strb	r2, [r1, #37]
2284:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4439              		.loc 1 2284 3 is_stmt 1 view .LVU1652
2284:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4440              		.loc 1 2284 44 is_stmt 0 view .LVU1653
 4441 0144 9A6E     		ldr	r2, [r3, #104]
2284:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4442              		.loc 1 2284 25 view .LVU1654
 4443 0146 C2F30032 		ubfx	r2, r2, #12, #1
2284:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4444              		.loc 1 2284 23 view .LVU1655
 4445 014a 81F82620 		strb	r2, [r1, #38]
2286:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4446              		.loc 1 2286 3 is_stmt 1 view .LVU1656
2286:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4447              		.loc 1 2286 41 is_stmt 0 view .LVU1657
 4448 014e 9A6E     		ldr	r2, [r3, #104]
2286:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4449              		.loc 1 2286 22 view .LVU1658
 4450 0150 C2F38122 		ubfx	r2, r2, #10, #2
2286:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4451              		.loc 1 2286 20 view .LVU1659
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 173


 4452 0154 81F82720 		strb	r2, [r1, #39]
2288:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4453              		.loc 1 2288 3 is_stmt 1 view .LVU1660
2288:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4454              		.loc 1 2288 34 is_stmt 0 view .LVU1661
 4455 0158 9A6E     		ldr	r2, [r3, #104]
2288:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4456              		.loc 1 2288 15 view .LVU1662
 4457 015a C2F30122 		ubfx	r2, r2, #8, #2
2288:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4458              		.loc 1 2288 13 view .LVU1663
 4459 015e 81F82820 		strb	r2, [r1, #40]
2290:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4460              		.loc 1 2290 3 is_stmt 1 view .LVU1664
2290:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4461              		.loc 1 2290 38 is_stmt 0 view .LVU1665
 4462 0162 9B6E     		ldr	r3, [r3, #104]
 4463              	.LVL326:
2290:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4464              		.loc 1 2290 19 view .LVU1666
 4465 0164 C3F34603 		ubfx	r3, r3, #1, #7
2290:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4466              		.loc 1 2290 17 view .LVU1667
 4467 0168 81F82930 		strb	r3, [r1, #41]
2292:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4468              		.loc 1 2292 3 is_stmt 1 view .LVU1668
2292:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4469              		.loc 1 2292 19 is_stmt 0 view .LVU1669
 4470 016c 0123     		movs	r3, #1
 4471 016e 81F82A30 		strb	r3, [r1, #42]
2294:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 4472              		.loc 1 2294 3 is_stmt 1 view .LVU1670
2295:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4473              		.loc 1 2295 1 is_stmt 0 view .LVU1671
 4474 0172 7047     		bx	lr
 4475              	.LVL327:
 4476              	.L262:
2239:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4477              		.loc 1 2239 8 is_stmt 1 view .LVU1672
2239:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4478              		.loc 1 2239 11 is_stmt 0 view .LVU1673
 4479 0174 012A     		cmp	r2, #1
 4480 0176 11D1     		bne	.L264
2242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4481              		.loc 1 2242 5 is_stmt 1 view .LVU1674
2242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4482              		.loc 1 2242 35 is_stmt 0 view .LVU1675
 4483 0178 026E     		ldr	r2, [r0, #96]
2242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4484              		.loc 1 2242 54 view .LVU1676
 4485 017a 1204     		lsls	r2, r2, #16
 4486 017c 02F47C12 		and	r2, r2, #4128768
2242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4487              		.loc 1 2242 93 view .LVU1677
 4488 0180 B0F86600 		ldrh	r0, [r0, #102]
 4489              	.LVL328:
2242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 174


 4490              		.loc 1 2242 62 view .LVU1678
 4491 0184 0243     		orrs	r2, r2, r0
2242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4492              		.loc 1 2242 22 view .LVU1679
 4493 0186 0A61     		str	r2, [r1, #16]
2244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4494              		.loc 1 2244 5 is_stmt 1 view .LVU1680
2244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4495              		.loc 1 2244 34 is_stmt 0 view .LVU1681
 4496 0188 0A69     		ldr	r2, [r1, #16]
2244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4497              		.loc 1 2244 47 view .LVU1682
 4498 018a 0132     		adds	r2, r2, #1
2244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4499              		.loc 1 2244 53 view .LVU1683
 4500 018c 9202     		lsls	r2, r2, #10
2244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4501              		.loc 1 2244 26 view .LVU1684
 4502 018e 9A64     		str	r2, [r3, #72]
2245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = BLOCKSIZE;
 4503              		.loc 1 2245 5 is_stmt 1 view .LVU1685
2245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = BLOCKSIZE;
 4504              		.loc 1 2245 29 is_stmt 0 view .LVU1686
 4505 0190 1A65     		str	r2, [r3, #80]
2246:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = hsd->SdCard.BlockSize;
 4506              		.loc 1 2246 5 is_stmt 1 view .LVU1687
2246:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = hsd->SdCard.BlockSize;
 4507              		.loc 1 2246 27 is_stmt 0 view .LVU1688
 4508 0192 4FF40072 		mov	r2, #512
 4509 0196 DA64     		str	r2, [r3, #76]
2247:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4510              		.loc 1 2247 5 is_stmt 1 view .LVU1689
2247:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4511              		.loc 1 2247 30 is_stmt 0 view .LVU1690
 4512 0198 5A65     		str	r2, [r3, #84]
 4513 019a 9BE7     		b	.L263
 4514              	.LVL329:
 4515              	.L264:
2252:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 4516              		.loc 1 2252 5 is_stmt 1 view .LVU1691
 4517 019c 0268     		ldr	r2, [r0]
 4518 019e 0549     		ldr	r1, .L266
 4519              	.LVL330:
2252:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 4520              		.loc 1 2252 5 is_stmt 0 view .LVU1692
 4521 01a0 9163     		str	r1, [r2, #56]
2253:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4522              		.loc 1 2253 5 is_stmt 1 view .LVU1693
2253:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4523              		.loc 1 2253 8 is_stmt 0 view .LVU1694
 4524 01a2 426B     		ldr	r2, [r0, #52]
2253:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4525              		.loc 1 2253 20 view .LVU1695
 4526 01a4 42F08052 		orr	r2, r2, #268435456
 4527 01a8 4263     		str	r2, [r0, #52]
2254:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4528              		.loc 1 2254 5 is_stmt 1 view .LVU1696
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 175


2254:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4529              		.loc 1 2254 16 is_stmt 0 view .LVU1697
 4530 01aa 0120     		movs	r0, #1
 4531              	.LVL331:
2254:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4532              		.loc 1 2254 16 view .LVU1698
 4533 01ac 83F83000 		strb	r0, [r3, #48]
2255:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4534              		.loc 1 2255 5 is_stmt 1 view .LVU1699
2255:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4535              		.loc 1 2255 12 is_stmt 0 view .LVU1700
 4536 01b0 7047     		bx	lr
 4537              	.L267:
 4538 01b2 00BF     		.align	2
 4539              	.L266:
 4540 01b4 FF0FE01F 		.word	534777855
 4541              		.cfi_endproc
 4542              	.LFE164:
 4544              		.section	.text.SD_InitCard,"ax",%progbits
 4545              		.align	1
 4546              		.syntax unified
 4547              		.thumb
 4548              		.thumb_func
 4550              	SD_InitCard:
 4551              	.LVL332:
 4552              	.LFB172:
3037:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardCSDTypeDef CSD;
 4553              		.loc 1 3037 1 is_stmt 1 view -0
 4554              		.cfi_startproc
 4555              		@ args = 0, pretend = 0, frame = 48
 4556              		@ frame_needed = 0, uses_anonymous_args = 0
3037:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardCSDTypeDef CSD;
 4557              		.loc 1 3037 1 is_stmt 0 view .LVU1702
 4558 0000 30B5     		push	{r4, r5, lr}
 4559              	.LCFI52:
 4560              		.cfi_def_cfa_offset 12
 4561              		.cfi_offset 4, -12
 4562              		.cfi_offset 5, -8
 4563              		.cfi_offset 14, -4
 4564 0002 8DB0     		sub	sp, sp, #52
 4565              	.LCFI53:
 4566              		.cfi_def_cfa_offset 64
 4567 0004 0446     		mov	r4, r0
3038:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 4568              		.loc 1 3038 3 is_stmt 1 view .LVU1703
3039:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint16_t sd_rca = 0U;
 4569              		.loc 1 3039 3 view .LVU1704
3040:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 4570              		.loc 1 3040 3 view .LVU1705
3040:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 4571              		.loc 1 3040 12 is_stmt 0 view .LVU1706
 4572 0006 0023     		movs	r3, #0
 4573 0008 ADF80230 		strh	r3, [sp, #2]	@ movhi
3041:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4574              		.loc 1 3041 3 is_stmt 1 view .LVU1707
3041:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4575              		.loc 1 3041 24 is_stmt 0 view .LVU1708
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 176


 4576 000c FFF7FEFF 		bl	HAL_GetTick
 4577              	.LVL333:
3041:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4578              		.loc 1 3041 24 view .LVU1709
 4579 0010 0546     		mov	r5, r0
 4580              	.LVL334:
3044:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4581              		.loc 1 3044 3 is_stmt 1 view .LVU1710
3044:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4582              		.loc 1 3044 7 is_stmt 0 view .LVU1711
 4583 0012 2068     		ldr	r0, [r4]
 4584              	.LVL335:
3044:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4585              		.loc 1 3044 7 view .LVU1712
 4586 0014 FFF7FEFF 		bl	SDMMC_GetPowerState
 4587              	.LVL336:
3044:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4588              		.loc 1 3044 6 discriminator 1 view .LVU1713
 4589 0018 0028     		cmp	r0, #0
 4590 001a 67D0     		beq	.L275
3050:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4591              		.loc 1 3050 3 is_stmt 1 view .LVU1714
3050:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4592              		.loc 1 3050 18 is_stmt 0 view .LVU1715
 4593 001c A36B     		ldr	r3, [r4, #56]
3050:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4594              		.loc 1 3050 6 view .LVU1716
 4595 001e 032B     		cmp	r3, #3
 4596 0020 17D1     		bne	.L279
 4597              	.L270:
3068:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4598              		.loc 1 3068 3 is_stmt 1 view .LVU1717
3068:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4599              		.loc 1 3068 18 is_stmt 0 view .LVU1718
 4600 0022 A36B     		ldr	r3, [r4, #56]
3068:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4601              		.loc 1 3068 6 view .LVU1719
 4602 0024 032B     		cmp	r3, #3
 4603 0026 2FD0     		beq	.L272
 4604              	.L271:
3072:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 4605              		.loc 1 3072 19 is_stmt 1 view .LVU1720
 4606 0028 BDF80230 		ldrh	r3, [sp, #2]
 4607 002c 63BB     		cbnz	r3, .L272
3074:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
 4608              		.loc 1 3074 7 view .LVU1721
3074:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
 4609              		.loc 1 3074 20 is_stmt 0 view .LVU1722
 4610 002e 0DF10201 		add	r1, sp, #2
 4611 0032 2068     		ldr	r0, [r4]
 4612 0034 FFF7FEFF 		bl	SDMMC_CmdSetRelAdd
 4613              	.LVL337:
3075:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 4614              		.loc 1 3075 7 is_stmt 1 view .LVU1723
3075:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 4615              		.loc 1 3075 10 is_stmt 0 view .LVU1724
 4616 0038 0346     		mov	r3, r0
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 177


 4617 003a 0028     		cmp	r0, #0
 4618 003c 58D1     		bne	.L268
3079:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 4619              		.loc 1 3079 7 is_stmt 1 view .LVU1725
3079:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 4620              		.loc 1 3079 12 is_stmt 0 view .LVU1726
 4621 003e FFF7FEFF 		bl	HAL_GetTick
 4622              	.LVL338:
3079:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 4623              		.loc 1 3079 26 discriminator 1 view .LVU1727
 4624 0042 431B     		subs	r3, r0, r5
3079:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 4625              		.loc 1 3079 10 discriminator 1 view .LVU1728
 4626 0044 41F28732 		movw	r2, #4999
 4627 0048 9342     		cmp	r3, r2
 4628 004a EDD9     		bls	.L271
3081:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 4629              		.loc 1 3081 16 view .LVU1729
 4630 004c 4FF00043 		mov	r3, #-2147483648
 4631 0050 4EE0     		b	.L268
 4632              	.LVL339:
 4633              	.L279:
3053:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 4634              		.loc 1 3053 5 is_stmt 1 view .LVU1730
3053:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 4635              		.loc 1 3053 18 is_stmt 0 view .LVU1731
 4636 0052 2068     		ldr	r0, [r4]
 4637 0054 FFF7FEFF 		bl	SDMMC_CmdSendCID
 4638              	.LVL340:
3054:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 4639              		.loc 1 3054 5 is_stmt 1 view .LVU1732
3054:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 4640              		.loc 1 3054 8 is_stmt 0 view .LVU1733
 4641 0058 0346     		mov	r3, r0
 4642 005a 0028     		cmp	r0, #0
 4643 005c 48D1     		bne	.L268
3061:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4644              		.loc 1 3061 7 is_stmt 1 view .LVU1734
3061:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4645              		.loc 1 3061 22 is_stmt 0 view .LVU1735
 4646 005e 0021     		movs	r1, #0
 4647 0060 2068     		ldr	r0, [r4]
 4648              	.LVL341:
3061:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4649              		.loc 1 3061 22 view .LVU1736
 4650 0062 FFF7FEFF 		bl	SDMMC_GetResponse
 4651              	.LVL342:
3061:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4652              		.loc 1 3061 20 discriminator 1 view .LVU1737
 4653 0066 E066     		str	r0, [r4, #108]
3062:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 4654              		.loc 1 3062 7 is_stmt 1 view .LVU1738
3062:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 4655              		.loc 1 3062 22 is_stmt 0 view .LVU1739
 4656 0068 0421     		movs	r1, #4
 4657 006a 2068     		ldr	r0, [r4]
 4658 006c FFF7FEFF 		bl	SDMMC_GetResponse
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 178


 4659              	.LVL343:
3062:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 4660              		.loc 1 3062 20 discriminator 1 view .LVU1740
 4661 0070 2067     		str	r0, [r4, #112]
3063:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
 4662              		.loc 1 3063 7 is_stmt 1 view .LVU1741
3063:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
 4663              		.loc 1 3063 22 is_stmt 0 view .LVU1742
 4664 0072 0821     		movs	r1, #8
 4665 0074 2068     		ldr	r0, [r4]
 4666 0076 FFF7FEFF 		bl	SDMMC_GetResponse
 4667              	.LVL344:
3063:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
 4668              		.loc 1 3063 20 discriminator 1 view .LVU1743
 4669 007a 6067     		str	r0, [r4, #116]
3064:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 4670              		.loc 1 3064 7 is_stmt 1 view .LVU1744
3064:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 4671              		.loc 1 3064 22 is_stmt 0 view .LVU1745
 4672 007c 0C21     		movs	r1, #12
 4673 007e 2068     		ldr	r0, [r4]
 4674 0080 FFF7FEFF 		bl	SDMMC_GetResponse
 4675              	.LVL345:
3064:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 4676              		.loc 1 3064 20 discriminator 1 view .LVU1746
 4677 0084 A067     		str	r0, [r4, #120]
 4678 0086 CCE7     		b	.L270
 4679              	.LVL346:
 4680              	.L272:
3085:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4681              		.loc 1 3085 3 is_stmt 1 view .LVU1747
3085:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4682              		.loc 1 3085 18 is_stmt 0 view .LVU1748
 4683 0088 A36B     		ldr	r3, [r4, #56]
3085:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4684              		.loc 1 3085 6 view .LVU1749
 4685 008a 032B     		cmp	r3, #3
 4686 008c 1CD0     		beq	.L274
3088:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4687              		.loc 1 3088 5 is_stmt 1 view .LVU1750
3088:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4688              		.loc 1 3088 28 is_stmt 0 view .LVU1751
 4689 008e BDF80210 		ldrh	r1, [sp, #2]
 4690 0092 6164     		str	r1, [r4, #68]
3091:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 4691              		.loc 1 3091 5 is_stmt 1 view .LVU1752
3091:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 4692              		.loc 1 3091 18 is_stmt 0 view .LVU1753
 4693 0094 0904     		lsls	r1, r1, #16
 4694 0096 2068     		ldr	r0, [r4]
 4695 0098 FFF7FEFF 		bl	SDMMC_CmdSendCSD
 4696              	.LVL347:
3092:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 4697              		.loc 1 3092 5 is_stmt 1 view .LVU1754
3092:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 4698              		.loc 1 3092 8 is_stmt 0 view .LVU1755
 4699 009c 0346     		mov	r3, r0
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 179


 4700 009e 38BB     		cbnz	r0, .L268
3099:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4701              		.loc 1 3099 7 is_stmt 1 view .LVU1756
3099:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4702              		.loc 1 3099 22 is_stmt 0 view .LVU1757
 4703 00a0 0021     		movs	r1, #0
 4704 00a2 2068     		ldr	r0, [r4]
 4705              	.LVL348:
3099:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4706              		.loc 1 3099 22 view .LVU1758
 4707 00a4 FFF7FEFF 		bl	SDMMC_GetResponse
 4708              	.LVL349:
3099:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4709              		.loc 1 3099 20 discriminator 1 view .LVU1759
 4710 00a8 E065     		str	r0, [r4, #92]
3100:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 4711              		.loc 1 3100 7 is_stmt 1 view .LVU1760
3100:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 4712              		.loc 1 3100 22 is_stmt 0 view .LVU1761
 4713 00aa 0421     		movs	r1, #4
 4714 00ac 2068     		ldr	r0, [r4]
 4715 00ae FFF7FEFF 		bl	SDMMC_GetResponse
 4716              	.LVL350:
3100:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 4717              		.loc 1 3100 20 discriminator 1 view .LVU1762
 4718 00b2 2066     		str	r0, [r4, #96]
3101:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
 4719              		.loc 1 3101 7 is_stmt 1 view .LVU1763
3101:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
 4720              		.loc 1 3101 22 is_stmt 0 view .LVU1764
 4721 00b4 0821     		movs	r1, #8
 4722 00b6 2068     		ldr	r0, [r4]
 4723 00b8 FFF7FEFF 		bl	SDMMC_GetResponse
 4724              	.LVL351:
3101:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
 4725              		.loc 1 3101 20 discriminator 1 view .LVU1765
 4726 00bc 6066     		str	r0, [r4, #100]
3102:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 4727              		.loc 1 3102 7 is_stmt 1 view .LVU1766
3102:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 4728              		.loc 1 3102 22 is_stmt 0 view .LVU1767
 4729 00be 0C21     		movs	r1, #12
 4730 00c0 2068     		ldr	r0, [r4]
 4731 00c2 FFF7FEFF 		bl	SDMMC_GetResponse
 4732              	.LVL352:
3102:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 4733              		.loc 1 3102 20 discriminator 1 view .LVU1768
 4734 00c6 A066     		str	r0, [r4, #104]
 4735              	.LVL353:
 4736              	.L274:
3107:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4737              		.loc 1 3107 3 is_stmt 1 view .LVU1769
3107:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4738              		.loc 1 3107 24 is_stmt 0 view .LVU1770
 4739 00c8 0421     		movs	r1, #4
 4740 00ca 2068     		ldr	r0, [r4]
 4741 00cc FFF7FEFF 		bl	SDMMC_GetResponse
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 180


 4742              	.LVL354:
3107:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4743              		.loc 1 3107 70 discriminator 1 view .LVU1771
 4744 00d0 000D     		lsrs	r0, r0, #20
3107:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4745              		.loc 1 3107 21 discriminator 1 view .LVU1772
 4746 00d2 2064     		str	r0, [r4, #64]
3110:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4747              		.loc 1 3110 3 is_stmt 1 view .LVU1773
3110:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4748              		.loc 1 3110 7 is_stmt 0 view .LVU1774
 4749 00d4 01A9     		add	r1, sp, #4
 4750 00d6 2046     		mov	r0, r4
 4751 00d8 FFF7FEFF 		bl	HAL_SD_GetCardCSD
 4752              	.LVL355:
3110:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4753              		.loc 1 3110 6 discriminator 1 view .LVU1775
 4754 00dc 58B9     		cbnz	r0, .L277
3116:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4755              		.loc 1 3116 3 is_stmt 1 view .LVU1776
3116:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4756              		.loc 1 3116 82 is_stmt 0 view .LVU1777
 4757 00de 616C     		ldr	r1, [r4, #68]
3116:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4758              		.loc 1 3116 16 view .LVU1778
 4759 00e0 0904     		lsls	r1, r1, #16
 4760 00e2 2068     		ldr	r0, [r4]
 4761 00e4 FFF7FEFF 		bl	SDMMC_CmdSelDesel
 4762              	.LVL356:
 4763 00e8 0346     		mov	r3, r0
 4764              	.LVL357:
3117:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4765              		.loc 1 3117 3 is_stmt 1 view .LVU1779
 4766 00ea 01E0     		b	.L268
 4767              	.LVL358:
 4768              	.L275:
3047:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4769              		.loc 1 3047 12 is_stmt 0 view .LVU1780
 4770 00ec 4FF08063 		mov	r3, #67108864
 4771              	.L268:
3124:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4772              		.loc 1 3124 1 view .LVU1781
 4773 00f0 1846     		mov	r0, r3
 4774 00f2 0DB0     		add	sp, sp, #52
 4775              	.LCFI54:
 4776              		.cfi_remember_state
 4777              		.cfi_def_cfa_offset 12
 4778              		@ sp needed
 4779 00f4 30BD     		pop	{r4, r5, pc}
 4780              	.LVL359:
 4781              	.L277:
 4782              	.LCFI55:
 4783              		.cfi_restore_state
3112:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4784              		.loc 1 3112 12 view .LVU1782
 4785 00f6 4FF08053 		mov	r3, #268435456
 4786 00fa F9E7     		b	.L268
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 181


 4787              		.cfi_endproc
 4788              	.LFE172:
 4790              		.section	.text.HAL_SD_InitCard,"ax",%progbits
 4791              		.align	1
 4792              		.global	HAL_SD_InitCard
 4793              		.syntax unified
 4794              		.thumb
 4795              		.thumb_func
 4797              	HAL_SD_InitCard:
 4798              	.LVL360:
 4799              	.LFB145:
 470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 4800              		.loc 1 470 1 is_stmt 1 view -0
 4801              		.cfi_startproc
 4802              		@ args = 0, pretend = 0, frame = 24
 4803              		@ frame_needed = 0, uses_anonymous_args = 0
 470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 4804              		.loc 1 470 1 is_stmt 0 view .LVU1784
 4805 0000 70B5     		push	{r4, r5, r6, lr}
 4806              	.LCFI56:
 4807              		.cfi_def_cfa_offset 16
 4808              		.cfi_offset 4, -16
 4809              		.cfi_offset 5, -12
 4810              		.cfi_offset 6, -8
 4811              		.cfi_offset 14, -4
 4812 0002 88B0     		sub	sp, sp, #32
 4813              	.LCFI57:
 4814              		.cfi_def_cfa_offset 48
 4815 0004 0446     		mov	r4, r0
 471:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SD_InitTypeDef Init;
 4816              		.loc 1 471 3 is_stmt 1 view .LVU1785
 472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t sdmmc_clk;
 4817              		.loc 1 472 3 view .LVU1786
 473:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4818              		.loc 1 473 3 view .LVU1787
 476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.ClockPowerSave      = SDMMC_CLOCK_POWER_SAVE_DISABLE;
 4819              		.loc 1 476 3 view .LVU1788
 476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.ClockPowerSave      = SDMMC_CLOCK_POWER_SAVE_DISABLE;
 4820              		.loc 1 476 28 is_stmt 0 view .LVU1789
 4821 0006 0023     		movs	r3, #0
 4822 0008 0393     		str	r3, [sp, #12]
 477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.BusWide             = SDMMC_BUS_WIDE_1B;
 4823              		.loc 1 477 3 is_stmt 1 view .LVU1790
 477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.BusWide             = SDMMC_BUS_WIDE_1B;
 4824              		.loc 1 477 28 is_stmt 0 view .LVU1791
 4825 000a 0493     		str	r3, [sp, #16]
 478:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.HardwareFlowControl = SDMMC_HARDWARE_FLOW_CONTROL_DISABLE;
 4826              		.loc 1 478 3 is_stmt 1 view .LVU1792
 478:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.HardwareFlowControl = SDMMC_HARDWARE_FLOW_CONTROL_DISABLE;
 4827              		.loc 1 478 28 is_stmt 0 view .LVU1793
 4828 000c 0593     		str	r3, [sp, #20]
 479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4829              		.loc 1 479 3 is_stmt 1 view .LVU1794
 479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4830              		.loc 1 479 28 is_stmt 0 view .LVU1795
 4831 000e 0693     		str	r3, [sp, #24]
 482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (sdmmc_clk == 0U)
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 182


 4832              		.loc 1 482 3 is_stmt 1 view .LVU1796
 482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (sdmmc_clk == 0U)
 4833              		.loc 1 482 19 is_stmt 0 view .LVU1797
 4834 0010 4FF48030 		mov	r0, #65536
 4835              	.LVL361:
 482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (sdmmc_clk == 0U)
 4836              		.loc 1 482 19 view .LVU1798
 4837 0014 0021     		movs	r1, #0
 4838 0016 FFF7FEFF 		bl	HAL_RCCEx_GetPeriphCLKFreq
 4839              	.LVL362:
 483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4840              		.loc 1 483 3 is_stmt 1 view .LVU1799
 483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4841              		.loc 1 483 6 is_stmt 0 view .LVU1800
 4842 001a 38B9     		cbnz	r0, .L281
 485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = SDMMC_ERROR_INVALID_PARAMETER;
 4843              		.loc 1 485 5 is_stmt 1 view .LVU1801
 485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = SDMMC_ERROR_INVALID_PARAMETER;
 4844              		.loc 1 485 16 is_stmt 0 view .LVU1802
 4845 001c 0120     		movs	r0, #1
 4846              	.LVL363:
 485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = SDMMC_ERROR_INVALID_PARAMETER;
 4847              		.loc 1 485 16 view .LVU1803
 4848 001e 84F83000 		strb	r0, [r4, #48]
 486:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4849              		.loc 1 486 5 is_stmt 1 view .LVU1804
 486:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4850              		.loc 1 486 20 is_stmt 0 view .LVU1805
 4851 0022 4FF00063 		mov	r3, #134217728
 4852 0026 6363     		str	r3, [r4, #52]
 487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4853              		.loc 1 487 5 is_stmt 1 view .LVU1806
 4854              	.LVL364:
 4855              	.L282:
 552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4856              		.loc 1 552 1 is_stmt 0 view .LVU1807
 4857 0028 08B0     		add	sp, sp, #32
 4858              	.LCFI58:
 4859              		.cfi_remember_state
 4860              		.cfi_def_cfa_offset 16
 4861              		@ sp needed
 4862 002a 70BD     		pop	{r4, r5, r6, pc}
 4863              	.LVL365:
 4864              	.L281:
 4865              	.LCFI59:
 4866              		.cfi_restore_state
 552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4867              		.loc 1 552 1 view .LVU1808
 4868 002c 0646     		mov	r6, r0
 489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4869              		.loc 1 489 3 is_stmt 1 view .LVU1809
 489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4870              		.loc 1 489 29 is_stmt 0 view .LVU1810
 4871 002e 050A     		lsrs	r5, r0, #8
 4872 0030 244B     		ldr	r3, .L291
 4873 0032 A3FB0535 		umull	r3, r5, r3, r5
 4874 0036 2D09     		lsrs	r5, r5, #4
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 183


 489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4875              		.loc 1 489 17 view .LVU1811
 4876 0038 0795     		str	r5, [sp, #28]
 505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4877              		.loc 1 505 3 is_stmt 1 view .LVU1812
 505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4878              		.loc 1 505 9 is_stmt 0 view .LVU1813
 4879 003a 08AB     		add	r3, sp, #32
 4880 003c 13E90300 		ldmdb	r3, {r0, r1}
 4881              	.LVL366:
 505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4882              		.loc 1 505 9 view .LVU1814
 4883 0040 8DE80300 		stm	sp, {r0, r1}
 4884 0044 03AB     		add	r3, sp, #12
 4885 0046 0ECB     		ldm	r3, {r1, r2, r3}
 4886 0048 2068     		ldr	r0, [r4]
 4887 004a FFF7FEFF 		bl	SDMMC_Init
 4888              	.LVL367:
 508:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4889              		.loc 1 508 3 is_stmt 1 view .LVU1815
 508:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4890              		.loc 1 508 9 is_stmt 0 view .LVU1816
 4891 004e 2068     		ldr	r0, [r4]
 4892 0050 FFF7FEFF 		bl	SDMMC_PowerState_ON
 4893              	.LVL368:
 512:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4894              		.loc 1 512 3 is_stmt 1 view .LVU1817
 512:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4895              		.loc 1 512 6 is_stmt 0 view .LVU1818
 4896 0054 1C4B     		ldr	r3, .L291+4
 4897 0056 9E42     		cmp	r6, r3
 4898 0058 02D9     		bls	.L283
 514:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4899              		.loc 1 514 5 is_stmt 1 view .LVU1819
 514:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4900              		.loc 1 514 33 is_stmt 0 view .LVU1820
 4901 005a 6D00     		lsls	r5, r5, #1
 514:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4902              		.loc 1 514 15 view .LVU1821
 4903 005c B6FBF5F6 		udiv	r6, r6, r5
 4904              	.LVL369:
 4905              	.L283:
 517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4906              		.loc 1 517 3 is_stmt 1 view .LVU1822
 517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4907              		.loc 1 517 6 is_stmt 0 view .LVU1823
 4908 0060 5EB9     		cbnz	r6, .L289
 4909              	.L284:
 523:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4910              		.loc 1 523 3 is_stmt 1 view .LVU1824
 523:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4911              		.loc 1 523 16 is_stmt 0 view .LVU1825
 4912 0062 2046     		mov	r0, r4
 4913 0064 FFF7FEFF 		bl	SD_PowerON
 4914              	.LVL370:
 524:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4915              		.loc 1 524 3 is_stmt 1 view .LVU1826
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 184


 524:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4916              		.loc 1 524 6 is_stmt 0 view .LVU1827
 4917 0068 0246     		mov	r2, r0
 4918 006a 68B1     		cbz	r0, .L285
 526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4919              		.loc 1 526 5 is_stmt 1 view .LVU1828
 526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4920              		.loc 1 526 16 is_stmt 0 view .LVU1829
 4921 006c 0120     		movs	r0, #1
 4922              	.LVL371:
 526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4923              		.loc 1 526 16 view .LVU1830
 4924 006e 84F83000 		strb	r0, [r4, #48]
 527:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4925              		.loc 1 527 5 is_stmt 1 view .LVU1831
 527:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4926              		.loc 1 527 8 is_stmt 0 view .LVU1832
 4927 0072 636B     		ldr	r3, [r4, #52]
 527:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4928              		.loc 1 527 20 view .LVU1833
 4929 0074 1343     		orrs	r3, r3, r2
 4930 0076 6363     		str	r3, [r4, #52]
 528:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4931              		.loc 1 528 5 is_stmt 1 view .LVU1834
 528:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4932              		.loc 1 528 12 is_stmt 0 view .LVU1835
 4933 0078 D6E7     		b	.L282
 4934              	.LVL372:
 4935              	.L289:
 519:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4936              		.loc 1 519 5 is_stmt 1 view .LVU1836
 519:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4937              		.loc 1 519 33 is_stmt 0 view .LVU1837
 4938 007a 1448     		ldr	r0, .L291+8
 4939 007c B0FBF6F0 		udiv	r0, r0, r6
 519:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4940              		.loc 1 519 5 view .LVU1838
 4941 0080 0130     		adds	r0, r0, #1
 4942 0082 FFF7FEFF 		bl	HAL_Delay
 4943              	.LVL373:
 4944 0086 ECE7     		b	.L284
 4945              	.LVL374:
 4946              	.L285:
 532:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4947              		.loc 1 532 3 is_stmt 1 view .LVU1839
 532:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4948              		.loc 1 532 16 is_stmt 0 view .LVU1840
 4949 0088 2046     		mov	r0, r4
 4950              	.LVL375:
 532:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4951              		.loc 1 532 16 view .LVU1841
 4952 008a FFF7FEFF 		bl	SD_InitCard
 4953              	.LVL376:
 533:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4954              		.loc 1 533 3 is_stmt 1 view .LVU1842
 533:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4955              		.loc 1 533 6 is_stmt 0 view .LVU1843
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 185


 4956 008e 0246     		mov	r2, r0
 4957 0090 30B1     		cbz	r0, .L286
 535:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4958              		.loc 1 535 5 is_stmt 1 view .LVU1844
 535:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4959              		.loc 1 535 16 is_stmt 0 view .LVU1845
 4960 0092 0120     		movs	r0, #1
 4961              	.LVL377:
 535:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4962              		.loc 1 535 16 view .LVU1846
 4963 0094 84F83000 		strb	r0, [r4, #48]
 536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4964              		.loc 1 536 5 is_stmt 1 view .LVU1847
 536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4965              		.loc 1 536 8 is_stmt 0 view .LVU1848
 4966 0098 636B     		ldr	r3, [r4, #52]
 536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4967              		.loc 1 536 20 view .LVU1849
 4968 009a 1343     		orrs	r3, r3, r2
 4969 009c 6363     		str	r3, [r4, #52]
 537:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4970              		.loc 1 537 5 is_stmt 1 view .LVU1850
 537:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4971              		.loc 1 537 12 is_stmt 0 view .LVU1851
 4972 009e C3E7     		b	.L282
 4973              	.LVL378:
 4974              	.L286:
 541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4975              		.loc 1 541 3 is_stmt 1 view .LVU1852
 541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4976              		.loc 1 541 16 is_stmt 0 view .LVU1853
 4977 00a0 4FF40071 		mov	r1, #512
 4978 00a4 2068     		ldr	r0, [r4]
 4979              	.LVL379:
 541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4980              		.loc 1 541 16 view .LVU1854
 4981 00a6 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 4982              	.LVL380:
 542:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4983              		.loc 1 542 3 is_stmt 1 view .LVU1855
 542:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4984              		.loc 1 542 6 is_stmt 0 view .LVU1856
 4985 00aa 08B9     		cbnz	r0, .L290
 551:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 4986              		.loc 1 551 10 view .LVU1857
 4987 00ac 0020     		movs	r0, #0
 4988              	.LVL381:
 551:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 4989              		.loc 1 551 10 view .LVU1858
 4990 00ae BBE7     		b	.L282
 4991              	.LVL382:
 4992              	.L290:
 545:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4993              		.loc 1 545 5 is_stmt 1 view .LVU1859
 4994 00b0 2368     		ldr	r3, [r4]
 4995 00b2 0749     		ldr	r1, .L291+12
 4996 00b4 9963     		str	r1, [r3, #56]
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 186


 546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4997              		.loc 1 546 5 view .LVU1860
 546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4998              		.loc 1 546 8 is_stmt 0 view .LVU1861
 4999 00b6 636B     		ldr	r3, [r4, #52]
 546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5000              		.loc 1 546 20 view .LVU1862
 5001 00b8 0343     		orrs	r3, r3, r0
 5002 00ba 6363     		str	r3, [r4, #52]
 547:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 5003              		.loc 1 547 5 is_stmt 1 view .LVU1863
 547:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 5004              		.loc 1 547 16 is_stmt 0 view .LVU1864
 5005 00bc 0120     		movs	r0, #1
 5006              	.LVL383:
 547:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 5007              		.loc 1 547 16 view .LVU1865
 5008 00be 84F83000 		strb	r0, [r4, #48]
 548:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5009              		.loc 1 548 5 is_stmt 1 view .LVU1866
 548:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5010              		.loc 1 548 12 is_stmt 0 view .LVU1867
 5011 00c2 B1E7     		b	.L282
 5012              	.L292:
 5013              		.align	2
 5014              	.L291:
 5015 00c4 598B4F01 		.word	21990233
 5016 00c8 FF340C00 		.word	799999
 5017 00cc 10210100 		.word	74000
 5018 00d0 FF0FE01F 		.word	534777855
 5019              		.cfi_endproc
 5020              	.LFE145:
 5022              		.section	.text.HAL_SD_GetCardStatus,"ax",%progbits
 5023              		.align	1
 5024              		.global	HAL_SD_GetCardStatus
 5025              		.syntax unified
 5026              		.thumb
 5027              		.thumb_func
 5029              	HAL_SD_GetCardStatus:
 5030              	.LVL384:
 5031              	.LFB165:
2305:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t sd_status[16];
 5032              		.loc 1 2305 1 is_stmt 1 view -0
 5033              		.cfi_startproc
 5034              		@ args = 0, pretend = 0, frame = 64
 5035              		@ frame_needed = 0, uses_anonymous_args = 0
2305:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t sd_status[16];
 5036              		.loc 1 2305 1 is_stmt 0 view .LVU1869
 5037 0000 30B5     		push	{r4, r5, lr}
 5038              	.LCFI60:
 5039              		.cfi_def_cfa_offset 12
 5040              		.cfi_offset 4, -12
 5041              		.cfi_offset 5, -8
 5042              		.cfi_offset 14, -4
 5043 0002 91B0     		sub	sp, sp, #68
 5044              	.LCFI61:
 5045              		.cfi_def_cfa_offset 80
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 187


2306:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 5046              		.loc 1 2306 3 is_stmt 1 view .LVU1870
2307:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
 5047              		.loc 1 2307 3 view .LVU1871
2308:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5048              		.loc 1 2308 3 view .LVU1872
 5049              	.LVL385:
2310:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5050              		.loc 1 2310 3 view .LVU1873
2310:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5051              		.loc 1 2310 10 is_stmt 0 view .LVU1874
 5052 0004 90F83030 		ldrb	r3, [r0, #48]	@ zero_extendqisi2
 5053 0008 DBB2     		uxtb	r3, r3
2310:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5054              		.loc 1 2310 6 view .LVU1875
 5055 000a 032B     		cmp	r3, #3
 5056 000c 59D0     		beq	.L297
 5057 000e 0446     		mov	r4, r0
 5058 0010 0D46     		mov	r5, r1
2315:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5059              		.loc 1 2315 3 is_stmt 1 view .LVU1876
2315:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5060              		.loc 1 2315 16 is_stmt 0 view .LVU1877
 5061 0012 6946     		mov	r1, sp
 5062              	.LVL386:
2315:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5063              		.loc 1 2315 16 view .LVU1878
 5064 0014 FFF7FEFF 		bl	SD_SendSDStatus
 5065              	.LVL387:
2316:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5066              		.loc 1 2316 3 is_stmt 1 view .LVU1879
2316:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5067              		.loc 1 2316 6 is_stmt 0 view .LVU1880
 5068 0018 B8B1     		cbz	r0, .L295
2319:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 5069              		.loc 1 2319 5 is_stmt 1 view .LVU1881
 5070 001a 2368     		ldr	r3, [r4]
 5071 001c 2B49     		ldr	r1, .L299
 5072 001e 9963     		str	r1, [r3, #56]
2320:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5073              		.loc 1 2320 5 view .LVU1882
2320:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5074              		.loc 1 2320 8 is_stmt 0 view .LVU1883
 5075 0020 636B     		ldr	r3, [r4, #52]
2320:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5076              		.loc 1 2320 20 view .LVU1884
 5077 0022 0343     		orrs	r3, r3, r0
 5078 0024 6363     		str	r3, [r4, #52]
2321:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5079              		.loc 1 2321 5 is_stmt 1 view .LVU1885
2321:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5080              		.loc 1 2321 16 is_stmt 0 view .LVU1886
 5081 0026 0125     		movs	r5, #1
 5082              	.LVL388:
2321:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5083              		.loc 1 2321 16 view .LVU1887
 5084 0028 84F83050 		strb	r5, [r4, #48]
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 188


2322:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5085              		.loc 1 2322 5 is_stmt 1 view .LVU1888
 5086              	.LVL389:
 5087              	.L296:
2353:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5088              		.loc 1 2353 3 view .LVU1889
2353:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5089              		.loc 1 2353 16 is_stmt 0 view .LVU1890
 5090 002c 4FF40071 		mov	r1, #512
 5091 0030 2068     		ldr	r0, [r4]
 5092              	.LVL390:
2353:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5093              		.loc 1 2353 16 view .LVU1891
 5094 0032 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 5095              	.LVL391:
2354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5096              		.loc 1 2354 3 is_stmt 1 view .LVU1892
2354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5097              		.loc 1 2354 6 is_stmt 0 view .LVU1893
 5098 0036 0028     		cmp	r0, #0
 5099 0038 44D0     		beq	.L294
2357:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = errorstate;
 5100              		.loc 1 2357 5 is_stmt 1 view .LVU1894
 5101 003a 2268     		ldr	r2, [r4]
 5102 003c 2349     		ldr	r1, .L299
 5103 003e 9163     		str	r1, [r2, #56]
2358:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5104              		.loc 1 2358 5 view .LVU1895
2358:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5105              		.loc 1 2358 20 is_stmt 0 view .LVU1896
 5106 0040 6063     		str	r0, [r4, #52]
2359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5107              		.loc 1 2359 5 is_stmt 1 view .LVU1897
2359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5108              		.loc 1 2359 16 is_stmt 0 view .LVU1898
 5109 0042 0125     		movs	r5, #1
 5110              	.LVL392:
2359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5111              		.loc 1 2359 16 view .LVU1899
 5112 0044 84F83050 		strb	r5, [r4, #48]
2360:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5113              		.loc 1 2360 5 is_stmt 1 view .LVU1900
 5114              	.LVL393:
2360:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5115              		.loc 1 2360 5 is_stmt 0 view .LVU1901
 5116 0048 3CE0     		b	.L294
 5117              	.LVL394:
 5118              	.L295:
2326:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5119              		.loc 1 2326 5 is_stmt 1 view .LVU1902
2326:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5120              		.loc 1 2326 49 is_stmt 0 view .LVU1903
 5121 004a 009A     		ldr	r2, [sp]
2326:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5122              		.loc 1 2326 29 view .LVU1904
 5123 004c C2F38113 		ubfx	r3, r2, #6, #2
2326:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 189


 5124              		.loc 1 2326 27 view .LVU1905
 5125 0050 2B70     		strb	r3, [r5]
2328:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5126              		.loc 1 2328 5 is_stmt 1 view .LVU1906
2328:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5127              		.loc 1 2328 28 is_stmt 0 view .LVU1907
 5128 0052 C2F34013 		ubfx	r3, r2, #5, #1
2328:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5129              		.loc 1 2328 26 view .LVU1908
 5130 0056 6B70     		strb	r3, [r5, #1]
2330:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5131              		.loc 1 2330 5 is_stmt 1 view .LVU1909
2330:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5132              		.loc 1 2330 66 is_stmt 0 view .LVU1910
 5133 0058 130A     		lsrs	r3, r2, #8
2330:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5134              		.loc 1 2330 25 view .LVU1911
 5135 005a 23F0FF03 		bic	r3, r3, #255
 5136 005e 43EA1263 		orr	r3, r3, r2, lsr #24
 5137 0062 9BB2     		uxth	r3, r3
2330:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5138              		.loc 1 2330 23 view .LVU1912
 5139 0064 6B80     		strh	r3, [r5, #2]	@ movhi
2332:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5140              		.loc 1 2332 5 is_stmt 1 view .LVU1913
2332:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5141              		.loc 1 2332 46 is_stmt 0 view .LVU1914
 5142 0066 019A     		ldr	r2, [sp, #4]
2332:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5143              		.loc 1 2332 98 view .LVU1915
 5144 0068 1302     		lsls	r3, r2, #8
 5145 006a 03F47F03 		and	r3, r3, #16711680
2332:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5146              		.loc 1 2332 70 view .LVU1916
 5147 006e 43EA0263 		orr	r3, r3, r2, lsl #24
2333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5148              		.loc 1 2333 63 view .LVU1917
 5149 0072 110A     		lsrs	r1, r2, #8
 5150 0074 01F47F41 		and	r1, r1, #65280
2332:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5151              		.loc 1 2332 105 view .LVU1918
 5152 0078 0B43     		orrs	r3, r3, r1
2333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5153              		.loc 1 2333 70 view .LVU1919
 5154 007a 43EA1263 		orr	r3, r3, r2, lsr #24
2332:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5155              		.loc 1 2332 32 view .LVU1920
 5156 007e 6B60     		str	r3, [r5, #4]
2335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5157              		.loc 1 2335 5 is_stmt 1 view .LVU1921
2335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5158              		.loc 1 2335 46 is_stmt 0 view .LVU1922
 5159 0080 029B     		ldr	r3, [sp, #8]
2335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5160              		.loc 1 2335 27 view .LVU1923
 5161 0082 DAB2     		uxtb	r2, r3
2335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 190


 5162              		.loc 1 2335 25 view .LVU1924
 5163 0084 2A72     		strb	r2, [r5, #8]
2337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5164              		.loc 1 2337 5 is_stmt 1 view .LVU1925
2337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5165              		.loc 1 2337 32 is_stmt 0 view .LVU1926
 5166 0086 C3F30722 		ubfx	r2, r3, #8, #8
2337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5167              		.loc 1 2337 30 view .LVU1927
 5168 008a 6A72     		strb	r2, [r5, #9]
2339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5169              		.loc 1 2339 5 is_stmt 1 view .LVU1928
2339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5170              		.loc 1 2339 35 is_stmt 0 view .LVU1929
 5171 008c C3F30352 		ubfx	r2, r3, #20, #4
2339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5172              		.loc 1 2339 33 view .LVU1930
 5173 0090 AA72     		strb	r2, [r5, #10]
2341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5174              		.loc 1 2341 5 is_stmt 1 view .LVU1931
2341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5175              		.loc 1 2341 67 is_stmt 0 view .LVU1932
 5176 0092 1B0C     		lsrs	r3, r3, #16
2341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5177              		.loc 1 2341 87 view .LVU1933
 5178 0094 039A     		ldr	r2, [sp, #12]
2341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5179              		.loc 1 2341 91 view .LVU1934
 5180 0096 D1B2     		uxtb	r1, r2
2341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5181              		.loc 1 2341 26 view .LVU1935
 5182 0098 23F0FF03 		bic	r3, r3, #255
 5183 009c 0B43     		orrs	r3, r3, r1
2341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5184              		.loc 1 2341 24 view .LVU1936
 5185 009e AB81     		strh	r3, [r5, #12]	@ movhi
2343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5186              		.loc 1 2343 5 is_stmt 1 view .LVU1937
2343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5187              		.loc 1 2343 29 is_stmt 0 view .LVU1938
 5188 00a0 C2F38523 		ubfx	r3, r2, #10, #6
2343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5189              		.loc 1 2343 27 view .LVU1939
 5190 00a4 AB73     		strb	r3, [r5, #14]
2345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5191              		.loc 1 2345 5 is_stmt 1 view .LVU1940
2345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5192              		.loc 1 2345 28 is_stmt 0 view .LVU1941
 5193 00a6 C2F30123 		ubfx	r3, r2, #8, #2
2345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5194              		.loc 1 2345 26 view .LVU1942
 5195 00aa EB73     		strb	r3, [r5, #15]
2347:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->UhsAllocationUnitSize = (uint8_t)(sd_status[3] & 0x000FU) ;
 5196              		.loc 1 2347 5 is_stmt 1 view .LVU1943
2347:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->UhsAllocationUnitSize = (uint8_t)(sd_status[3] & 0x000FU) ;
 5197              		.loc 1 2347 30 is_stmt 0 view .LVU1944
 5198 00ac C2F30313 		ubfx	r3, r2, #4, #4
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 191


2347:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->UhsAllocationUnitSize = (uint8_t)(sd_status[3] & 0x000FU) ;
 5199              		.loc 1 2347 28 view .LVU1945
 5200 00b0 2B74     		strb	r3, [r5, #16]
2348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->VideoSpeedClass = (uint8_t)((sd_status[4] & 0xFF000000U) >> 24U);
 5201              		.loc 1 2348 5 is_stmt 1 view .LVU1946
2348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->VideoSpeedClass = (uint8_t)((sd_status[4] & 0xFF000000U) >> 24U);
 5202              		.loc 1 2348 38 is_stmt 0 view .LVU1947
 5203 00b2 02F00F02 		and	r2, r2, #15
2348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->VideoSpeedClass = (uint8_t)((sd_status[4] & 0xFF000000U) >> 24U);
 5204              		.loc 1 2348 36 view .LVU1948
 5205 00b6 6A74     		strb	r2, [r5, #17]
2349:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5206              		.loc 1 2349 5 is_stmt 1 view .LVU1949
2349:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5207              		.loc 1 2349 32 is_stmt 0 view .LVU1950
 5208 00b8 9DF81330 		ldrb	r3, [sp, #19]	@ zero_extendqisi2
2349:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5209              		.loc 1 2349 30 view .LVU1951
 5210 00bc AB74     		strb	r3, [r5, #18]
2308:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5211              		.loc 1 2308 21 view .LVU1952
 5212 00be 0025     		movs	r5, #0
 5213              	.LVL395:
2308:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5214              		.loc 1 2308 21 view .LVU1953
 5215 00c0 B4E7     		b	.L296
 5216              	.LVL396:
 5217              	.L297:
2312:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5218              		.loc 1 2312 12 view .LVU1954
 5219 00c2 0125     		movs	r5, #1
 5220              	.LVL397:
 5221              	.L294:
2364:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5222              		.loc 1 2364 1 view .LVU1955
 5223 00c4 2846     		mov	r0, r5
 5224 00c6 11B0     		add	sp, sp, #68
 5225              	.LCFI62:
 5226              		.cfi_def_cfa_offset 12
 5227              		@ sp needed
 5228 00c8 30BD     		pop	{r4, r5, pc}
 5229              	.L300:
 5230 00ca 00BF     		.align	2
 5231              	.L299:
 5232 00cc FF0FE01F 		.word	534777855
 5233              		.cfi_endproc
 5234              	.LFE165:
 5236              		.section	.text.HAL_SD_GetCardInfo,"ax",%progbits
 5237              		.align	1
 5238              		.global	HAL_SD_GetCardInfo
 5239              		.syntax unified
 5240              		.thumb
 5241              		.thumb_func
 5243              	HAL_SD_GetCardInfo:
 5244              	.LVL398:
 5245              	.LFB166:
2374:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->CardType     = (uint32_t)(hsd->SdCard.CardType);
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 192


 5246              		.loc 1 2374 1 is_stmt 1 view -0
 5247              		.cfi_startproc
 5248              		@ args = 0, pretend = 0, frame = 0
 5249              		@ frame_needed = 0, uses_anonymous_args = 0
 5250              		@ link register save eliminated.
2375:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->CardVersion  = (uint32_t)(hsd->SdCard.CardVersion);
 5251              		.loc 1 2375 3 view .LVU1957
2375:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->CardVersion  = (uint32_t)(hsd->SdCard.CardVersion);
 5252              		.loc 1 2375 51 is_stmt 0 view .LVU1958
 5253 0000 836B     		ldr	r3, [r0, #56]
2375:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->CardVersion  = (uint32_t)(hsd->SdCard.CardVersion);
 5254              		.loc 1 2375 27 view .LVU1959
 5255 0002 0B60     		str	r3, [r1]
2376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->Class        = (uint32_t)(hsd->SdCard.Class);
 5256              		.loc 1 2376 3 is_stmt 1 view .LVU1960
2376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->Class        = (uint32_t)(hsd->SdCard.Class);
 5257              		.loc 1 2376 51 is_stmt 0 view .LVU1961
 5258 0004 C36B     		ldr	r3, [r0, #60]
2376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->Class        = (uint32_t)(hsd->SdCard.Class);
 5259              		.loc 1 2376 27 view .LVU1962
 5260 0006 4B60     		str	r3, [r1, #4]
2377:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->RelCardAdd   = (uint32_t)(hsd->SdCard.RelCardAdd);
 5261              		.loc 1 2377 3 is_stmt 1 view .LVU1963
2377:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->RelCardAdd   = (uint32_t)(hsd->SdCard.RelCardAdd);
 5262              		.loc 1 2377 51 is_stmt 0 view .LVU1964
 5263 0008 036C     		ldr	r3, [r0, #64]
2377:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->RelCardAdd   = (uint32_t)(hsd->SdCard.RelCardAdd);
 5264              		.loc 1 2377 27 view .LVU1965
 5265 000a 8B60     		str	r3, [r1, #8]
2378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->BlockNbr     = (uint32_t)(hsd->SdCard.BlockNbr);
 5266              		.loc 1 2378 3 is_stmt 1 view .LVU1966
2378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->BlockNbr     = (uint32_t)(hsd->SdCard.BlockNbr);
 5267              		.loc 1 2378 51 is_stmt 0 view .LVU1967
 5268 000c 436C     		ldr	r3, [r0, #68]
2378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->BlockNbr     = (uint32_t)(hsd->SdCard.BlockNbr);
 5269              		.loc 1 2378 27 view .LVU1968
 5270 000e CB60     		str	r3, [r1, #12]
2379:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->BlockSize    = (uint32_t)(hsd->SdCard.BlockSize);
 5271              		.loc 1 2379 3 is_stmt 1 view .LVU1969
2379:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->BlockSize    = (uint32_t)(hsd->SdCard.BlockSize);
 5272              		.loc 1 2379 51 is_stmt 0 view .LVU1970
 5273 0010 836C     		ldr	r3, [r0, #72]
2379:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->BlockSize    = (uint32_t)(hsd->SdCard.BlockSize);
 5274              		.loc 1 2379 27 view .LVU1971
 5275 0012 0B61     		str	r3, [r1, #16]
2380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->LogBlockNbr  = (uint32_t)(hsd->SdCard.LogBlockNbr);
 5276              		.loc 1 2380 3 is_stmt 1 view .LVU1972
2380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->LogBlockNbr  = (uint32_t)(hsd->SdCard.LogBlockNbr);
 5277              		.loc 1 2380 51 is_stmt 0 view .LVU1973
 5278 0014 C36C     		ldr	r3, [r0, #76]
2380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->LogBlockNbr  = (uint32_t)(hsd->SdCard.LogBlockNbr);
 5279              		.loc 1 2380 27 view .LVU1974
 5280 0016 4B61     		str	r3, [r1, #20]
2381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->LogBlockSize = (uint32_t)(hsd->SdCard.LogBlockSize);
 5281              		.loc 1 2381 3 is_stmt 1 view .LVU1975
2381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->LogBlockSize = (uint32_t)(hsd->SdCard.LogBlockSize);
 5282              		.loc 1 2381 51 is_stmt 0 view .LVU1976
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 193


 5283 0018 036D     		ldr	r3, [r0, #80]
2381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->LogBlockSize = (uint32_t)(hsd->SdCard.LogBlockSize);
 5284              		.loc 1 2381 27 view .LVU1977
 5285 001a 8B61     		str	r3, [r1, #24]
2382:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5286              		.loc 1 2382 3 is_stmt 1 view .LVU1978
2382:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5287              		.loc 1 2382 51 is_stmt 0 view .LVU1979
 5288 001c 436D     		ldr	r3, [r0, #84]
2382:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5289              		.loc 1 2382 27 view .LVU1980
 5290 001e CB61     		str	r3, [r1, #28]
2384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 5291              		.loc 1 2384 3 is_stmt 1 view .LVU1981
2385:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5292              		.loc 1 2385 1 is_stmt 0 view .LVU1982
 5293 0020 0020     		movs	r0, #0
 5294              	.LVL399:
2385:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5295              		.loc 1 2385 1 view .LVU1983
 5296 0022 7047     		bx	lr
 5297              		.cfi_endproc
 5298              	.LFE166:
 5300              		.section	.text.HAL_SD_ConfigWideBusOperation,"ax",%progbits
 5301              		.align	1
 5302              		.global	HAL_SD_ConfigWideBusOperation
 5303              		.syntax unified
 5304              		.thumb
 5305              		.thumb_func
 5307              	HAL_SD_ConfigWideBusOperation:
 5308              	.LVL400:
 5309              	.LFB167:
2399:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_InitTypeDef Init;
 5310              		.loc 1 2399 1 is_stmt 1 view -0
 5311              		.cfi_startproc
 5312              		@ args = 0, pretend = 0, frame = 24
 5313              		@ frame_needed = 0, uses_anonymous_args = 0
2399:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_InitTypeDef Init;
 5314              		.loc 1 2399 1 is_stmt 0 view .LVU1985
 5315 0000 30B5     		push	{r4, r5, lr}
 5316              	.LCFI63:
 5317              		.cfi_def_cfa_offset 12
 5318              		.cfi_offset 4, -12
 5319              		.cfi_offset 5, -8
 5320              		.cfi_offset 14, -4
 5321 0002 89B0     		sub	sp, sp, #36
 5322              	.LCFI64:
 5323              		.cfi_def_cfa_offset 48
 5324 0004 0446     		mov	r4, r0
 5325 0006 0D46     		mov	r5, r1
2400:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 5326              		.loc 1 2400 3 is_stmt 1 view .LVU1986
2401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t sdmmc_clk;
 5327              		.loc 1 2401 3 view .LVU1987
2402:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5328              		.loc 1 2402 3 view .LVU1988
2404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 194


 5329              		.loc 1 2404 3 view .LVU1989
 5330              	.LVL401:
2407:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5331              		.loc 1 2407 3 view .LVU1990
2410:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5332              		.loc 1 2410 3 view .LVU1991
2410:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5333              		.loc 1 2410 14 is_stmt 0 view .LVU1992
 5334 0008 0323     		movs	r3, #3
 5335 000a 80F83030 		strb	r3, [r0, #48]
2412:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5336              		.loc 1 2412 3 is_stmt 1 view .LVU1993
2412:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5337              		.loc 1 2412 18 is_stmt 0 view .LVU1994
 5338 000e 836B     		ldr	r3, [r0, #56]
2412:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5339              		.loc 1 2412 6 view .LVU1995
 5340 0010 032B     		cmp	r3, #3
 5341 0012 1CD0     		beq	.L303
2414:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5342              		.loc 1 2414 5 is_stmt 1 view .LVU1996
2414:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5343              		.loc 1 2414 8 is_stmt 0 view .LVU1997
 5344 0014 B1F5004F 		cmp	r1, #32768
 5345 0018 08D0     		beq	.L323
2418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5346              		.loc 1 2418 10 is_stmt 1 view .LVU1998
2418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5347              		.loc 1 2418 13 is_stmt 0 view .LVU1999
 5348 001a B1F5804F 		cmp	r1, #16384
 5349 001e 0AD0     		beq	.L324
2424:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5350              		.loc 1 2424 10 is_stmt 1 view .LVU2000
2424:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5351              		.loc 1 2424 13 is_stmt 0 view .LVU2001
 5352 0020 79B1     		cbz	r1, .L325
2433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5353              		.loc 1 2433 7 is_stmt 1 view .LVU2002
2433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5354              		.loc 1 2433 10 is_stmt 0 view .LVU2003
 5355 0022 436B     		ldr	r3, [r0, #52]
2433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5356              		.loc 1 2433 22 view .LVU2004
 5357 0024 43F00063 		orr	r3, r3, #134217728
 5358 0028 4363     		str	r3, [r0, #52]
 5359 002a 14E0     		b	.L305
 5360              	.L323:
2416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5361              		.loc 1 2416 7 is_stmt 1 view .LVU2005
2416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5362              		.loc 1 2416 10 is_stmt 0 view .LVU2006
 5363 002c 436B     		ldr	r3, [r0, #52]
2416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5364              		.loc 1 2416 22 view .LVU2007
 5365 002e 43F08053 		orr	r3, r3, #268435456
 5366 0032 4363     		str	r3, [r0, #52]
 5367 0034 0FE0     		b	.L305
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 195


 5368              	.L324:
2420:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5369              		.loc 1 2420 7 is_stmt 1 view .LVU2008
2420:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5370              		.loc 1 2420 20 is_stmt 0 view .LVU2009
 5371 0036 FFF7FEFF 		bl	SD_WideBus_Enable
 5372              	.LVL402:
2422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5373              		.loc 1 2422 7 is_stmt 1 view .LVU2010
2422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5374              		.loc 1 2422 10 is_stmt 0 view .LVU2011
 5375 003a 636B     		ldr	r3, [r4, #52]
2422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5376              		.loc 1 2422 22 view .LVU2012
 5377 003c 0343     		orrs	r3, r3, r0
 5378 003e 6363     		str	r3, [r4, #52]
 5379 0040 09E0     		b	.L305
 5380              	.LVL403:
 5381              	.L325:
2426:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5382              		.loc 1 2426 7 is_stmt 1 view .LVU2013
2426:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5383              		.loc 1 2426 20 is_stmt 0 view .LVU2014
 5384 0042 FFF7FEFF 		bl	SD_WideBus_Disable
 5385              	.LVL404:
2428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5386              		.loc 1 2428 7 is_stmt 1 view .LVU2015
2428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5387              		.loc 1 2428 10 is_stmt 0 view .LVU2016
 5388 0046 636B     		ldr	r3, [r4, #52]
2428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5389              		.loc 1 2428 22 view .LVU2017
 5390 0048 0343     		orrs	r3, r3, r0
 5391 004a 6363     		str	r3, [r4, #52]
 5392 004c 03E0     		b	.L305
 5393              	.LVL405:
 5394              	.L303:
2439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5395              		.loc 1 2439 5 is_stmt 1 view .LVU2018
2439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5396              		.loc 1 2439 8 is_stmt 0 view .LVU2019
 5397 004e 436B     		ldr	r3, [r0, #52]
2439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5398              		.loc 1 2439 20 view .LVU2020
 5399 0050 43F08053 		orr	r3, r3, #268435456
 5400 0054 4363     		str	r3, [r0, #52]
 5401              	.LVL406:
 5402              	.L305:
2442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5403              		.loc 1 2442 3 is_stmt 1 view .LVU2021
2442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5404              		.loc 1 2442 10 is_stmt 0 view .LVU2022
 5405 0056 636B     		ldr	r3, [r4, #52]
2442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5406              		.loc 1 2442 6 view .LVU2023
 5407 0058 B3B1     		cbz	r3, .L308
2445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 196


 5408              		.loc 1 2445 5 is_stmt 1 view .LVU2024
 5409 005a 2368     		ldr	r3, [r4]
 5410 005c 3A4A     		ldr	r2, .L328
 5411 005e 9A63     		str	r2, [r3, #56]
2446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5412              		.loc 1 2446 5 view .LVU2025
 5413              	.LVL407:
2446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5414              		.loc 1 2446 12 is_stmt 0 view .LVU2026
 5415 0060 0125     		movs	r5, #1
 5416              	.LVL408:
 5417              	.L309:
2536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5418              		.loc 1 2536 3 is_stmt 1 view .LVU2027
2536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5419              		.loc 1 2536 16 is_stmt 0 view .LVU2028
 5420 0062 4FF40071 		mov	r1, #512
 5421 0066 2068     		ldr	r0, [r4]
 5422 0068 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 5423              	.LVL409:
2537:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5424              		.loc 1 2537 3 is_stmt 1 view .LVU2029
2537:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5425              		.loc 1 2537 6 is_stmt 0 view .LVU2030
 5426 006c 30B1     		cbz	r0, .L321
2540:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 5427              		.loc 1 2540 5 is_stmt 1 view .LVU2031
 5428 006e 2368     		ldr	r3, [r4]
 5429 0070 3549     		ldr	r1, .L328
 5430 0072 9963     		str	r1, [r3, #56]
2541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5431              		.loc 1 2541 5 view .LVU2032
2541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5432              		.loc 1 2541 8 is_stmt 0 view .LVU2033
 5433 0074 636B     		ldr	r3, [r4, #52]
2541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5434              		.loc 1 2541 20 view .LVU2034
 5435 0076 0343     		orrs	r3, r3, r0
 5436 0078 6363     		str	r3, [r4, #52]
2542:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5437              		.loc 1 2542 5 is_stmt 1 view .LVU2035
 5438              	.LVL410:
2542:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5439              		.loc 1 2542 12 is_stmt 0 view .LVU2036
 5440 007a 0125     		movs	r5, #1
 5441              	.LVL411:
 5442              	.L321:
2546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5443              		.loc 1 2546 3 is_stmt 1 view .LVU2037
2546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5444              		.loc 1 2546 14 is_stmt 0 view .LVU2038
 5445 007c 0123     		movs	r3, #1
 5446 007e 84F83030 		strb	r3, [r4, #48]
2548:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 5447              		.loc 1 2548 3 is_stmt 1 view .LVU2039
2549:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5448              		.loc 1 2549 1 is_stmt 0 view .LVU2040
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 197


 5449 0082 2846     		mov	r0, r5
 5450              	.LVL412:
2549:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5451              		.loc 1 2549 1 view .LVU2041
 5452 0084 09B0     		add	sp, sp, #36
 5453              	.LCFI65:
 5454              		.cfi_remember_state
 5455              		.cfi_def_cfa_offset 12
 5456              		@ sp needed
 5457 0086 30BD     		pop	{r4, r5, pc}
 5458              	.LVL413:
 5459              	.L308:
 5460              	.LCFI66:
 5461              		.cfi_restore_state
2450:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (sdmmc_clk != 0U)
 5462              		.loc 1 2450 5 is_stmt 1 view .LVU2042
2450:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (sdmmc_clk != 0U)
 5463              		.loc 1 2450 21 is_stmt 0 view .LVU2043
 5464 0088 4FF48030 		mov	r0, #65536
 5465 008c 0021     		movs	r1, #0
 5466 008e FFF7FEFF 		bl	HAL_RCCEx_GetPeriphCLKFreq
 5467              	.LVL414:
2451:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5468              		.loc 1 2451 5 is_stmt 1 view .LVU2044
2451:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5469              		.loc 1 2451 8 is_stmt 0 view .LVU2045
 5470 0092 0246     		mov	r2, r0
 5471 0094 0028     		cmp	r0, #0
 5472 0096 50D0     		beq	.L310
2454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.ClockPowerSave      = hsd->Init.ClockPowerSave;
 5473              		.loc 1 2454 7 is_stmt 1 view .LVU2046
2454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.ClockPowerSave      = hsd->Init.ClockPowerSave;
 5474              		.loc 1 2454 43 is_stmt 0 view .LVU2047
 5475 0098 6368     		ldr	r3, [r4, #4]
2454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.ClockPowerSave      = hsd->Init.ClockPowerSave;
 5476              		.loc 1 2454 32 view .LVU2048
 5477 009a 0393     		str	r3, [sp, #12]
2455:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.BusWide             = WideMode;
 5478              		.loc 1 2455 7 is_stmt 1 view .LVU2049
2455:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.BusWide             = WideMode;
 5479              		.loc 1 2455 43 is_stmt 0 view .LVU2050
 5480 009c A368     		ldr	r3, [r4, #8]
2455:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.BusWide             = WideMode;
 5481              		.loc 1 2455 32 view .LVU2051
 5482 009e 0493     		str	r3, [sp, #16]
2456:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.HardwareFlowControl = hsd->Init.HardwareFlowControl;
 5483              		.loc 1 2456 7 is_stmt 1 view .LVU2052
2456:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.HardwareFlowControl = hsd->Init.HardwareFlowControl;
 5484              		.loc 1 2456 32 is_stmt 0 view .LVU2053
 5485 00a0 0595     		str	r5, [sp, #20]
2457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5486              		.loc 1 2457 7 is_stmt 1 view .LVU2054
2457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5487              		.loc 1 2457 43 is_stmt 0 view .LVU2055
 5488 00a2 2369     		ldr	r3, [r4, #16]
2457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5489              		.loc 1 2457 32 view .LVU2056
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 198


 5490 00a4 0693     		str	r3, [sp, #24]
2460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5491              		.loc 1 2460 7 is_stmt 1 view .LVU2057
2460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5492              		.loc 1 2460 20 is_stmt 0 view .LVU2058
 5493 00a6 6169     		ldr	r1, [r4, #20]
2460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5494              		.loc 1 2460 44 view .LVU2059
 5495 00a8 284B     		ldr	r3, .L328+4
 5496 00aa A3FB0203 		umull	r0, r3, r3, r2
 5497              	.LVL415:
2460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5498              		.loc 1 2460 44 view .LVU2060
 5499 00ae 180E     		lsrs	r0, r3, #24
2460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5500              		.loc 1 2460 10 view .LVU2061
 5501 00b0 B1EB136F 		cmp	r1, r3, lsr #24
 5502 00b4 0CD3     		bcc	.L311
2462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 5503              		.loc 1 2462 9 is_stmt 1 view .LVU2062
2462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 5504              		.loc 1 2462 23 is_stmt 0 view .LVU2063
 5505 00b6 0791     		str	r1, [sp, #28]
 5506              	.LVL416:
 5507              	.L312:
2526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5508              		.loc 1 2526 7 is_stmt 1 view .LVU2064
2526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5509              		.loc 1 2526 13 is_stmt 0 view .LVU2065
 5510 00b8 08AB     		add	r3, sp, #32
 5511 00ba 13E90300 		ldmdb	r3, {r0, r1}
 5512 00be 8DE80300 		stm	sp, {r0, r1}
 5513 00c2 03AB     		add	r3, sp, #12
 5514 00c4 0ECB     		ldm	r3, {r1, r2, r3}
 5515 00c6 2068     		ldr	r0, [r4]
 5516 00c8 FFF7FEFF 		bl	SDMMC_Init
 5517              	.LVL417:
2404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5518              		.loc 1 2404 21 view .LVU2066
 5519 00cc 0025     		movs	r5, #0
 5520              	.LVL418:
2404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5521              		.loc 1 2404 21 view .LVU2067
 5522 00ce C8E7     		b	.L309
 5523              	.LVL419:
 5524              	.L311:
2464:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5525              		.loc 1 2464 12 is_stmt 1 view .LVU2068
2464:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5526              		.loc 1 2464 27 is_stmt 0 view .LVU2069
 5527 00d0 A36D     		ldr	r3, [r4, #88]
2464:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5528              		.loc 1 2464 15 view .LVU2070
 5529 00d2 B3F5007F 		cmp	r3, #512
 5530 00d6 08D0     		beq	.L326
2469:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5531              		.loc 1 2469 12 is_stmt 1 view .LVU2071
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 199


2469:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5532              		.loc 1 2469 15 is_stmt 0 view .LVU2072
 5533 00d8 B3F5807F 		cmp	r3, #256
 5534 00dc 07D0     		beq	.L327
2498:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 5535              		.loc 1 2498 9 is_stmt 1 view .LVU2073
2498:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 5536              		.loc 1 2498 12 is_stmt 0 view .LVU2074
 5537 00de 11BB     		cbnz	r1, .L318
2500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5538              		.loc 1 2500 11 is_stmt 1 view .LVU2075
2500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5539              		.loc 1 2500 14 is_stmt 0 view .LVU2076
 5540 00e0 1B4B     		ldr	r3, .L328+8
 5541 00e2 9A42     		cmp	r2, r3
 5542 00e4 1DD9     		bls	.L319
2502:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5543              		.loc 1 2502 13 is_stmt 1 view .LVU2077
2502:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5544              		.loc 1 2502 27 is_stmt 0 view .LVU2078
 5545 00e6 0790     		str	r0, [sp, #28]
 5546 00e8 E6E7     		b	.L312
 5547              	.L326:
2467:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 5548              		.loc 1 2467 9 is_stmt 1 view .LVU2079
2467:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 5549              		.loc 1 2467 23 is_stmt 0 view .LVU2080
 5550 00ea 0791     		str	r1, [sp, #28]
 5551 00ec E4E7     		b	.L312
 5552              	.L327:
2472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 5553              		.loc 1 2472 9 is_stmt 1 view .LVU2081
2472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 5554              		.loc 1 2472 12 is_stmt 0 view .LVU2082
 5555 00ee 51B9     		cbnz	r1, .L315
2474:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5556              		.loc 1 2474 11 is_stmt 1 view .LVU2083
2474:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5557              		.loc 1 2474 14 is_stmt 0 view .LVU2084
 5558 00f0 184B     		ldr	r3, .L328+12
 5559 00f2 9A42     		cmp	r2, r3
 5560 00f4 05D9     		bls	.L316
2476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5561              		.loc 1 2476 13 is_stmt 1 view .LVU2085
2476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5562              		.loc 1 2476 39 is_stmt 0 view .LVU2086
 5563 00f6 154B     		ldr	r3, .L328+4
 5564 00f8 A3FB0223 		umull	r2, r3, r3, r2
 5565              	.LVL420:
2476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5566              		.loc 1 2476 39 view .LVU2087
 5567 00fc 5B0E     		lsrs	r3, r3, #25
2476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5568              		.loc 1 2476 27 view .LVU2088
 5569 00fe 0793     		str	r3, [sp, #28]
 5570 0100 DAE7     		b	.L312
 5571              	.LVL421:
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 200


 5572              	.L316:
2480:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5573              		.loc 1 2480 13 is_stmt 1 view .LVU2089
2480:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5574              		.loc 1 2480 27 is_stmt 0 view .LVU2090
 5575 0102 0791     		str	r1, [sp, #28]
 5576 0104 D8E7     		b	.L312
 5577              	.L315:
2485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5578              		.loc 1 2485 11 is_stmt 1 view .LVU2091
2485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5579              		.loc 1 2485 32 is_stmt 0 view .LVU2092
 5580 0106 4B00     		lsls	r3, r1, #1
2485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5581              		.loc 1 2485 26 view .LVU2093
 5582 0108 B2FBF3F3 		udiv	r3, r2, r3
2485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5583              		.loc 1 2485 14 view .LVU2094
 5584 010c 1148     		ldr	r0, .L328+12
 5585 010e 8342     		cmp	r3, r0
 5586 0110 05D9     		bls	.L317
2487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5587              		.loc 1 2487 13 is_stmt 1 view .LVU2095
2487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5588              		.loc 1 2487 39 is_stmt 0 view .LVU2096
 5589 0112 0E4B     		ldr	r3, .L328+4
 5590 0114 A3FB0223 		umull	r2, r3, r3, r2
 5591              	.LVL422:
2487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5592              		.loc 1 2487 39 view .LVU2097
 5593 0118 5B0E     		lsrs	r3, r3, #25
2487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5594              		.loc 1 2487 27 view .LVU2098
 5595 011a 0793     		str	r3, [sp, #28]
 5596 011c CCE7     		b	.L312
 5597              	.LVL423:
 5598              	.L317:
2491:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5599              		.loc 1 2491 13 is_stmt 1 view .LVU2099
2491:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5600              		.loc 1 2491 27 is_stmt 0 view .LVU2100
 5601 011e 0791     		str	r1, [sp, #28]
 5602 0120 CAE7     		b	.L312
 5603              	.L319:
2506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5604              		.loc 1 2506 13 is_stmt 1 view .LVU2101
2506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5605              		.loc 1 2506 27 is_stmt 0 view .LVU2102
 5606 0122 0791     		str	r1, [sp, #28]
 5607 0124 C8E7     		b	.L312
 5608              	.L318:
2511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5609              		.loc 1 2511 11 is_stmt 1 view .LVU2103
2511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5610              		.loc 1 2511 32 is_stmt 0 view .LVU2104
 5611 0126 4B00     		lsls	r3, r1, #1
2511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 201


 5612              		.loc 1 2511 26 view .LVU2105
 5613 0128 B2FBF3F2 		udiv	r2, r2, r3
 5614              	.LVL424:
2511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5615              		.loc 1 2511 14 view .LVU2106
 5616 012c 084B     		ldr	r3, .L328+8
 5617 012e 9A42     		cmp	r2, r3
 5618 0130 01D9     		bls	.L320
2513:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5619              		.loc 1 2513 13 is_stmt 1 view .LVU2107
2513:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5620              		.loc 1 2513 27 is_stmt 0 view .LVU2108
 5621 0132 0790     		str	r0, [sp, #28]
 5622 0134 C0E7     		b	.L312
 5623              	.L320:
2517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5624              		.loc 1 2517 13 is_stmt 1 view .LVU2109
2517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5625              		.loc 1 2517 27 is_stmt 0 view .LVU2110
 5626 0136 0791     		str	r1, [sp, #28]
 5627 0138 BEE7     		b	.L312
 5628              	.LVL425:
 5629              	.L310:
2530:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       status = HAL_ERROR;
 5630              		.loc 1 2530 7 is_stmt 1 view .LVU2111
2530:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       status = HAL_ERROR;
 5631              		.loc 1 2530 10 is_stmt 0 view .LVU2112
 5632 013a 636B     		ldr	r3, [r4, #52]
2530:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       status = HAL_ERROR;
 5633              		.loc 1 2530 22 view .LVU2113
 5634 013c 43F00063 		orr	r3, r3, #134217728
 5635 0140 6363     		str	r3, [r4, #52]
2531:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5636              		.loc 1 2531 7 is_stmt 1 view .LVU2114
 5637              	.LVL426:
2531:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5638              		.loc 1 2531 14 is_stmt 0 view .LVU2115
 5639 0142 0125     		movs	r5, #1
 5640              	.LVL427:
2531:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5641              		.loc 1 2531 14 view .LVU2116
 5642 0144 8DE7     		b	.L309
 5643              	.L329:
 5644 0146 00BF     		.align	2
 5645              	.L328:
 5646 0148 FF0FE01F 		.word	534777855
 5647 014c 893BE655 		.word	1441151881
 5648 0150 40787D01 		.word	25000000
 5649 0154 80F0FA02 		.word	50000000
 5650              		.cfi_endproc
 5651              	.LFE167:
 5653              		.section	.text.HAL_SD_GetCardState,"ax",%progbits
 5654              		.align	1
 5655              		.global	HAL_SD_GetCardState
 5656              		.syntax unified
 5657              		.thumb
 5658              		.thumb_func
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 202


 5660              	HAL_SD_GetCardState:
 5661              	.LVL428:
 5662              	.LFB169:
2862:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t cardstate;
 5663              		.loc 1 2862 1 is_stmt 1 view -0
 5664              		.cfi_startproc
 5665              		@ args = 0, pretend = 0, frame = 8
 5666              		@ frame_needed = 0, uses_anonymous_args = 0
2862:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t cardstate;
 5667              		.loc 1 2862 1 is_stmt 0 view .LVU2118
 5668 0000 10B5     		push	{r4, lr}
 5669              	.LCFI67:
 5670              		.cfi_def_cfa_offset 8
 5671              		.cfi_offset 4, -8
 5672              		.cfi_offset 14, -4
 5673 0002 82B0     		sub	sp, sp, #8
 5674              	.LCFI68:
 5675              		.cfi_def_cfa_offset 16
 5676 0004 0446     		mov	r4, r0
2863:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 5677              		.loc 1 2863 3 is_stmt 1 view .LVU2119
2864:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t resp1 = 0;
 5678              		.loc 1 2864 3 view .LVU2120
2865:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5679              		.loc 1 2865 3 view .LVU2121
2865:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5680              		.loc 1 2865 12 is_stmt 0 view .LVU2122
 5681 0006 0023     		movs	r3, #0
 5682 0008 0193     		str	r3, [sp, #4]
2867:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5683              		.loc 1 2867 3 is_stmt 1 view .LVU2123
2867:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5684              		.loc 1 2867 16 is_stmt 0 view .LVU2124
 5685 000a 01A9     		add	r1, sp, #4
 5686 000c FFF7FEFF 		bl	SD_SendStatus
 5687              	.LVL429:
2868:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5688              		.loc 1 2868 3 is_stmt 1 view .LVU2125
2868:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5689              		.loc 1 2868 6 is_stmt 0 view .LVU2126
 5690 0010 10B1     		cbz	r0, .L331
2870:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5691              		.loc 1 2870 5 is_stmt 1 view .LVU2127
2870:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5692              		.loc 1 2870 8 is_stmt 0 view .LVU2128
 5693 0012 636B     		ldr	r3, [r4, #52]
2870:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5694              		.loc 1 2870 20 view .LVU2129
 5695 0014 0343     		orrs	r3, r3, r0
 5696 0016 6363     		str	r3, [r4, #52]
 5697              	.L331:
2873:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5698              		.loc 1 2873 3 is_stmt 1 view .LVU2130
 5699              	.LVL430:
2875:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 5700              		.loc 1 2875 3 view .LVU2131
2876:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 203


 5701              		.loc 1 2876 1 is_stmt 0 view .LVU2132
 5702 0018 0198     		ldr	r0, [sp, #4]
 5703              	.LVL431:
2876:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5704              		.loc 1 2876 1 view .LVU2133
 5705 001a C0F34320 		ubfx	r0, r0, #9, #4
 5706              	.LVL432:
2876:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5707              		.loc 1 2876 1 view .LVU2134
 5708 001e 02B0     		add	sp, sp, #8
 5709              	.LCFI69:
 5710              		.cfi_def_cfa_offset 8
 5711              		@ sp needed
 5712 0020 10BD     		pop	{r4, pc}
2876:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5713              		.loc 1 2876 1 view .LVU2135
 5714              		.cfi_endproc
 5715              	.LFE169:
 5717              		.section	.text.HAL_SD_Init,"ax",%progbits
 5718              		.align	1
 5719              		.global	HAL_SD_Init
 5720              		.syntax unified
 5721              		.thumb
 5722              		.thumb_func
 5724              	HAL_SD_Init:
 5725              	.LVL433:
 5726              	.LFB144:
 339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardStatusTypeDef CardStatus;
 5727              		.loc 1 339 1 is_stmt 1 view -0
 5728              		.cfi_startproc
 5729              		@ args = 0, pretend = 0, frame = 24
 5730              		@ frame_needed = 0, uses_anonymous_args = 0
 339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardStatusTypeDef CardStatus;
 5731              		.loc 1 339 1 is_stmt 0 view .LVU2137
 5732 0000 70B5     		push	{r4, r5, r6, lr}
 5733              	.LCFI70:
 5734              		.cfi_def_cfa_offset 16
 5735              		.cfi_offset 4, -16
 5736              		.cfi_offset 5, -12
 5737              		.cfi_offset 6, -8
 5738              		.cfi_offset 14, -4
 5739 0002 86B0     		sub	sp, sp, #24
 5740              	.LCFI71:
 5741              		.cfi_def_cfa_offset 40
 340:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t speedgrade;
 5742              		.loc 1 340 3 is_stmt 1 view .LVU2138
 341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t unitsize;
 5743              		.loc 1 341 3 view .LVU2139
 342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart;
 5744              		.loc 1 342 3 view .LVU2140
 343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5745              		.loc 1 343 3 view .LVU2141
 346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5746              		.loc 1 346 3 view .LVU2142
 346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5747              		.loc 1 346 6 is_stmt 0 view .LVU2143
 5748 0004 0028     		cmp	r0, #0
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 204


 5749 0006 54D0     		beq	.L341
 5750 0008 0446     		mov	r4, r0
 352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_CLOCK_EDGE(hsd->Init.ClockEdge));
 5751              		.loc 1 352 3 is_stmt 1 view .LVU2144
 353:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_CLOCK_POWER_SAVE(hsd->Init.ClockPowerSave));
 5752              		.loc 1 353 3 view .LVU2145
 354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_BUS_WIDE(hsd->Init.BusWide));
 5753              		.loc 1 354 3 view .LVU2146
 355:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_HARDWARE_FLOW_CONTROL(hsd->Init.HardwareFlowControl));
 5754              		.loc 1 355 3 view .LVU2147
 356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_CLKDIV(hsd->Init.ClockDiv));
 5755              		.loc 1 356 3 view .LVU2148
 357:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5756              		.loc 1 357 3 view .LVU2149
 359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5757              		.loc 1 359 3 view .LVU2150
 359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5758              		.loc 1 359 10 is_stmt 0 view .LVU2151
 5759 000a 90F83030 		ldrb	r3, [r0, #48]	@ zero_extendqisi2
 359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5760              		.loc 1 359 6 view .LVU2152
 5761 000e 53B1     		cbz	r3, .L346
 5762              	.LVL434:
 5763              	.L335:
 401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5764              		.loc 1 401 3 is_stmt 1 view .LVU2153
 401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5765              		.loc 1 401 14 is_stmt 0 view .LVU2154
 5766 0010 0423     		movs	r3, #4
 5767 0012 84F83030 		strb	r3, [r4, #48]
 404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5768              		.loc 1 404 3 is_stmt 1 view .LVU2155
 404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5769              		.loc 1 404 7 is_stmt 0 view .LVU2156
 5770 0016 2046     		mov	r0, r4
 5771 0018 FFF7FEFF 		bl	HAL_SD_InitCard
 5772              	.LVL435:
 404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5773              		.loc 1 404 6 discriminator 1 view .LVU2157
 5774 001c 38B1     		cbz	r0, .L347
 406:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5775              		.loc 1 406 12 view .LVU2158
 5776 001e 0125     		movs	r5, #1
 5777              	.LVL436:
 5778              	.L334:
 460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5779              		.loc 1 460 1 view .LVU2159
 5780 0020 2846     		mov	r0, r5
 5781 0022 06B0     		add	sp, sp, #24
 5782              	.LCFI72:
 5783              		.cfi_remember_state
 5784              		.cfi_def_cfa_offset 16
 5785              		@ sp needed
 5786 0024 70BD     		pop	{r4, r5, r6, pc}
 5787              	.LVL437:
 5788              	.L346:
 5789              	.LCFI73:
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 205


 5790              		.cfi_restore_state
 362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5791              		.loc 1 362 5 is_stmt 1 view .LVU2160
 362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5792              		.loc 1 362 15 is_stmt 0 view .LVU2161
 5793 0026 0376     		strb	r3, [r0, #24]
 397:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 5794              		.loc 1 397 5 is_stmt 1 view .LVU2162
 5795 0028 FFF7FEFF 		bl	HAL_SD_MspInit
 5796              	.LVL438:
 397:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 5797              		.loc 1 397 5 is_stmt 0 view .LVU2163
 5798 002c F0E7     		b	.L335
 5799              	.L347:
 409:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5800              		.loc 1 409 3 is_stmt 1 view .LVU2164
 409:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5801              		.loc 1 409 7 is_stmt 0 view .LVU2165
 5802 002e 01A9     		add	r1, sp, #4
 5803 0030 2046     		mov	r0, r4
 5804 0032 FFF7FEFF 		bl	HAL_SD_GetCardStatus
 5805              	.LVL439:
 409:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5806              		.loc 1 409 6 discriminator 1 view .LVU2166
 5807 0036 0028     		cmp	r0, #0
 5808 0038 3DD1     		bne	.L343
 414:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   unitsize = CardStatus.UhsAllocationUnitSize;
 5809              		.loc 1 414 3 is_stmt 1 view .LVU2167
 414:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   unitsize = CardStatus.UhsAllocationUnitSize;
 5810              		.loc 1 414 26 is_stmt 0 view .LVU2168
 5811 003a 9DF81430 		ldrb	r3, [sp, #20]	@ zero_extendqisi2
 5812 003e DBB2     		uxtb	r3, r3
 5813              	.LVL440:
 415:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((hsd->SdCard.CardType == CARD_SDHC_SDXC) && ((speedgrade != 0U) || (unitsize != 0U)))
 5814              		.loc 1 415 3 is_stmt 1 view .LVU2169
 415:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((hsd->SdCard.CardType == CARD_SDHC_SDXC) && ((speedgrade != 0U) || (unitsize != 0U)))
 5815              		.loc 1 415 24 is_stmt 0 view .LVU2170
 5816 0040 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 5817 0044 D2B2     		uxtb	r2, r2
 5818              	.LVL441:
 416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5819              		.loc 1 416 3 is_stmt 1 view .LVU2171
 416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5820              		.loc 1 416 19 is_stmt 0 view .LVU2172
 5821 0046 A16B     		ldr	r1, [r4, #56]
 416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5822              		.loc 1 416 6 view .LVU2173
 5823 0048 0129     		cmp	r1, #1
 5824 004a 0BD0     		beq	.L348
 5825              	.LVL442:
 5826              	.L336:
 422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5827              		.loc 1 422 5 is_stmt 1 view .LVU2174
 422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5828              		.loc 1 422 8 is_stmt 0 view .LVU2175
 5829 004c 0129     		cmp	r1, #1
 5830 004e 0FD0     		beq	.L349
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 206


 428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5831              		.loc 1 428 7 is_stmt 1 view .LVU2176
 428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5832              		.loc 1 428 30 is_stmt 0 view .LVU2177
 5833 0050 0023     		movs	r3, #0
 5834 0052 A365     		str	r3, [r4, #88]
 5835              	.L337:
 433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5836              		.loc 1 433 3 is_stmt 1 view .LVU2178
 433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5837              		.loc 1 433 7 is_stmt 0 view .LVU2179
 5838 0054 E168     		ldr	r1, [r4, #12]
 5839 0056 2046     		mov	r0, r4
 5840 0058 FFF7FEFF 		bl	HAL_SD_ConfigWideBusOperation
 5841              	.LVL443:
 433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5842              		.loc 1 433 6 discriminator 1 view .LVU2180
 5843 005c 0546     		mov	r5, r0
 5844 005e 58B1     		cbz	r0, .L350
 435:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5845              		.loc 1 435 12 view .LVU2181
 5846 0060 0125     		movs	r5, #1
 5847 0062 DDE7     		b	.L334
 5848              	.LVL444:
 5849              	.L348:
 416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5850              		.loc 1 416 48 discriminator 1 view .LVU2182
 5851 0064 1343     		orrs	r3, r3, r2
 5852              	.LVL445:
 416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5853              		.loc 1 416 48 discriminator 1 view .LVU2183
 5854 0066 F1D0     		beq	.L336
 418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5855              		.loc 1 418 5 is_stmt 1 view .LVU2184
 418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5856              		.loc 1 418 27 is_stmt 0 view .LVU2185
 5857 0068 4FF40073 		mov	r3, #512
 5858 006c A365     		str	r3, [r4, #88]
 5859 006e F1E7     		b	.L337
 5860              	.L349:
 424:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5861              		.loc 1 424 7 is_stmt 1 view .LVU2186
 424:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5862              		.loc 1 424 30 is_stmt 0 view .LVU2187
 5863 0070 4FF48073 		mov	r3, #256
 5864 0074 A365     		str	r3, [r4, #88]
 5865 0076 EDE7     		b	.L337
 5866              	.LVL446:
 5867              	.L350:
 439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((HAL_SD_GetCardState(hsd) != HAL_SD_CARD_TRANSFER))
 5868              		.loc 1 439 3 is_stmt 1 view .LVU2188
 439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((HAL_SD_GetCardState(hsd) != HAL_SD_CARD_TRANSFER))
 5869              		.loc 1 439 15 is_stmt 0 view .LVU2189
 5870 0078 FFF7FEFF 		bl	HAL_GetTick
 5871              	.LVL447:
 5872 007c 0646     		mov	r6, r0
 5873              	.LVL448:
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 207


 440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5874              		.loc 1 440 3 is_stmt 1 view .LVU2190
 5875              	.L339:
 440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5876              		.loc 1 440 36 view .LVU2191
 440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5877              		.loc 1 440 11 is_stmt 0 view .LVU2192
 5878 007e 2046     		mov	r0, r4
 5879 0080 FFF7FEFF 		bl	HAL_SD_GetCardState
 5880              	.LVL449:
 440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5881              		.loc 1 440 36 discriminator 1 view .LVU2193
 5882 0084 0428     		cmp	r0, #4
 5883 0086 0DD0     		beq	.L351
 442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5884              		.loc 1 442 5 is_stmt 1 view .LVU2194
 442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5885              		.loc 1 442 10 is_stmt 0 view .LVU2195
 5886 0088 FFF7FEFF 		bl	HAL_GetTick
 5887              	.LVL450:
 442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5888              		.loc 1 442 24 discriminator 1 view .LVU2196
 5889 008c 801B     		subs	r0, r0, r6
 442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5890              		.loc 1 442 8 discriminator 1 view .LVU2197
 5891 008e B0F1FF3F 		cmp	r0, #-1
 5892 0092 F4D1     		bne	.L339
 444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 5893              		.loc 1 444 7 is_stmt 1 view .LVU2198
 444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 5894              		.loc 1 444 22 is_stmt 0 view .LVU2199
 5895 0094 4FF00043 		mov	r3, #-2147483648
 5896 0098 6363     		str	r3, [r4, #52]
 445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_TIMEOUT;
 5897              		.loc 1 445 7 is_stmt 1 view .LVU2200
 445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_TIMEOUT;
 5898              		.loc 1 445 18 is_stmt 0 view .LVU2201
 5899 009a 0123     		movs	r3, #1
 5900 009c 84F83030 		strb	r3, [r4, #48]
 446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5901              		.loc 1 446 7 is_stmt 1 view .LVU2202
 446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5902              		.loc 1 446 14 is_stmt 0 view .LVU2203
 5903 00a0 0325     		movs	r5, #3
 5904 00a2 BDE7     		b	.L334
 5905              	.L351:
 451:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5906              		.loc 1 451 3 is_stmt 1 view .LVU2204
 451:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5907              		.loc 1 451 18 is_stmt 0 view .LVU2205
 5908 00a4 0023     		movs	r3, #0
 5909 00a6 6363     		str	r3, [r4, #52]
 454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5910              		.loc 1 454 3 is_stmt 1 view .LVU2206
 454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5911              		.loc 1 454 16 is_stmt 0 view .LVU2207
 5912 00a8 E362     		str	r3, [r4, #44]
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 208


 457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5913              		.loc 1 457 3 is_stmt 1 view .LVU2208
 457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5914              		.loc 1 457 14 is_stmt 0 view .LVU2209
 5915 00aa 0123     		movs	r3, #1
 5916 00ac 84F83030 		strb	r3, [r4, #48]
 459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 5917              		.loc 1 459 3 is_stmt 1 view .LVU2210
 459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 5918              		.loc 1 459 10 is_stmt 0 view .LVU2211
 5919 00b0 B6E7     		b	.L334
 5920              	.LVL451:
 5921              	.L341:
 348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5922              		.loc 1 348 12 view .LVU2212
 5923 00b2 0125     		movs	r5, #1
 5924 00b4 B4E7     		b	.L334
 5925              	.LVL452:
 5926              	.L343:
 411:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5927              		.loc 1 411 12 view .LVU2213
 5928 00b6 0125     		movs	r5, #1
 5929 00b8 B2E7     		b	.L334
 5930              		.cfi_endproc
 5931              	.LFE144:
 5933              		.section	.text.HAL_SD_ConfigSpeedBusOperation,"ax",%progbits
 5934              		.align	1
 5935              		.global	HAL_SD_ConfigSpeedBusOperation
 5936              		.syntax unified
 5937              		.thumb
 5938              		.thumb_func
 5940              	HAL_SD_ConfigSpeedBusOperation:
 5941              	.LVL453:
 5942              	.LFB168:
2564:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart;
 5943              		.loc 1 2564 1 is_stmt 1 view -0
 5944              		.cfi_startproc
 5945              		@ args = 0, pretend = 0, frame = 0
 5946              		@ frame_needed = 0, uses_anonymous_args = 0
2564:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart;
 5947              		.loc 1 2564 1 is_stmt 0 view .LVU2215
 5948 0000 70B5     		push	{r4, r5, r6, lr}
 5949              	.LCFI74:
 5950              		.cfi_def_cfa_offset 16
 5951              		.cfi_offset 4, -16
 5952              		.cfi_offset 5, -12
 5953              		.cfi_offset 6, -8
 5954              		.cfi_offset 14, -4
 5955 0002 0446     		mov	r4, r0
2565:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 5956              		.loc 1 2565 3 is_stmt 1 view .LVU2216
2566:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
 5957              		.loc 1 2566 3 view .LVU2217
2567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5958              		.loc 1 2567 3 view .LVU2218
 5959              	.LVL454:
2570:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Change State */
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 209


 5960              		.loc 1 2570 3 view .LVU2219
2572:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5961              		.loc 1 2572 3 view .LVU2220
2572:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5962              		.loc 1 2572 14 is_stmt 0 view .LVU2221
 5963 0004 0323     		movs	r3, #3
 5964 0006 80F83030 		strb	r3, [r0, #48]
2769:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5965              		.loc 1 2769 3 is_stmt 1 view .LVU2222
 5966 000a 0129     		cmp	r1, #1
 5967 000c 36D0     		beq	.L353
 5968 000e 0229     		cmp	r1, #2
 5969 0010 19D0     		beq	.L354
 5970 0012 0029     		cmp	r1, #0
 5971 0014 3CD1     		bne	.L355
2773:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 5972              		.loc 1 2773 7 view .LVU2223
2773:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 5973              		.loc 1 2773 23 is_stmt 0 view .LVU2224
 5974 0016 836D     		ldr	r3, [r0, #88]
2773:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 5975              		.loc 1 2773 10 view .LVU2225
 5976 0018 B3F5807F 		cmp	r3, #256
 5977 001c 18BF     		it	ne
 5978 001e B3F5007F 		cmpne	r3, #512
 5979 0022 04D0     		beq	.L356
2775:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5980              		.loc 1 2775 23 view .LVU2226
 5981 0024 836B     		ldr	r3, [r0, #56]
2774:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardType == CARD_SDHC_SDXC))
 5982              		.loc 1 2774 55 view .LVU2227
 5983 0026 012B     		cmp	r3, #1
 5984 0028 01D0     		beq	.L356
2567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5985              		.loc 1 2567 21 view .LVU2228
 5986 002a 0026     		movs	r6, #0
 5987 002c 35E0     		b	.L357
 5988              	.L356:
2778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 5989              		.loc 1 2778 9 is_stmt 1 view .LVU2229
2778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 5990              		.loc 1 2778 13 is_stmt 0 view .LVU2230
 5991 002e 3249     		ldr	r1, .L370
 5992              	.LVL455:
2778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 5993              		.loc 1 2778 13 view .LVU2231
 5994 0030 2046     		mov	r0, r4
 5995              	.LVL456:
2778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 5996              		.loc 1 2778 13 view .LVU2232
 5997 0032 FFF7FEFF 		bl	SD_SwitchSpeed
 5998              	.LVL457:
2778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 5999              		.loc 1 2778 12 discriminator 1 view .LVU2233
 6000 0036 0028     		cmp	r0, #0
 6001 0038 45D0     		beq	.L365
2780:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 210


 6002              		.loc 1 2780 11 is_stmt 1 view .LVU2234
2780:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
 6003              		.loc 1 2780 14 is_stmt 0 view .LVU2235
 6004 003a 636B     		ldr	r3, [r4, #52]
2780:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
 6005              		.loc 1 2780 26 view .LVU2236
 6006 003c 43F08053 		orr	r3, r3, #268435456
 6007 0040 6363     		str	r3, [r4, #52]
2781:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 6008              		.loc 1 2781 11 is_stmt 1 view .LVU2237
 6009              	.LVL458:
2781:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 6010              		.loc 1 2781 18 is_stmt 0 view .LVU2238
 6011 0042 0126     		movs	r6, #1
 6012 0044 29E0     		b	.L357
 6013              	.LVL459:
 6014              	.L354:
2792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 6015              		.loc 1 2792 7 is_stmt 1 view .LVU2239
2792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 6016              		.loc 1 2792 23 is_stmt 0 view .LVU2240
 6017 0046 836D     		ldr	r3, [r0, #88]
2792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 6018              		.loc 1 2792 10 view .LVU2241
 6019 0048 B3F5807F 		cmp	r3, #256
 6020 004c 18BF     		it	ne
 6021 004e B3F5007F 		cmpne	r3, #512
 6022 0052 08D0     		beq	.L358
2794:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6023              		.loc 1 2794 23 view .LVU2242
 6024 0054 836B     		ldr	r3, [r0, #56]
2793:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardType == CARD_SDHC_SDXC))
 6025              		.loc 1 2793 55 view .LVU2243
 6026 0056 012B     		cmp	r3, #1
 6027 0058 05D0     		beq	.L358
2805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status = HAL_ERROR;
 6028              		.loc 1 2805 9 is_stmt 1 view .LVU2244
2805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status = HAL_ERROR;
 6029              		.loc 1 2805 12 is_stmt 0 view .LVU2245
 6030 005a 436B     		ldr	r3, [r0, #52]
2805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status = HAL_ERROR;
 6031              		.loc 1 2805 24 view .LVU2246
 6032 005c 43F08053 		orr	r3, r3, #268435456
 6033 0060 4363     		str	r3, [r0, #52]
2806:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 6034              		.loc 1 2806 9 is_stmt 1 view .LVU2247
 6035              	.LVL460:
2806:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 6036              		.loc 1 2806 16 is_stmt 0 view .LVU2248
 6037 0062 0126     		movs	r6, #1
 6038 0064 19E0     		b	.L357
 6039              	.LVL461:
 6040              	.L358:
2797:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6041              		.loc 1 2797 9 is_stmt 1 view .LVU2249
2797:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6042              		.loc 1 2797 13 is_stmt 0 view .LVU2250
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 211


 6043 0066 2449     		ldr	r1, .L370
 6044              	.LVL462:
2797:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6045              		.loc 1 2797 13 view .LVU2251
 6046 0068 2046     		mov	r0, r4
 6047              	.LVL463:
2797:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6048              		.loc 1 2797 13 view .LVU2252
 6049 006a FFF7FEFF 		bl	SD_SwitchSpeed
 6050              	.LVL464:
2797:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6051              		.loc 1 2797 12 discriminator 1 view .LVU2253
 6052 006e 60B3     		cbz	r0, .L366
2799:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
 6053              		.loc 1 2799 11 is_stmt 1 view .LVU2254
2799:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
 6054              		.loc 1 2799 14 is_stmt 0 view .LVU2255
 6055 0070 636B     		ldr	r3, [r4, #52]
2799:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
 6056              		.loc 1 2799 26 view .LVU2256
 6057 0072 43F08053 		orr	r3, r3, #268435456
 6058 0076 6363     		str	r3, [r4, #52]
2800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 6059              		.loc 1 2800 11 is_stmt 1 view .LVU2257
 6060              	.LVL465:
2800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 6061              		.loc 1 2800 18 is_stmt 0 view .LVU2258
 6062 0078 0126     		movs	r6, #1
 6063 007a 0EE0     		b	.L357
 6064              	.LVL466:
 6065              	.L353:
2813:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6066              		.loc 1 2813 7 is_stmt 1 view .LVU2259
2813:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6067              		.loc 1 2813 11 is_stmt 0 view .LVU2260
 6068 007c 1F49     		ldr	r1, .L370+4
 6069              	.LVL467:
2813:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6070              		.loc 1 2813 11 view .LVU2261
 6071 007e FFF7FEFF 		bl	SD_SwitchSpeed
 6072              	.LVL468:
2813:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6073              		.loc 1 2813 10 discriminator 1 view .LVU2262
 6074 0082 20B3     		cbz	r0, .L367
2815:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status = HAL_ERROR;
 6075              		.loc 1 2815 9 is_stmt 1 view .LVU2263
2815:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status = HAL_ERROR;
 6076              		.loc 1 2815 12 is_stmt 0 view .LVU2264
 6077 0084 636B     		ldr	r3, [r4, #52]
2815:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status = HAL_ERROR;
 6078              		.loc 1 2815 24 view .LVU2265
 6079 0086 43F08053 		orr	r3, r3, #268435456
 6080 008a 6363     		str	r3, [r4, #52]
2816:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 6081              		.loc 1 2816 9 is_stmt 1 view .LVU2266
 6082              	.LVL469:
2816:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 212


 6083              		.loc 1 2816 16 is_stmt 0 view .LVU2267
 6084 008c 0126     		movs	r6, #1
 6085 008e 04E0     		b	.L357
 6086              	.LVL470:
 6087              	.L355:
2823:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       status = HAL_ERROR;
 6088              		.loc 1 2823 7 is_stmt 1 view .LVU2268
2823:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       status = HAL_ERROR;
 6089              		.loc 1 2823 10 is_stmt 0 view .LVU2269
 6090 0090 436B     		ldr	r3, [r0, #52]
2823:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       status = HAL_ERROR;
 6091              		.loc 1 2823 22 view .LVU2270
 6092 0092 43F00063 		orr	r3, r3, #134217728
 6093 0096 4363     		str	r3, [r0, #52]
2824:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       break;
 6094              		.loc 1 2824 7 is_stmt 1 view .LVU2271
 6095              	.LVL471:
2825:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6096              		.loc 1 2825 7 view .LVU2272
2824:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       break;
 6097              		.loc 1 2824 14 is_stmt 0 view .LVU2273
 6098 0098 0126     		movs	r6, #1
 6099              	.LVL472:
 6100              	.L357:
2830:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((HAL_SD_GetCardState(hsd) != HAL_SD_CARD_TRANSFER))
 6101              		.loc 1 2830 3 is_stmt 1 view .LVU2274
2830:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((HAL_SD_GetCardState(hsd) != HAL_SD_CARD_TRANSFER))
 6102              		.loc 1 2830 15 is_stmt 0 view .LVU2275
 6103 009a FFF7FEFF 		bl	HAL_GetTick
 6104              	.LVL473:
 6105 009e 0546     		mov	r5, r0
 6106              	.LVL474:
2831:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6107              		.loc 1 2831 3 is_stmt 1 view .LVU2276
 6108              	.L360:
2831:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6109              		.loc 1 2831 36 view .LVU2277
2831:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6110              		.loc 1 2831 11 is_stmt 0 view .LVU2278
 6111 00a0 2046     		mov	r0, r4
 6112 00a2 FFF7FEFF 		bl	HAL_SD_GetCardState
 6113              	.LVL475:
2831:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6114              		.loc 1 2831 36 discriminator 1 view .LVU2279
 6115 00a6 0428     		cmp	r0, #4
 6116 00a8 13D0     		beq	.L369
2833:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6117              		.loc 1 2833 5 is_stmt 1 view .LVU2280
2833:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6118              		.loc 1 2833 10 is_stmt 0 view .LVU2281
 6119 00aa FFF7FEFF 		bl	HAL_GetTick
 6120              	.LVL476:
2833:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6121              		.loc 1 2833 24 discriminator 1 view .LVU2282
 6122 00ae 401B     		subs	r0, r0, r5
2833:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6123              		.loc 1 2833 8 discriminator 1 view .LVU2283
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 213


 6124 00b0 B0F1FF3F 		cmp	r0, #-1
 6125 00b4 F4D1     		bne	.L360
2835:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 6126              		.loc 1 2835 7 is_stmt 1 view .LVU2284
2835:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 6127              		.loc 1 2835 22 is_stmt 0 view .LVU2285
 6128 00b6 4FF00043 		mov	r3, #-2147483648
 6129 00ba 6363     		str	r3, [r4, #52]
2836:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_TIMEOUT;
 6130              		.loc 1 2836 7 is_stmt 1 view .LVU2286
2836:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_TIMEOUT;
 6131              		.loc 1 2836 18 is_stmt 0 view .LVU2287
 6132 00bc 0123     		movs	r3, #1
 6133 00be 84F83030 		strb	r3, [r4, #48]
2837:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6134              		.loc 1 2837 7 is_stmt 1 view .LVU2288
2837:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6135              		.loc 1 2837 14 is_stmt 0 view .LVU2289
 6136 00c2 0326     		movs	r6, #3
 6137              	.LVL477:
2837:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6138              		.loc 1 2837 14 view .LVU2290
 6139 00c4 15E0     		b	.L361
 6140              	.LVL478:
 6141              	.L365:
2567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6142              		.loc 1 2567 21 view .LVU2291
 6143 00c6 0026     		movs	r6, #0
 6144 00c8 E7E7     		b	.L357
 6145              	.L366:
2567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6146              		.loc 1 2567 21 view .LVU2292
 6147 00ca 0026     		movs	r6, #0
 6148 00cc E5E7     		b	.L357
 6149              	.L367:
2567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6150              		.loc 1 2567 21 view .LVU2293
 6151 00ce 0026     		movs	r6, #0
 6152 00d0 E3E7     		b	.L357
 6153              	.LVL479:
 6154              	.L369:
2842:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 6155              		.loc 1 2842 3 is_stmt 1 view .LVU2294
2842:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 6156              		.loc 1 2842 16 is_stmt 0 view .LVU2295
 6157 00d2 4FF40071 		mov	r1, #512
 6158 00d6 2068     		ldr	r0, [r4]
 6159 00d8 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 6160              	.LVL480:
2843:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6161              		.loc 1 2843 3 is_stmt 1 view .LVU2296
2843:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6162              		.loc 1 2843 6 is_stmt 0 view .LVU2297
 6163 00dc 30B1     		cbz	r0, .L363
2846:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 6164              		.loc 1 2846 5 is_stmt 1 view .LVU2298
 6165 00de 2368     		ldr	r3, [r4]
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 214


 6166 00e0 0749     		ldr	r1, .L370+8
 6167 00e2 9963     		str	r1, [r3, #56]
2847:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 6168              		.loc 1 2847 5 view .LVU2299
2847:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 6169              		.loc 1 2847 8 is_stmt 0 view .LVU2300
 6170 00e4 636B     		ldr	r3, [r4, #52]
2847:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 6171              		.loc 1 2847 20 view .LVU2301
 6172 00e6 0343     		orrs	r3, r3, r0
 6173 00e8 6363     		str	r3, [r4, #52]
2848:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6174              		.loc 1 2848 5 is_stmt 1 view .LVU2302
 6175              	.LVL481:
2848:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6176              		.loc 1 2848 12 is_stmt 0 view .LVU2303
 6177 00ea 0126     		movs	r6, #1
 6178              	.LVL482:
 6179              	.L363:
2852:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
 6180              		.loc 1 2852 3 is_stmt 1 view .LVU2304
2852:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
 6181              		.loc 1 2852 14 is_stmt 0 view .LVU2305
 6182 00ec 0123     		movs	r3, #1
 6183 00ee 84F83030 		strb	r3, [r4, #48]
2853:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6184              		.loc 1 2853 3 is_stmt 1 view .LVU2306
 6185              	.LVL483:
 6186              	.L361:
2854:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6187              		.loc 1 2854 1 is_stmt 0 view .LVU2307
 6188 00f2 3046     		mov	r0, r6
 6189 00f4 70BD     		pop	{r4, r5, r6, pc}
 6190              	.LVL484:
 6191              	.L371:
2854:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6192              		.loc 1 2854 1 view .LVU2308
 6193 00f6 00BF     		.align	2
 6194              	.L370:
 6195 00f8 01FFFF80 		.word	-2130706687
 6196 00fc 00FFFF80 		.word	-2130706688
 6197 0100 FF0FE01F 		.word	534777855
 6198              		.cfi_endproc
 6199              	.LFE168:
 6201              		.section	.text.HAL_SD_Abort,"ax",%progbits
 6202              		.align	1
 6203              		.global	HAL_SD_Abort
 6204              		.syntax unified
 6205              		.thumb
 6206              		.thumb_func
 6208              	HAL_SD_Abort:
 6209              	.LVL485:
 6210              	.LFB170:
2885:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t error_code;
 6211              		.loc 1 2885 1 is_stmt 1 view -0
 6212              		.cfi_startproc
 6213              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 215


 6214              		@ frame_needed = 0, uses_anonymous_args = 0
2885:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t error_code;
 6215              		.loc 1 2885 1 is_stmt 0 view .LVU2310
 6216 0000 70B5     		push	{r4, r5, r6, lr}
 6217              	.LCFI75:
 6218              		.cfi_def_cfa_offset 16
 6219              		.cfi_offset 4, -16
 6220              		.cfi_offset 5, -12
 6221              		.cfi_offset 6, -8
 6222              		.cfi_offset 14, -4
2886:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart;
 6223              		.loc 1 2886 3 is_stmt 1 view .LVU2311
2887:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6224              		.loc 1 2887 3 view .LVU2312
2889:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6225              		.loc 1 2889 3 view .LVU2313
2889:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6226              		.loc 1 2889 10 is_stmt 0 view .LVU2314
 6227 0002 90F83040 		ldrb	r4, [r0, #48]	@ zero_extendqisi2
 6228 0006 E4B2     		uxtb	r4, r4
2889:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6229              		.loc 1 2889 6 view .LVU2315
 6230 0008 032C     		cmp	r4, #3
 6231 000a 02D0     		beq	.L386
2971:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6232              		.loc 1 2971 10 view .LVU2316
 6233 000c 0024     		movs	r4, #0
 6234              	.LVL486:
 6235              	.L373:
2972:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6236              		.loc 1 2972 1 view .LVU2317
 6237 000e 2046     		mov	r0, r4
 6238 0010 70BD     		pop	{r4, r5, r6, pc}
 6239              	.LVL487:
 6240              	.L386:
2972:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6241              		.loc 1 2972 1 view .LVU2318
 6242 0012 0546     		mov	r5, r0
2892:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR);
 6243              		.loc 1 2892 5 is_stmt 1 view .LVU2319
 6244 0014 0268     		ldr	r2, [r0]
 6245 0016 D36B     		ldr	r3, [r2, #60]
 6246 0018 23F49D73 		bic	r3, r3, #314
 6247 001c D363     		str	r3, [r2, #60]
2894:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6248              		.loc 1 2894 5 view .LVU2320
 6249 001e 0268     		ldr	r2, [r0]
 6250 0020 D368     		ldr	r3, [r2, #12]
 6251 0022 23F04003 		bic	r3, r3, #64
 6252 0026 D360     		str	r3, [r2, #12]
2902:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     error_code = hsd->ErrorCode;
 6253              		.loc 1 2902 5 view .LVU2321
2902:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     error_code = hsd->ErrorCode;
 6254              		.loc 1 2902 22 is_stmt 0 view .LVU2322
 6255 0028 0068     		ldr	r0, [r0]
 6256              	.LVL488:
2902:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     error_code = hsd->ErrorCode;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 216


 6257              		.loc 1 2902 22 view .LVU2323
 6258 002a FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6259              	.LVL489:
2902:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     error_code = hsd->ErrorCode;
 6260              		.loc 1 2902 20 discriminator 1 view .LVU2324
 6261 002e 6863     		str	r0, [r5, #52]
2903:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((error_code != HAL_SD_ERROR_NONE) && (error_code != HAL_SD_ERROR_CMD_RSP_TIMEOUT))
 6262              		.loc 1 2903 5 is_stmt 1 view .LVU2325
2903:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((error_code != HAL_SD_ERROR_NONE) && (error_code != HAL_SD_ERROR_CMD_RSP_TIMEOUT))
 6263              		.loc 1 2903 16 is_stmt 0 view .LVU2326
 6264 0030 6B6B     		ldr	r3, [r5, #52]
 6265              	.LVL490:
2904:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6266              		.loc 1 2904 5 is_stmt 1 view .LVU2327
2904:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6267              		.loc 1 2904 8 is_stmt 0 view .LVU2328
 6268 0032 002B     		cmp	r3, #0
 6269 0034 18BF     		it	ne
 6270 0036 042B     		cmpne	r3, #4
 6271 0038 01D0     		beq	.L387
2906:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6272              		.loc 1 2906 14 view .LVU2329
 6273 003a 0124     		movs	r4, #1
 6274 003c E7E7     		b	.L373
 6275              	.L387:
2909:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((hsd->Instance->DCTRL & SDMMC_DCTRL_DTDIR) == SDMMC_TRANSFER_DIR_TO_CARD)
 6276              		.loc 1 2909 5 is_stmt 1 view .LVU2330
2909:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((hsd->Instance->DCTRL & SDMMC_DCTRL_DTDIR) == SDMMC_TRANSFER_DIR_TO_CARD)
 6277              		.loc 1 2909 17 is_stmt 0 view .LVU2331
 6278 003e FFF7FEFF 		bl	HAL_GetTick
 6279              	.LVL491:
2909:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((hsd->Instance->DCTRL & SDMMC_DCTRL_DTDIR) == SDMMC_TRANSFER_DIR_TO_CARD)
 6280              		.loc 1 2909 17 view .LVU2332
 6281 0042 0646     		mov	r6, r0
 6282              	.LVL492:
2910:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6283              		.loc 1 2910 5 is_stmt 1 view .LVU2333
2910:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6284              		.loc 1 2910 13 is_stmt 0 view .LVU2334
 6285 0044 2B68     		ldr	r3, [r5]
2910:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6286              		.loc 1 2910 23 view .LVU2335
 6287 0046 DA6A     		ldr	r2, [r3, #44]
2910:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6288              		.loc 1 2910 8 view .LVU2336
 6289 0048 12F0020F 		tst	r2, #2
 6290 004c 28D1     		bne	.L374
2912:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6291              		.loc 1 2912 7 is_stmt 1 view .LVU2337
2912:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6292              		.loc 1 2912 14 is_stmt 0 view .LVU2338
 6293 004e 6B6B     		ldr	r3, [r5, #52]
2912:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6294              		.loc 1 2912 10 view .LVU2339
 6295 0050 A3B1     		cbz	r3, .L375
 6296              	.LVL493:
 6297              	.L376:
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 217


2925:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6298              		.loc 1 2925 7 is_stmt 1 view .LVU2340
2925:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6299              		.loc 1 2925 14 is_stmt 0 view .LVU2341
 6300 0052 6B6B     		ldr	r3, [r5, #52]
2925:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6301              		.loc 1 2925 10 view .LVU2342
 6302 0054 042B     		cmp	r3, #4
 6303 0056 27D1     		bne	.L379
 6304              	.L378:
2927:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6305              		.loc 1 2927 16 is_stmt 1 view .LVU2343
2927:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6306              		.loc 1 2927 17 is_stmt 0 view .LVU2344
 6307 0058 2B68     		ldr	r3, [r5]
 6308 005a 5B6B     		ldr	r3, [r3, #52]
2927:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6309              		.loc 1 2927 16 view .LVU2345
 6310 005c 13F4807F 		tst	r3, #256
 6311 0060 22D1     		bne	.L379
2929:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 6312              		.loc 1 2929 11 is_stmt 1 view .LVU2346
2929:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 6313              		.loc 1 2929 16 is_stmt 0 view .LVU2347
 6314 0062 FFF7FEFF 		bl	HAL_GetTick
 6315              	.LVL494:
2929:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 6316              		.loc 1 2929 30 discriminator 1 view .LVU2348
 6317 0066 801B     		subs	r0, r0, r6
2929:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 6318              		.loc 1 2929 14 discriminator 1 view .LVU2349
 6319 0068 B0F1FF3F 		cmp	r0, #-1
 6320 006c F4D1     		bne	.L378
2931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->State = HAL_SD_STATE_READY;
 6321              		.loc 1 2931 13 is_stmt 1 view .LVU2350
2931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->State = HAL_SD_STATE_READY;
 6322              		.loc 1 2931 28 is_stmt 0 view .LVU2351
 6323 006e 4FF00043 		mov	r3, #-2147483648
 6324 0072 6B63     		str	r3, [r5, #52]
2932:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             return HAL_TIMEOUT;
 6325              		.loc 1 2932 13 is_stmt 1 view .LVU2352
2932:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             return HAL_TIMEOUT;
 6326              		.loc 1 2932 24 is_stmt 0 view .LVU2353
 6327 0074 0123     		movs	r3, #1
 6328 0076 85F83030 		strb	r3, [r5, #48]
2933:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 6329              		.loc 1 2933 13 is_stmt 1 view .LVU2354
2933:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 6330              		.loc 1 2933 20 is_stmt 0 view .LVU2355
 6331 007a C8E7     		b	.L373
 6332              	.L375:
2914:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6333              		.loc 1 2914 16 is_stmt 1 view .LVU2356
2914:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6334              		.loc 1 2914 17 is_stmt 0 view .LVU2357
 6335 007c 2B68     		ldr	r3, [r5]
 6336 007e 5A6B     		ldr	r2, [r3, #52]
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 218


2914:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6337              		.loc 1 2914 16 view .LVU2358
 6338 0080 1A4B     		ldr	r3, .L388
 6339 0082 1A42     		tst	r2, r3
 6340 0084 E5D1     		bne	.L376
2916:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 6341              		.loc 1 2916 11 is_stmt 1 view .LVU2359
2916:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 6342              		.loc 1 2916 16 is_stmt 0 view .LVU2360
 6343 0086 FFF7FEFF 		bl	HAL_GetTick
 6344              	.LVL495:
2916:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 6345              		.loc 1 2916 30 discriminator 1 view .LVU2361
 6346 008a 831B     		subs	r3, r0, r6
2916:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 6347              		.loc 1 2916 14 discriminator 1 view .LVU2362
 6348 008c B3F1FF3F 		cmp	r3, #-1
 6349 0090 F4D1     		bne	.L375
2918:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->State = HAL_SD_STATE_READY;
 6350              		.loc 1 2918 13 is_stmt 1 view .LVU2363
2918:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->State = HAL_SD_STATE_READY;
 6351              		.loc 1 2918 28 is_stmt 0 view .LVU2364
 6352 0092 4FF00043 		mov	r3, #-2147483648
 6353 0096 6B63     		str	r3, [r5, #52]
2919:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             return HAL_TIMEOUT;
 6354              		.loc 1 2919 13 is_stmt 1 view .LVU2365
2919:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             return HAL_TIMEOUT;
 6355              		.loc 1 2919 24 is_stmt 0 view .LVU2366
 6356 0098 0123     		movs	r3, #1
 6357 009a 85F83030 		strb	r3, [r5, #48]
2920:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 6358              		.loc 1 2920 13 is_stmt 1 view .LVU2367
2920:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 6359              		.loc 1 2920 20 is_stmt 0 view .LVU2368
 6360 009e B6E7     		b	.L373
 6361              	.LVL496:
 6362              	.L374:
2938:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6363              		.loc 1 2938 10 is_stmt 1 view .LVU2369
2938:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6364              		.loc 1 2938 28 is_stmt 0 view .LVU2370
 6365 00a0 DB6A     		ldr	r3, [r3, #44]
2938:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6366              		.loc 1 2938 13 view .LVU2371
 6367 00a2 13F0020F 		tst	r3, #2
 6368 00a6 0ED1     		bne	.L381
 6369              	.LVL497:
 6370              	.L379:
2953:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6371              		.loc 1 2953 5 is_stmt 1 view .LVU2372
2961:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
 6372              		.loc 1 2961 5 view .LVU2373
 6373 00a8 2B68     		ldr	r3, [r5]
 6374 00aa 4FF40012 		mov	r2, #2097152
 6375 00ae 9A63     		str	r2, [r3, #56]
2962:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* If IDMA Context, disable Internal DMA */
 6376              		.loc 1 2962 5 view .LVU2374
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 219


 6377 00b0 2B68     		ldr	r3, [r5]
 6378 00b2 0F4A     		ldr	r2, .L388+4
 6379 00b4 9A63     		str	r2, [r3, #56]
2964:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6380              		.loc 1 2964 5 view .LVU2375
2964:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6381              		.loc 1 2964 8 is_stmt 0 view .LVU2376
 6382 00b6 2B68     		ldr	r3, [r5]
2964:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6383              		.loc 1 2964 29 view .LVU2377
 6384 00b8 0024     		movs	r4, #0
 6385 00ba 1C65     		str	r4, [r3, #80]
2966:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6386              		.loc 1 2966 5 is_stmt 1 view .LVU2378
2966:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6387              		.loc 1 2966 16 is_stmt 0 view .LVU2379
 6388 00bc 0123     		movs	r3, #1
 6389 00be 85F83030 		strb	r3, [r5, #48]
2969:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6390              		.loc 1 2969 5 is_stmt 1 view .LVU2380
2969:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6391              		.loc 1 2969 18 is_stmt 0 view .LVU2381
 6392 00c2 EC62     		str	r4, [r5, #44]
 6393 00c4 A3E7     		b	.L373
 6394              	.L381:
2940:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6395              		.loc 1 2940 14 is_stmt 1 view .LVU2382
2940:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6396              		.loc 1 2940 15 is_stmt 0 view .LVU2383
 6397 00c6 2B68     		ldr	r3, [r5]
 6398 00c8 5B6B     		ldr	r3, [r3, #52]
2940:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6399              		.loc 1 2940 14 view .LVU2384
 6400 00ca 13F4106F 		tst	r3, #2304
 6401 00ce EBD1     		bne	.L379
2942:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6402              		.loc 1 2942 9 is_stmt 1 view .LVU2385
2942:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6403              		.loc 1 2942 14 is_stmt 0 view .LVU2386
 6404 00d0 FFF7FEFF 		bl	HAL_GetTick
 6405              	.LVL498:
2942:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6406              		.loc 1 2942 28 discriminator 1 view .LVU2387
 6407 00d4 831B     		subs	r3, r0, r6
2942:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6408              		.loc 1 2942 12 discriminator 1 view .LVU2388
 6409 00d6 B3F1FF3F 		cmp	r3, #-1
 6410 00da F4D1     		bne	.L381
2944:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 6411              		.loc 1 2944 11 is_stmt 1 view .LVU2389
2944:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 6412              		.loc 1 2944 26 is_stmt 0 view .LVU2390
 6413 00dc 4FF00043 		mov	r3, #-2147483648
 6414 00e0 6B63     		str	r3, [r5, #52]
2945:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return HAL_TIMEOUT;
 6415              		.loc 1 2945 11 is_stmt 1 view .LVU2391
2945:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return HAL_TIMEOUT;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 220


 6416              		.loc 1 2945 22 is_stmt 0 view .LVU2392
 6417 00e2 0123     		movs	r3, #1
 6418 00e4 85F83030 		strb	r3, [r5, #48]
2946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 6419              		.loc 1 2946 11 is_stmt 1 view .LVU2393
2946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 6420              		.loc 1 2946 18 is_stmt 0 view .LVU2394
 6421 00e8 91E7     		b	.L373
 6422              	.L389:
 6423 00ea 00BF     		.align	2
 6424              	.L388:
 6425 00ec 00082000 		.word	2099200
 6426 00f0 3A0F0018 		.word	402657082
 6427              		.cfi_endproc
 6428              	.LFE170:
 6430              		.section	.text.HAL_SD_Abort_IT,"ax",%progbits
 6431              		.align	1
 6432              		.global	HAL_SD_Abort_IT
 6433              		.syntax unified
 6434              		.thumb
 6435              		.thumb_func
 6437              	HAL_SD_Abort_IT:
 6438              	.LVL499:
 6439              	.LFB171:
2981:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 6440              		.loc 1 2981 1 is_stmt 1 view -0
 6441              		.cfi_startproc
 6442              		@ args = 0, pretend = 0, frame = 0
 6443              		@ frame_needed = 0, uses_anonymous_args = 0
2981:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 6444              		.loc 1 2981 1 is_stmt 0 view .LVU2396
 6445 0000 10B5     		push	{r4, lr}
 6446              	.LCFI76:
 6447              		.cfi_def_cfa_offset 8
 6448              		.cfi_offset 4, -8
 6449              		.cfi_offset 14, -4
 6450 0002 0446     		mov	r4, r0
2982:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6451              		.loc 1 2982 3 is_stmt 1 view .LVU2397
2985:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                       SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR);
 6452              		.loc 1 2985 3 view .LVU2398
 6453 0004 0268     		ldr	r2, [r0]
 6454 0006 D36B     		ldr	r3, [r2, #60]
 6455 0008 23F49D73 		bic	r3, r3, #314
 6456 000c D363     		str	r3, [r2, #60]
2989:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6457              		.loc 1 2989 3 view .LVU2399
2989:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6458              		.loc 1 2989 6 is_stmt 0 view .LVU2400
 6459 000e 0368     		ldr	r3, [r0]
2989:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6460              		.loc 1 2989 27 view .LVU2401
 6461 0010 0022     		movs	r2, #0
 6462 0012 1A65     		str	r2, [r3, #80]
2992:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6463              		.loc 1 2992 3 is_stmt 1 view .LVU2402
 6464 0014 0368     		ldr	r3, [r0]
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 221


 6465 0016 0C4A     		ldr	r2, .L397
 6466 0018 9A63     		str	r2, [r3, #56]
2994:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 6467              		.loc 1 2994 3 view .LVU2403
2994:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 6468              		.loc 1 2994 15 is_stmt 0 view .LVU2404
 6469 001a FFF7FEFF 		bl	HAL_SD_GetCardState
 6470              	.LVL500:
2995:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6471              		.loc 1 2995 3 is_stmt 1 view .LVU2405
2995:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6472              		.loc 1 2995 14 is_stmt 0 view .LVU2406
 6473 001e 0123     		movs	r3, #1
 6474 0020 84F83030 		strb	r3, [r4, #48]
2997:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6475              		.loc 1 2997 3 is_stmt 1 view .LVU2407
2997:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6476              		.loc 1 2997 44 is_stmt 0 view .LVU2408
 6477 0024 0538     		subs	r0, r0, #5
 6478              	.LVL501:
2997:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6479              		.loc 1 2997 6 view .LVU2409
 6480 0026 9842     		cmp	r0, r3
 6481 0028 03D9     		bls	.L395
 6482              	.LVL502:
 6483              	.L391:
3002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6484              		.loc 1 3002 3 is_stmt 1 view .LVU2410
3002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6485              		.loc 1 3002 10 is_stmt 0 view .LVU2411
 6486 002a 636B     		ldr	r3, [r4, #52]
3002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6487              		.loc 1 3002 6 view .LVU2412
 6488 002c 33B1     		cbz	r3, .L396
3004:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6489              		.loc 1 3004 12 view .LVU2413
 6490 002e 0120     		movs	r0, #1
 6491              	.L392:
3016:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6492              		.loc 1 3016 1 view .LVU2414
 6493 0030 10BD     		pop	{r4, pc}
 6494              	.LVL503:
 6495              	.L395:
2999:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6496              		.loc 1 2999 5 is_stmt 1 view .LVU2415
2999:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6497              		.loc 1 2999 22 is_stmt 0 view .LVU2416
 6498 0032 2068     		ldr	r0, [r4]
 6499              	.LVL504:
2999:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6500              		.loc 1 2999 22 view .LVU2417
 6501 0034 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6502              	.LVL505:
2999:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6503              		.loc 1 2999 20 discriminator 1 view .LVU2418
 6504 0038 6063     		str	r0, [r4, #52]
 6505 003a F6E7     		b	.L391
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 222


 6506              	.L396:
3011:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6507              		.loc 1 3011 5 is_stmt 1 view .LVU2419
 6508 003c 2046     		mov	r0, r4
 6509 003e FFF7FEFF 		bl	HAL_SD_AbortCallback
 6510              	.LVL506:
3015:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6511              		.loc 1 3015 3 view .LVU2420
3015:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6512              		.loc 1 3015 10 is_stmt 0 view .LVU2421
 6513 0042 0020     		movs	r0, #0
 6514 0044 F4E7     		b	.L392
 6515              	.L398:
 6516 0046 00BF     		.align	2
 6517              	.L397:
 6518 0048 3A0F0018 		.word	402657082
 6519              		.cfi_endproc
 6520              	.LFE171:
 6522              		.section	.text.HAL_SDEx_Read_DMADoubleBuf0CpltCallback,"ax",%progbits
 6523              		.align	1
 6524              		.weak	HAL_SDEx_Read_DMADoubleBuf0CpltCallback
 6525              		.syntax unified
 6526              		.thumb
 6527              		.thumb_func
 6529              	HAL_SDEx_Read_DMADoubleBuf0CpltCallback:
 6530              	.LVL507:
 6531              	.LFB183:
3812:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3813:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
3814:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3815:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Switches the SD card to Ultra High Speed mode.
3816:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         This API must be used after "Transfer State"
3817:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This operation should be followed by the configuration
3818:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         of PLL to have SDMMCCK clock between 50 and 120 MHz
3819:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: SD handle
3820:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  UltraHighSpeedMode: SD speed mode( SDMMC_SDR50_SWITCH_PATTERN, SDMMC_SDR104_SWITCH_PATT
3821:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval SD Card error state
3822:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3823:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_UltraHighSpeed(SD_HandleTypeDef *hsd, uint32_t UltraHighSpeedMode)
3824:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
3825:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate = HAL_SD_ERROR_NONE;
3826:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef sdmmc_datainitstructure;
3827:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t SD_hs[16]  = {0};
3828:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
3829:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t loop = 0 ;
3830:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t Timeout = HAL_GetTick();
3831:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3832:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardSpeed == CARD_NORMAL_SPEED)
3833:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3834:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Standard Speed Card <= 12.5Mhz  */
3835:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
3836:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3837:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3838:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardSpeed == CARD_ULTRA_HIGH_SPEED)
3839:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3840:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize the Data control register */
3841:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 223


3842:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
3843:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3844:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3845:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3846:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3847:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3848:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3849:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
3850:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataTimeOut   = SDMMC_DATATIMEOUT;
3851:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataLength    = 64U;
3852:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B ;
3853:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
3854:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
3855:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DPSM          = SDMMC_DPSM_ENABLE;
3856:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3857:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (SDMMC_ConfigData(hsd->Instance, &sdmmc_datainitstructure) != HAL_OK)
3858:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3859:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return (HAL_SD_ERROR_GENERAL_UNKNOWN_ERR);
3860:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3861:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3862:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdSwitch(hsd->Instance, UltraHighSpeedMode);
3863:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3864:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3865:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3866:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3867:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3868:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT |
3869:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
3870:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3871:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF))
3872:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3873:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         for (count = 0U; count < 8U; count++)
3874:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
3875:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           SD_hs[(8U * loop) + count]  = SDMMC_ReadFIFO(hsd->Instance);
3876:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
3877:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         loop ++;
3878:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3879:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3880:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((HAL_GetTick() - Timeout) >=  SDMMC_SWDATATIMEOUT)
3881:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3882:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
3883:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
3884:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_SD_ERROR_TIMEOUT;
3885:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3886:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3887:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3888:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
3889:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3890:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DTIMEOUT);
3891:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3892:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3893:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3894:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
3895:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3896:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DCRCFAIL);
3897:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3898:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_DATA_CRC_FAIL;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 224


3899:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3900:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3901:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3902:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
3903:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3904:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_RXOVERR);
3905:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3906:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_RX_OVERRUN;
3907:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3908:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3909:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3910:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
3911:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3912:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* No error flag set */
3913:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3914:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3915:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
3916:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
3917:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3918:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Test if the switch mode HS is ok */
3919:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((((uint8_t *)SD_hs)[13] & 2U) != 2U)
3920:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3921:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_UNSUPPORTED_FEATURE;
3922:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3923:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
3924:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3925:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
3926:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->DriveTransceiver_1_8V_Callback(SET);
3927:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
3928:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       HAL_SD_DriveTransceiver_1_8V_Callback(SET);
3929:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
3930:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (DLYB_SDMMC1) || defined (DLYB_SDMMC2)
3931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Enable DelayBlock Peripheral */
3932:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* SDMMC_FB_CLK tuned feedback clock selected as receive clock, for SDR104 */
3933:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       MODIFY_REG(hsd->Instance->CLKCR, SDMMC_CLKCR_SELCLKRX, SDMMC_CLKCR_SELCLKRX_1);
3934:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (DelayBlock_Enable(SD_GET_DLYB_INSTANCE(hsd->Instance)) != HAL_OK)
3935:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3936:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return (HAL_SD_ERROR_GENERAL_UNKNOWN_ERR);
3937:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3938:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* (DLYB_SDMMC1) || (DLYB_SDMMC2) */
3939:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3940:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3941:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3942:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return errorstate;
3943:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
3944:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3945:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Switches the SD card to Double Data Rate (DDR) mode.
3947:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         This API must be used after "Transfer State"
3948:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This operation should be followed by the configuration
3949:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         of PLL to have SDMMCCK clock less than 50MHz
3950:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: SD handle
3951:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval SD Card error state
3952:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3953:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_DDR_Mode(SD_HandleTypeDef *hsd)
3954:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
3955:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate = HAL_SD_ERROR_NONE;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 225


3956:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef sdmmc_datainitstructure;
3957:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t SD_hs[16]  = {0};
3958:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
3959:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t loop = 0 ;
3960:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t Timeout = HAL_GetTick();
3961:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3962:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardSpeed == CARD_NORMAL_SPEED)
3963:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3964:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Standard Speed Card <= 12.5Mhz  */
3965:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
3966:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3967:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3968:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardSpeed == CARD_ULTRA_HIGH_SPEED)
3969:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3970:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize the Data control register */
3971:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0;
3972:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
3973:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3974:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3975:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3976:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3977:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3978:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3979:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
3980:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataTimeOut   = SDMMC_DATATIMEOUT;
3981:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataLength    = 64U;
3982:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B ;
3983:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
3984:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
3985:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DPSM          = SDMMC_DPSM_ENABLE;
3986:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3987:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (SDMMC_ConfigData(hsd->Instance, &sdmmc_datainitstructure) != HAL_OK)
3988:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3989:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return (HAL_SD_ERROR_GENERAL_UNKNOWN_ERR);
3990:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3991:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3992:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdSwitch(hsd->Instance, SDMMC_DDR50_SWITCH_PATTERN);
3993:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3994:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3995:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3996:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3997:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3998:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT |
3999:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
4000:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
4001:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF))
4002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
4003:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         for (count = 0U; count < 8U; count++)
4004:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
4005:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           SD_hs[(8U * loop) + count]  = SDMMC_ReadFIFO(hsd->Instance);
4006:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
4007:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         loop ++;
4008:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
4009:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4010:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((HAL_GetTick() - Timeout) >=  SDMMC_SWDATATIMEOUT)
4011:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
4012:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 226


4013:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
4014:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_SD_ERROR_TIMEOUT;
4015:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
4016:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
4017:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4018:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
4019:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
4020:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DTIMEOUT);
4021:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4022:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
4023:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
4024:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
4025:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
4026:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DCRCFAIL);
4027:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4028:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_DATA_CRC_FAIL;
4029:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4030:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
4031:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
4032:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
4033:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
4034:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_RXOVERR);
4035:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4036:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_RX_OVERRUN;
4037:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4038:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
4039:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
4040:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
4041:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
4042:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* No error flag set */
4043:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
4044:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4045:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
4046:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
4047:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4048:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Test if the switch mode  is ok */
4049:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((((uint8_t *)SD_hs)[13] & 2U) != 2U)
4050:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
4051:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_UNSUPPORTED_FEATURE;
4052:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
4053:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
4054:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
4055:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
4056:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->DriveTransceiver_1_8V_Callback(SET);
4057:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
4058:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       HAL_SD_DriveTransceiver_1_8V_Callback(SET);
4059:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
4060:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (DLYB_SDMMC1) || defined (DLYB_SDMMC2)
4061:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Enable DelayBlock Peripheral */
4062:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* SDMMC_CKin feedback clock selected as receive clock, for DDR50 */
4063:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       MODIFY_REG(hsd->Instance->CLKCR, SDMMC_CLKCR_SELCLKRX, SDMMC_CLKCR_SELCLKRX_0);
4064:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (DelayBlock_Enable(SD_GET_DLYB_INSTANCE(hsd->Instance)) != HAL_OK)
4065:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
4066:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return (HAL_SD_ERROR_GENERAL_UNKNOWN_ERR);
4067:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
4068:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* (DLYB_SDMMC1) || (DLYB_SDMMC2) */
4069:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 227


4070:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
4071:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4072:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return errorstate;
4073:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
4074:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4075:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER */
4076:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4077:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
4078:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief Read DMA Buffer 0 Transfer completed callbacks
4079:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: SD handle
4080:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
4081:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
4082:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SDEx_Read_DMADoubleBuf0CpltCallback(SD_HandleTypeDef *hsd)
4083:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 6532              		.loc 1 4083 1 is_stmt 1 view -0
 6533              		.cfi_startproc
 6534              		@ args = 0, pretend = 0, frame = 0
 6535              		@ frame_needed = 0, uses_anonymous_args = 0
 6536              		@ link register save eliminated.
4084:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
4085:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
 6537              		.loc 1 4085 3 view .LVU2423
4086:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4087:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
4088:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SDEx_Read_DMADoubleBuf0CpltCallback can be implemented in the user file
4089:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
4090:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6538              		.loc 1 4090 1 is_stmt 0 view .LVU2424
 6539 0000 7047     		bx	lr
 6540              		.cfi_endproc
 6541              	.LFE183:
 6543              		.section	.text.HAL_SDEx_Read_DMADoubleBuf1CpltCallback,"ax",%progbits
 6544              		.align	1
 6545              		.weak	HAL_SDEx_Read_DMADoubleBuf1CpltCallback
 6546              		.syntax unified
 6547              		.thumb
 6548              		.thumb_func
 6550              	HAL_SDEx_Read_DMADoubleBuf1CpltCallback:
 6551              	.LVL508:
 6552              	.LFB184:
4091:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4092:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
4093:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief Read DMA Buffer 1 Transfer completed callbacks
4094:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: SD handle
4095:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
4096:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
4097:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SDEx_Read_DMADoubleBuf1CpltCallback(SD_HandleTypeDef *hsd)
4098:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 6553              		.loc 1 4098 1 is_stmt 1 view -0
 6554              		.cfi_startproc
 6555              		@ args = 0, pretend = 0, frame = 0
 6556              		@ frame_needed = 0, uses_anonymous_args = 0
 6557              		@ link register save eliminated.
4099:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
4100:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
 6558              		.loc 1 4100 3 view .LVU2426
4101:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 228


4102:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
4103:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SDEx_Read_DMADoubleBuf1CpltCallback can be implemented in the user file
4104:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
4105:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6559              		.loc 1 4105 1 is_stmt 0 view .LVU2427
 6560 0000 7047     		bx	lr
 6561              		.cfi_endproc
 6562              	.LFE184:
 6564              		.section	.text.HAL_SDEx_Write_DMADoubleBuf0CpltCallback,"ax",%progbits
 6565              		.align	1
 6566              		.weak	HAL_SDEx_Write_DMADoubleBuf0CpltCallback
 6567              		.syntax unified
 6568              		.thumb
 6569              		.thumb_func
 6571              	HAL_SDEx_Write_DMADoubleBuf0CpltCallback:
 6572              	.LVL509:
 6573              	.LFB185:
4106:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4107:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
4108:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief Write DMA Buffer 0 Transfer completed callbacks
4109:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: SD handle
4110:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
4111:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
4112:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SDEx_Write_DMADoubleBuf0CpltCallback(SD_HandleTypeDef *hsd)
4113:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 6574              		.loc 1 4113 1 is_stmt 1 view -0
 6575              		.cfi_startproc
 6576              		@ args = 0, pretend = 0, frame = 0
 6577              		@ frame_needed = 0, uses_anonymous_args = 0
 6578              		@ link register save eliminated.
4114:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
4115:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
 6579              		.loc 1 4115 3 view .LVU2429
4116:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4117:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
4118:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SDEx_Write_DMADoubleBuf0CpltCallback can be implemented in the user file
4119:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
4120:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6580              		.loc 1 4120 1 is_stmt 0 view .LVU2430
 6581 0000 7047     		bx	lr
 6582              		.cfi_endproc
 6583              	.LFE185:
 6585              		.section	.text.HAL_SDEx_Write_DMADoubleBuf1CpltCallback,"ax",%progbits
 6586              		.align	1
 6587              		.weak	HAL_SDEx_Write_DMADoubleBuf1CpltCallback
 6588              		.syntax unified
 6589              		.thumb
 6590              		.thumb_func
 6592              	HAL_SDEx_Write_DMADoubleBuf1CpltCallback:
 6593              	.LVL510:
 6594              	.LFB186:
4121:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4122:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
4123:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief Write DMA Buffer 1 Transfer completed callbacks
4124:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: SD handle
4125:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
4126:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 229


4127:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SDEx_Write_DMADoubleBuf1CpltCallback(SD_HandleTypeDef *hsd)
4128:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 6595              		.loc 1 4128 1 is_stmt 1 view -0
 6596              		.cfi_startproc
 6597              		@ args = 0, pretend = 0, frame = 0
 6598              		@ frame_needed = 0, uses_anonymous_args = 0
 6599              		@ link register save eliminated.
4129:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
4130:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
 6600              		.loc 1 4130 3 view .LVU2432
4131:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4132:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
4133:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SDEx_Write_DMADoubleBuf1CpltCallback can be implemented in the user file
4134:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
4135:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6601              		.loc 1 4135 1 is_stmt 0 view .LVU2433
 6602 0000 7047     		bx	lr
 6603              		.cfi_endproc
 6604              	.LFE186:
 6606              		.section	.text.HAL_SD_IRQHandler,"ax",%progbits
 6607              		.align	1
 6608              		.global	HAL_SD_IRQHandler
 6609              		.syntax unified
 6610              		.thumb
 6611              		.thumb_func
 6613              	HAL_SD_IRQHandler:
 6614              	.LVL511:
 6615              	.LFB156:
1531:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 6616              		.loc 1 1531 1 is_stmt 1 view -0
 6617              		.cfi_startproc
 6618              		@ args = 0, pretend = 0, frame = 0
 6619              		@ frame_needed = 0, uses_anonymous_args = 0
1531:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 6620              		.loc 1 1531 1 is_stmt 0 view .LVU2435
 6621 0000 38B5     		push	{r3, r4, r5, lr}
 6622              	.LCFI77:
 6623              		.cfi_def_cfa_offset 16
 6624              		.cfi_offset 3, -16
 6625              		.cfi_offset 4, -12
 6626              		.cfi_offset 5, -8
 6627              		.cfi_offset 14, -4
 6628 0002 0446     		mov	r4, r0
1532:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t context = hsd->Context;
 6629              		.loc 1 1532 3 is_stmt 1 view .LVU2436
1533:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6630              		.loc 1 1533 3 view .LVU2437
1533:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6631              		.loc 1 1533 12 is_stmt 0 view .LVU2438
 6632 0004 C56A     		ldr	r5, [r0, #44]
 6633              	.LVL512:
1536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6634              		.loc 1 1536 3 is_stmt 1 view .LVU2439
1536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6635              		.loc 1 1536 8 is_stmt 0 view .LVU2440
 6636 0006 0368     		ldr	r3, [r0]
 6637 0008 5A6B     		ldr	r2, [r3, #52]
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 230


1536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6638              		.loc 1 1536 6 view .LVU2441
 6639 000a 12F4004F 		tst	r2, #32768
 6640 000e 02D0     		beq	.L404
1536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6641              		.loc 1 1536 62 discriminator 1 view .LVU2442
 6642 0010 15F0080F 		tst	r5, #8
 6643 0014 2AD1     		bne	.L423
 6644              	.L404:
1541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6645              		.loc 1 1541 8 is_stmt 1 view .LVU2443
1541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6646              		.loc 1 1541 12 is_stmt 0 view .LVU2444
 6647 0016 5A6B     		ldr	r2, [r3, #52]
1541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6648              		.loc 1 1541 11 view .LVU2445
 6649 0018 12F4807F 		tst	r2, #256
 6650 001c 67D0     		beq	.L406
1543:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6651              		.loc 1 1543 5 is_stmt 1 view .LVU2446
 6652 001e 4FF48072 		mov	r2, #256
 6653 0022 9A63     		str	r2, [r3, #56]
1545:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR  | SDMMC_IT_TXFIFOHE | \
 6654              		.loc 1 1545 5 view .LVU2447
 6655 0024 2268     		ldr	r2, [r4]
 6656 0026 D16B     		ldr	r1, [r2, #60]
 6657 0028 7E4B     		ldr	r3, .L429
 6658 002a 0B40     		ands	r3, r3, r1
 6659 002c D363     		str	r3, [r2, #60]
1549:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE(hsd->Instance);
 6660              		.loc 1 1549 5 view .LVU2448
 6661 002e 2268     		ldr	r2, [r4]
 6662 0030 D36B     		ldr	r3, [r2, #60]
 6663 0032 23F08053 		bic	r3, r3, #268435456
 6664 0036 D363     		str	r3, [r2, #60]
1550:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6665              		.loc 1 1550 5 view .LVU2449
 6666 0038 2268     		ldr	r2, [r4]
 6667 003a D368     		ldr	r3, [r2, #12]
 6668 003c 23F04003 		bic	r3, r3, #64
 6669 0040 D360     		str	r3, [r2, #12]
1552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6670              		.loc 1 1552 5 view .LVU2450
1552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6671              		.loc 1 1552 8 is_stmt 0 view .LVU2451
 6672 0042 15F0080F 		tst	r5, #8
 6673 0046 25D0     		beq	.L407
1554:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6674              		.loc 1 1554 7 is_stmt 1 view .LVU2452
1554:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6675              		.loc 1 1554 10 is_stmt 0 view .LVU2453
 6676 0048 15F0220F 		tst	r5, #34
 6677 004c 11D1     		bne	.L424
 6678              	.LVL513:
 6679              	.L408:
1569:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6680              		.loc 1 1569 7 is_stmt 1 view .LVU2454
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 231


 6681 004e 2368     		ldr	r3, [r4]
 6682 0050 754A     		ldr	r2, .L429+4
 6683 0052 9A63     		str	r2, [r3, #56]
1571:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6684              		.loc 1 1571 7 view .LVU2455
1571:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6685              		.loc 1 1571 18 is_stmt 0 view .LVU2456
 6686 0054 0123     		movs	r3, #1
 6687 0056 84F83030 		strb	r3, [r4, #48]
1572:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIPLE_
 6688              		.loc 1 1572 7 is_stmt 1 view .LVU2457
1572:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIPLE_
 6689              		.loc 1 1572 20 is_stmt 0 view .LVU2458
 6690 005a 0023     		movs	r3, #0
 6691 005c E362     		str	r3, [r4, #44]
1573:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6692              		.loc 1 1573 7 is_stmt 1 view .LVU2459
1573:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6693              		.loc 1 1573 10 is_stmt 0 view .LVU2460
 6694 005e 15F0030F 		tst	r5, #3
 6695 0062 13D0     		beq	.L409
1578:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6696              		.loc 1 1578 9 is_stmt 1 view .LVU2461
 6697 0064 2046     		mov	r0, r4
 6698 0066 FFF7FEFF 		bl	HAL_SD_RxCpltCallback
 6699              	.LVL514:
 6700 006a 01E0     		b	.L403
 6701              	.LVL515:
 6702              	.L423:
1538:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6703              		.loc 1 1538 5 view .LVU2462
 6704 006c FFF7FEFF 		bl	SD_Read_IT
 6705              	.LVL516:
 6706              	.L403:
1758:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6707              		.loc 1 1758 1 is_stmt 0 view .LVU2463
 6708 0070 38BD     		pop	{r3, r4, r5, pc}
 6709              	.LVL517:
 6710              	.L424:
1556:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 6711              		.loc 1 1556 9 is_stmt 1 view .LVU2464
1556:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 6712              		.loc 1 1556 22 is_stmt 0 view .LVU2465
 6713 0072 2068     		ldr	r0, [r4]
 6714              	.LVL518:
1556:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 6715              		.loc 1 1556 22 view .LVU2466
 6716 0074 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6717              	.LVL519:
1557:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6718              		.loc 1 1557 9 is_stmt 1 view .LVU2467
1557:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6719              		.loc 1 1557 12 is_stmt 0 view .LVU2468
 6720 0078 0346     		mov	r3, r0
 6721 007a 0028     		cmp	r0, #0
 6722 007c E7D0     		beq	.L408
1559:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 232


 6723              		.loc 1 1559 11 is_stmt 1 view .LVU2469
1559:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6724              		.loc 1 1559 14 is_stmt 0 view .LVU2470
 6725 007e 626B     		ldr	r2, [r4, #52]
1559:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6726              		.loc 1 1559 26 view .LVU2471
 6727 0080 1343     		orrs	r3, r3, r2
 6728 0082 6363     		str	r3, [r4, #52]
1563:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6729              		.loc 1 1563 11 is_stmt 1 view .LVU2472
 6730 0084 2046     		mov	r0, r4
 6731              	.LVL520:
1563:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6732              		.loc 1 1563 11 is_stmt 0 view .LVU2473
 6733 0086 FFF7FEFF 		bl	HAL_SD_ErrorCallback
 6734              	.LVL521:
 6735 008a E0E7     		b	.L408
 6736              	.LVL522:
 6737              	.L409:
1586:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6738              		.loc 1 1586 9 is_stmt 1 view .LVU2474
 6739 008c 2046     		mov	r0, r4
 6740 008e FFF7FEFF 		bl	HAL_SD_TxCpltCallback
 6741              	.LVL523:
 6742 0092 EDE7     		b	.L403
 6743              	.LVL524:
 6744              	.L407:
1590:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6745              		.loc 1 1590 10 view .LVU2475
1590:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6746              		.loc 1 1590 13 is_stmt 0 view .LVU2476
 6747 0094 15F0800F 		tst	r5, #128
 6748 0098 EAD0     		beq	.L403
1592:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->DCTRL = 0;
 6749              		.loc 1 1592 7 is_stmt 1 view .LVU2477
1592:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->DCTRL = 0;
 6750              		.loc 1 1592 10 is_stmt 0 view .LVU2478
 6751 009a 2268     		ldr	r2, [r4]
1592:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->DCTRL = 0;
 6752              		.loc 1 1592 27 view .LVU2479
 6753 009c 0023     		movs	r3, #0
 6754 009e 9362     		str	r3, [r2, #40]
1593:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
 6755              		.loc 1 1593 7 is_stmt 1 view .LVU2480
1593:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
 6756              		.loc 1 1593 10 is_stmt 0 view .LVU2481
 6757 00a0 2268     		ldr	r2, [r4]
1593:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
 6758              		.loc 1 1593 28 view .LVU2482
 6759 00a2 D362     		str	r3, [r2, #44]
1594:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6760              		.loc 1 1594 7 is_stmt 1 view .LVU2483
1594:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6761              		.loc 1 1594 10 is_stmt 0 view .LVU2484
 6762 00a4 2268     		ldr	r2, [r4]
1594:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6763              		.loc 1 1594 31 view .LVU2485
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 233


 6764 00a6 1365     		str	r3, [r2, #80]
1597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6765              		.loc 1 1597 7 is_stmt 1 view .LVU2486
1597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6766              		.loc 1 1597 10 is_stmt 0 view .LVU2487
 6767 00a8 15F0220F 		tst	r5, #34
 6768 00ac 0ED1     		bne	.L425
 6769              	.LVL525:
 6770              	.L410:
1611:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6771              		.loc 1 1611 7 is_stmt 1 view .LVU2488
1611:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6772              		.loc 1 1611 18 is_stmt 0 view .LVU2489
 6773 00ae 0123     		movs	r3, #1
 6774 00b0 84F83030 		strb	r3, [r4, #48]
1612:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPL
 6775              		.loc 1 1612 7 is_stmt 1 view .LVU2490
1612:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPL
 6776              		.loc 1 1612 20 is_stmt 0 view .LVU2491
 6777 00b4 0023     		movs	r3, #0
 6778 00b6 E362     		str	r3, [r4, #44]
1613:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6779              		.loc 1 1613 7 is_stmt 1 view .LVU2492
1613:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6780              		.loc 1 1613 10 is_stmt 0 view .LVU2493
 6781 00b8 15F0300F 		tst	r5, #48
 6782 00bc 13D1     		bne	.L426
 6783              	.L411:
1621:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6784              		.loc 1 1621 7 is_stmt 1 view .LVU2494
1621:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6785              		.loc 1 1621 10 is_stmt 0 view .LVU2495
 6786 00be 15F0030F 		tst	r5, #3
 6787 00c2 D5D0     		beq	.L403
1626:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6788              		.loc 1 1626 9 is_stmt 1 view .LVU2496
 6789 00c4 2046     		mov	r0, r4
 6790 00c6 FFF7FEFF 		bl	HAL_SD_RxCpltCallback
 6791              	.LVL526:
 6792 00ca D1E7     		b	.L403
 6793              	.LVL527:
 6794              	.L425:
1599:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 6795              		.loc 1 1599 9 view .LVU2497
1599:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 6796              		.loc 1 1599 22 is_stmt 0 view .LVU2498
 6797 00cc 2068     		ldr	r0, [r4]
 6798              	.LVL528:
1599:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 6799              		.loc 1 1599 22 view .LVU2499
 6800 00ce FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6801              	.LVL529:
1600:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6802              		.loc 1 1600 9 is_stmt 1 view .LVU2500
1600:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6803              		.loc 1 1600 12 is_stmt 0 view .LVU2501
 6804 00d2 0346     		mov	r3, r0
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 234


 6805 00d4 0028     		cmp	r0, #0
 6806 00d6 EAD0     		beq	.L410
1602:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6807              		.loc 1 1602 11 is_stmt 1 view .LVU2502
1602:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6808              		.loc 1 1602 14 is_stmt 0 view .LVU2503
 6809 00d8 626B     		ldr	r2, [r4, #52]
1602:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6810              		.loc 1 1602 26 view .LVU2504
 6811 00da 1343     		orrs	r3, r3, r2
 6812 00dc 6363     		str	r3, [r4, #52]
1606:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6813              		.loc 1 1606 11 is_stmt 1 view .LVU2505
 6814 00de 2046     		mov	r0, r4
 6815              	.LVL530:
1606:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6816              		.loc 1 1606 11 is_stmt 0 view .LVU2506
 6817 00e0 FFF7FEFF 		bl	HAL_SD_ErrorCallback
 6818              	.LVL531:
 6819 00e4 E3E7     		b	.L410
 6820              	.LVL532:
 6821              	.L426:
1618:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6822              		.loc 1 1618 9 is_stmt 1 view .LVU2507
 6823 00e6 2046     		mov	r0, r4
 6824 00e8 FFF7FEFF 		bl	HAL_SD_TxCpltCallback
 6825              	.LVL533:
 6826 00ec E7E7     		b	.L411
 6827              	.LVL534:
 6828              	.L406:
1636:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6829              		.loc 1 1636 8 view .LVU2508
1636:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6830              		.loc 1 1636 13 is_stmt 0 view .LVU2509
 6831 00ee 5A6B     		ldr	r2, [r3, #52]
1636:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6832              		.loc 1 1636 11 view .LVU2510
 6833 00f0 12F4804F 		tst	r2, #16384
 6834 00f4 02D0     		beq	.L412
1636:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6835              		.loc 1 1636 67 discriminator 1 view .LVU2511
 6836 00f6 15F0080F 		tst	r5, #8
 6837 00fa 62D1     		bne	.L427
 6838              	.L412:
1641:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_TXUNDERR) != RESET)
 6839              		.loc 1 1641 8 is_stmt 1 view .LVU2512
1641:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_TXUNDERR) != RESET)
 6840              		.loc 1 1641 12 is_stmt 0 view .LVU2513
 6841 00fc 5A6B     		ldr	r2, [r3, #52]
1641:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_TXUNDERR) != RESET)
 6842              		.loc 1 1641 11 view .LVU2514
 6843 00fe 12F03A0F 		tst	r2, #58
 6844 0102 6BD0     		beq	.L413
1645:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6845              		.loc 1 1645 5 is_stmt 1 view .LVU2515
1645:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6846              		.loc 1 1645 9 is_stmt 0 view .LVU2516
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 235


 6847 0104 5A6B     		ldr	r2, [r3, #52]
1645:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6848              		.loc 1 1645 8 view .LVU2517
 6849 0106 12F0020F 		tst	r2, #2
 6850 010a 03D0     		beq	.L414
1647:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6851              		.loc 1 1647 7 is_stmt 1 view .LVU2518
1647:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6852              		.loc 1 1647 10 is_stmt 0 view .LVU2519
 6853 010c 626B     		ldr	r2, [r4, #52]
1647:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6854              		.loc 1 1647 22 view .LVU2520
 6855 010e 42F00202 		orr	r2, r2, #2
 6856 0112 6263     		str	r2, [r4, #52]
 6857              	.L414:
1649:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6858              		.loc 1 1649 5 is_stmt 1 view .LVU2521
1649:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6859              		.loc 1 1649 9 is_stmt 0 view .LVU2522
 6860 0114 5A6B     		ldr	r2, [r3, #52]
1649:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6861              		.loc 1 1649 8 view .LVU2523
 6862 0116 12F0080F 		tst	r2, #8
 6863 011a 03D0     		beq	.L415
1651:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6864              		.loc 1 1651 7 is_stmt 1 view .LVU2524
1651:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6865              		.loc 1 1651 10 is_stmt 0 view .LVU2525
 6866 011c 626B     		ldr	r2, [r4, #52]
1651:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6867              		.loc 1 1651 22 view .LVU2526
 6868 011e 42F00802 		orr	r2, r2, #8
 6869 0122 6263     		str	r2, [r4, #52]
 6870              	.L415:
1653:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6871              		.loc 1 1653 5 is_stmt 1 view .LVU2527
1653:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6872              		.loc 1 1653 9 is_stmt 0 view .LVU2528
 6873 0124 5A6B     		ldr	r2, [r3, #52]
1653:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6874              		.loc 1 1653 8 view .LVU2529
 6875 0126 12F0200F 		tst	r2, #32
 6876 012a 03D0     		beq	.L416
1655:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6877              		.loc 1 1655 7 is_stmt 1 view .LVU2530
1655:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6878              		.loc 1 1655 10 is_stmt 0 view .LVU2531
 6879 012c 626B     		ldr	r2, [r4, #52]
1655:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6880              		.loc 1 1655 22 view .LVU2532
 6881 012e 42F02002 		orr	r2, r2, #32
 6882 0132 6263     		str	r2, [r4, #52]
 6883              	.L416:
1657:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6884              		.loc 1 1657 5 is_stmt 1 view .LVU2533
1657:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6885              		.loc 1 1657 9 is_stmt 0 view .LVU2534
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 236


 6886 0134 5A6B     		ldr	r2, [r3, #52]
1657:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6887              		.loc 1 1657 8 view .LVU2535
 6888 0136 12F0100F 		tst	r2, #16
 6889 013a 03D0     		beq	.L417
1659:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6890              		.loc 1 1659 7 is_stmt 1 view .LVU2536
1659:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6891              		.loc 1 1659 10 is_stmt 0 view .LVU2537
 6892 013c 626B     		ldr	r2, [r4, #52]
1659:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6893              		.loc 1 1659 22 view .LVU2538
 6894 013e 42F01002 		orr	r2, r2, #16
 6895 0142 6263     		str	r2, [r4, #52]
 6896              	.L417:
1663:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6897              		.loc 1 1663 5 is_stmt 1 view .LVU2539
 6898 0144 384A     		ldr	r2, .L429+4
 6899 0146 9A63     		str	r2, [r3, #56]
1666:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR);
 6900              		.loc 1 1666 5 view .LVU2540
 6901 0148 2268     		ldr	r2, [r4]
 6902 014a D36B     		ldr	r3, [r2, #60]
 6903 014c 23F49D73 		bic	r3, r3, #314
 6904 0150 D363     		str	r3, [r2, #60]
1669:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL |= SDMMC_DCTRL_FIFORST;
 6905              		.loc 1 1669 5 view .LVU2541
 6906 0152 2268     		ldr	r2, [r4]
 6907 0154 D368     		ldr	r3, [r2, #12]
 6908 0156 23F04003 		bic	r3, r3, #64
 6909 015a D360     		str	r3, [r2, #12]
1670:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD |= SDMMC_CMD_CMDSTOP;
 6910              		.loc 1 1670 5 view .LVU2542
1670:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD |= SDMMC_CMD_CMDSTOP;
 6911              		.loc 1 1670 8 is_stmt 0 view .LVU2543
 6912 015c 2268     		ldr	r2, [r4]
1670:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD |= SDMMC_CMD_CMDSTOP;
 6913              		.loc 1 1670 18 view .LVU2544
 6914 015e D36A     		ldr	r3, [r2, #44]
1670:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD |= SDMMC_CMD_CMDSTOP;
 6915              		.loc 1 1670 26 view .LVU2545
 6916 0160 43F40053 		orr	r3, r3, #8192
 6917 0164 D362     		str	r3, [r2, #44]
1671:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
 6918              		.loc 1 1671 5 is_stmt 1 view .LVU2546
1671:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
 6919              		.loc 1 1671 8 is_stmt 0 view .LVU2547
 6920 0166 2268     		ldr	r2, [r4]
1671:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
 6921              		.loc 1 1671 18 view .LVU2548
 6922 0168 D368     		ldr	r3, [r2, #12]
1671:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
 6923              		.loc 1 1671 24 view .LVU2549
 6924 016a 43F08003 		orr	r3, r3, #128
 6925 016e D360     		str	r3, [r2, #12]
1672:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD &= ~(SDMMC_CMD_CMDSTOP);
 6926              		.loc 1 1672 5 is_stmt 1 view .LVU2550
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 237


1672:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD &= ~(SDMMC_CMD_CMDSTOP);
 6927              		.loc 1 1672 23 is_stmt 0 view .LVU2551
 6928 0170 2068     		ldr	r0, [r4]
 6929              	.LVL535:
1672:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD &= ~(SDMMC_CMD_CMDSTOP);
 6930              		.loc 1 1672 23 view .LVU2552
 6931 0172 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6932              	.LVL536:
1672:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD &= ~(SDMMC_CMD_CMDSTOP);
 6933              		.loc 1 1672 8 discriminator 1 view .LVU2553
 6934 0176 636B     		ldr	r3, [r4, #52]
1672:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD &= ~(SDMMC_CMD_CMDSTOP);
 6935              		.loc 1 1672 20 discriminator 1 view .LVU2554
 6936 0178 0343     		orrs	r3, r3, r0
 6937 017a 6363     		str	r3, [r4, #52]
1673:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DABORT);
 6938              		.loc 1 1673 5 is_stmt 1 view .LVU2555
1673:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DABORT);
 6939              		.loc 1 1673 8 is_stmt 0 view .LVU2556
 6940 017c 2268     		ldr	r2, [r4]
1673:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DABORT);
 6941              		.loc 1 1673 18 view .LVU2557
 6942 017e D368     		ldr	r3, [r2, #12]
1673:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DABORT);
 6943              		.loc 1 1673 24 view .LVU2558
 6944 0180 23F08003 		bic	r3, r3, #128
 6945 0184 D360     		str	r3, [r2, #12]
1674:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6946              		.loc 1 1674 5 is_stmt 1 view .LVU2559
 6947 0186 2368     		ldr	r3, [r4]
 6948 0188 4FF40062 		mov	r2, #2048
 6949 018c 9A63     		str	r2, [r3, #56]
1676:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6950              		.loc 1 1676 5 view .LVU2560
1676:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6951              		.loc 1 1676 8 is_stmt 0 view .LVU2561
 6952 018e 15F0080F 		tst	r5, #8
 6953 0192 1AD1     		bne	.L428
1687:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6954              		.loc 1 1687 10 is_stmt 1 view .LVU2562
1687:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6955              		.loc 1 1687 13 is_stmt 0 view .LVU2563
 6956 0194 15F0800F 		tst	r5, #128
 6957 0198 3FF46AAF 		beq	.L403
1689:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6958              		.loc 1 1689 7 is_stmt 1 view .LVU2564
1689:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6959              		.loc 1 1689 14 is_stmt 0 view .LVU2565
 6960 019c 636B     		ldr	r3, [r4, #52]
1689:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6961              		.loc 1 1689 10 view .LVU2566
 6962 019e 002B     		cmp	r3, #0
 6963 01a0 3FF466AF 		beq	.L403
1692:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
 6964              		.loc 1 1692 9 is_stmt 1 view .LVU2567
 6965 01a4 2268     		ldr	r2, [r4]
 6966 01a6 D36B     		ldr	r3, [r2, #60]
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 238


 6967 01a8 23F08053 		bic	r3, r3, #268435456
 6968 01ac D363     		str	r3, [r2, #60]
1693:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6969              		.loc 1 1693 9 view .LVU2568
1693:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6970              		.loc 1 1693 12 is_stmt 0 view .LVU2569
 6971 01ae 2368     		ldr	r3, [r4]
1693:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6972              		.loc 1 1693 33 view .LVU2570
 6973 01b0 0022     		movs	r2, #0
 6974 01b2 1A65     		str	r2, [r3, #80]
1696:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6975              		.loc 1 1696 9 is_stmt 1 view .LVU2571
1696:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6976              		.loc 1 1696 20 is_stmt 0 view .LVU2572
 6977 01b4 0123     		movs	r3, #1
 6978 01b6 84F83030 		strb	r3, [r4, #48]
1700:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6979              		.loc 1 1700 9 is_stmt 1 view .LVU2573
 6980 01ba 2046     		mov	r0, r4
 6981 01bc FFF7FEFF 		bl	HAL_SD_ErrorCallback
 6982              	.LVL537:
 6983 01c0 56E7     		b	.L403
 6984              	.LVL538:
 6985              	.L427:
1638:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6986              		.loc 1 1638 5 view .LVU2574
 6987 01c2 2046     		mov	r0, r4
 6988              	.LVL539:
1638:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6989              		.loc 1 1638 5 is_stmt 0 view .LVU2575
 6990 01c4 FFF7FEFF 		bl	SD_Write_IT
 6991              	.LVL540:
 6992 01c8 52E7     		b	.L403
 6993              	.L428:
1679:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6994              		.loc 1 1679 7 is_stmt 1 view .LVU2576
1679:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6995              		.loc 1 1679 18 is_stmt 0 view .LVU2577
 6996 01ca 0123     		movs	r3, #1
 6997 01cc 84F83030 		strb	r3, [r4, #48]
1680:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6998              		.loc 1 1680 7 is_stmt 1 view .LVU2578
1680:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6999              		.loc 1 1680 20 is_stmt 0 view .LVU2579
 7000 01d0 0023     		movs	r3, #0
 7001 01d2 E362     		str	r3, [r4, #44]
1684:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 7002              		.loc 1 1684 7 is_stmt 1 view .LVU2580
 7003 01d4 2046     		mov	r0, r4
 7004 01d6 FFF7FEFF 		bl	HAL_SD_ErrorCallback
 7005              	.LVL541:
 7006 01da 49E7     		b	.L403
 7007              	.LVL542:
 7008              	.L413:
1710:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 7009              		.loc 1 1710 8 view .LVU2581
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 239


1710:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 7010              		.loc 1 1710 12 is_stmt 0 view .LVU2582
 7011 01dc 5A6B     		ldr	r2, [r3, #52]
1710:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 7012              		.loc 1 1710 11 view .LVU2583
 7013 01de 12F0805F 		tst	r2, #268435456
 7014 01e2 3FF445AF 		beq	.L403
1712:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (READ_BIT(hsd->Instance->IDMACTRL, SDMMC_IDMA_IDMABACT) == 0U)
 7015              		.loc 1 1712 5 is_stmt 1 view .LVU2584
 7016 01e6 4FF08052 		mov	r2, #268435456
 7017 01ea 9A63     		str	r2, [r3, #56]
1713:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 7018              		.loc 1 1713 5 view .LVU2585
1713:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 7019              		.loc 1 1713 9 is_stmt 0 view .LVU2586
 7020 01ec 2368     		ldr	r3, [r4]
 7021 01ee 1B6D     		ldr	r3, [r3, #80]
1713:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 7022              		.loc 1 1713 8 view .LVU2587
 7023 01f0 13F0040F 		tst	r3, #4
 7024 01f4 0AD1     		bne	.L419
1716:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 7025              		.loc 1 1716 7 is_stmt 1 view .LVU2588
1716:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 7026              		.loc 1 1716 10 is_stmt 0 view .LVU2589
 7027 01f6 15F0200F 		tst	r5, #32
 7028 01fa 03D0     		beq	.L420
1721:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 7029              		.loc 1 1721 9 is_stmt 1 view .LVU2590
 7030 01fc 2046     		mov	r0, r4
 7031              	.LVL543:
1721:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 7032              		.loc 1 1721 9 is_stmt 0 view .LVU2591
 7033 01fe FFF7FEFF 		bl	HAL_SDEx_Write_DMADoubleBuf1CpltCallback
 7034              	.LVL544:
 7035 0202 35E7     		b	.L403
 7036              	.LVL545:
 7037              	.L420:
1729:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 7038              		.loc 1 1729 9 is_stmt 1 view .LVU2592
 7039 0204 2046     		mov	r0, r4
 7040              	.LVL546:
1729:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 7041              		.loc 1 1729 9 is_stmt 0 view .LVU2593
 7042 0206 FFF7FEFF 		bl	HAL_SDEx_Read_DMADoubleBuf1CpltCallback
 7043              	.LVL547:
 7044 020a 31E7     		b	.L403
 7045              	.LVL548:
 7046              	.L419:
1736:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 7047              		.loc 1 1736 7 is_stmt 1 view .LVU2594
1736:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 7048              		.loc 1 1736 10 is_stmt 0 view .LVU2595
 7049 020c 15F0200F 		tst	r5, #32
 7050 0210 03D0     		beq	.L421
1741:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 7051              		.loc 1 1741 9 is_stmt 1 view .LVU2596
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 240


 7052 0212 2046     		mov	r0, r4
 7053              	.LVL549:
1741:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 7054              		.loc 1 1741 9 is_stmt 0 view .LVU2597
 7055 0214 FFF7FEFF 		bl	HAL_SDEx_Write_DMADoubleBuf0CpltCallback
 7056              	.LVL550:
 7057 0218 2AE7     		b	.L403
 7058              	.LVL551:
 7059              	.L421:
1749:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 7060              		.loc 1 1749 9 is_stmt 1 view .LVU2598
 7061 021a 2046     		mov	r0, r4
 7062              	.LVL552:
1749:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 7063              		.loc 1 1749 9 is_stmt 0 view .LVU2599
 7064 021c FFF7FEFF 		bl	HAL_SDEx_Read_DMADoubleBuf0CpltCallback
 7065              	.LVL553:
1757:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 7066              		.loc 1 1757 3 is_stmt 1 view .LVU2600
1758:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 7067              		.loc 1 1758 1 is_stmt 0 view .LVU2601
 7068 0220 26E7     		b	.L403
 7069              	.L430:
 7070 0222 00BF     		.align	2
 7071              	.L429:
 7072 0224 C53EFFFF 		.word	-49467
 7073 0228 3A0F0018 		.word	402657082
 7074              		.cfi_endproc
 7075              	.LFE156:
 7077              		.text
 7078              	.Letext0:
 7079              		.file 2 "/Applications/ArmGNUToolchain/13.3.rel1/arm-none-eabi/arm-none-eabi/include/machine/_defa
 7080              		.file 3 "/Applications/ArmGNUToolchain/13.3.rel1/arm-none-eabi/arm-none-eabi/include/sys/_stdint.h
 7081              		.file 4 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/stm32h750xx.h"
 7082              		.file 5 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/stm32h7xx.h"
 7083              		.file 6 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 7084              		.file 7 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_ll_sdmmc.h"
 7085              		.file 8 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_sd.h"
 7086              		.file 9 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_rcc_ex.h"
 7087              		.file 10 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
 7088              		.file 11 "<built-in>"
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 241


DEFINED SYMBOLS
                            *ABS*:00000000 stm32h7xx_hal_sd.c
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:20     .text.SD_PowerON:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:25     .text.SD_PowerON:00000000 SD_PowerON
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:246    .text.SD_PowerON:000000c0 $d
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:251    .text.SD_PowerOFF:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:256    .text.SD_PowerOFF:00000000 SD_PowerOFF
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:282    .text.SD_Read_IT:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:287    .text.SD_Read_IT:00000000 SD_Read_IT
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:384    .text.SD_Write_IT:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:389    .text.SD_Write_IT:00000000 SD_Write_IT
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:501    .text.SD_SendSDStatus:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:506    .text.SD_SendSDStatus:00000000 SD_SendSDStatus
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:772    .text.SD_SendSDStatus:00000104 $d
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:777    .text.SD_FindSCR:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:782    .text.SD_FindSCR:00000000 SD_FindSCR
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:1051   .text.SD_FindSCR:00000104 $d
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:1056   .text.SD_WideBus_Enable:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:1061   .text.SD_WideBus_Enable:00000000 SD_WideBus_Enable
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:1156   .text.SD_WideBus_Disable:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:1161   .text.SD_WideBus_Disable:00000000 SD_WideBus_Disable
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:1256   .text.SD_SwitchSpeed:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:1261   .text.SD_SwitchSpeed:00000000 SD_SwitchSpeed
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:1534   .text.SD_SwitchSpeed:00000110 $d
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:1539   .text.SD_SendStatus:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:1544   .text.SD_SendStatus:00000000 SD_SendStatus
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:1609   .text.HAL_SD_MspInit:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:1615   .text.HAL_SD_MspInit:00000000 HAL_SD_MspInit
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:1630   .text.HAL_SD_MspDeInit:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:1636   .text.HAL_SD_MspDeInit:00000000 HAL_SD_MspDeInit
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:1651   .text.HAL_SD_DeInit:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:1657   .text.HAL_SD_DeInit:00000000 HAL_SD_DeInit
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:1711   .text.HAL_SD_ReadBlocks:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:1717   .text.HAL_SD_ReadBlocks:00000000 HAL_SD_ReadBlocks
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:2197   .text.HAL_SD_ReadBlocks:000001fc $d
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:2203   .text.HAL_SD_WriteBlocks:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:2209   .text.HAL_SD_WriteBlocks:00000000 HAL_SD_WriteBlocks
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:2703   .text.HAL_SD_WriteBlocks:0000020c $d
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:2709   .text.HAL_SD_ReadBlocks_IT:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:2715   .text.HAL_SD_ReadBlocks_IT:00000000 HAL_SD_ReadBlocks_IT
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:2940   .text.HAL_SD_ReadBlocks_IT:000000d0 $d
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:2945   .text.HAL_SD_WriteBlocks_IT:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:2951   .text.HAL_SD_WriteBlocks_IT:00000000 HAL_SD_WriteBlocks_IT
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:3175   .text.HAL_SD_WriteBlocks_IT:000000cc $d
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:3180   .text.HAL_SD_ReadBlocks_DMA:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:3186   .text.HAL_SD_ReadBlocks_DMA:00000000 HAL_SD_ReadBlocks_DMA
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:3422   .text.HAL_SD_ReadBlocks_DMA:000000dc $d
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:3427   .text.HAL_SD_WriteBlocks_DMA:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:3433   .text.HAL_SD_WriteBlocks_DMA:00000000 HAL_SD_WriteBlocks_DMA
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:3668   .text.HAL_SD_WriteBlocks_DMA:000000dc $d
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:3673   .text.HAL_SD_Erase:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:3679   .text.HAL_SD_Erase:00000000 HAL_SD_Erase
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:3932   .text.HAL_SD_Erase:000000f4 $d
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:3937   .text.HAL_SD_GetState:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:3943   .text.HAL_SD_GetState:00000000 HAL_SD_GetState
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:3961   .text.HAL_SD_GetError:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:3967   .text.HAL_SD_GetError:00000000 HAL_SD_GetError
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 242


/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:3985   .text.HAL_SD_TxCpltCallback:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:3991   .text.HAL_SD_TxCpltCallback:00000000 HAL_SD_TxCpltCallback
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:4006   .text.HAL_SD_RxCpltCallback:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:4012   .text.HAL_SD_RxCpltCallback:00000000 HAL_SD_RxCpltCallback
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:4027   .text.HAL_SD_ErrorCallback:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:4033   .text.HAL_SD_ErrorCallback:00000000 HAL_SD_ErrorCallback
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:4048   .text.HAL_SD_AbortCallback:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:4054   .text.HAL_SD_AbortCallback:00000000 HAL_SD_AbortCallback
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:4069   .text.HAL_SD_GetCardCID:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:4075   .text.HAL_SD_GetCardCID:00000000 HAL_SD_GetCardCID
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:4160   .text.HAL_SD_GetCardCSD:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:4166   .text.HAL_SD_GetCardCSD:00000000 HAL_SD_GetCardCSD
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:4540   .text.HAL_SD_GetCardCSD:000001b4 $d
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:4545   .text.SD_InitCard:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:4550   .text.SD_InitCard:00000000 SD_InitCard
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:4791   .text.HAL_SD_InitCard:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:4797   .text.HAL_SD_InitCard:00000000 HAL_SD_InitCard
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:5015   .text.HAL_SD_InitCard:000000c4 $d
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:5023   .text.HAL_SD_GetCardStatus:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:5029   .text.HAL_SD_GetCardStatus:00000000 HAL_SD_GetCardStatus
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:5232   .text.HAL_SD_GetCardStatus:000000cc $d
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:5237   .text.HAL_SD_GetCardInfo:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:5243   .text.HAL_SD_GetCardInfo:00000000 HAL_SD_GetCardInfo
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:5301   .text.HAL_SD_ConfigWideBusOperation:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:5307   .text.HAL_SD_ConfigWideBusOperation:00000000 HAL_SD_ConfigWideBusOperation
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:5646   .text.HAL_SD_ConfigWideBusOperation:00000148 $d
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:5654   .text.HAL_SD_GetCardState:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:5660   .text.HAL_SD_GetCardState:00000000 HAL_SD_GetCardState
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:5718   .text.HAL_SD_Init:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:5724   .text.HAL_SD_Init:00000000 HAL_SD_Init
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:5934   .text.HAL_SD_ConfigSpeedBusOperation:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:5940   .text.HAL_SD_ConfigSpeedBusOperation:00000000 HAL_SD_ConfigSpeedBusOperation
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:6195   .text.HAL_SD_ConfigSpeedBusOperation:000000f8 $d
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:6202   .text.HAL_SD_Abort:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:6208   .text.HAL_SD_Abort:00000000 HAL_SD_Abort
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:6425   .text.HAL_SD_Abort:000000ec $d
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:6431   .text.HAL_SD_Abort_IT:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:6437   .text.HAL_SD_Abort_IT:00000000 HAL_SD_Abort_IT
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:6518   .text.HAL_SD_Abort_IT:00000048 $d
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:6523   .text.HAL_SDEx_Read_DMADoubleBuf0CpltCallback:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:6529   .text.HAL_SDEx_Read_DMADoubleBuf0CpltCallback:00000000 HAL_SDEx_Read_DMADoubleBuf0CpltCallback
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:6544   .text.HAL_SDEx_Read_DMADoubleBuf1CpltCallback:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:6550   .text.HAL_SDEx_Read_DMADoubleBuf1CpltCallback:00000000 HAL_SDEx_Read_DMADoubleBuf1CpltCallback
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:6565   .text.HAL_SDEx_Write_DMADoubleBuf0CpltCallback:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:6571   .text.HAL_SDEx_Write_DMADoubleBuf0CpltCallback:00000000 HAL_SDEx_Write_DMADoubleBuf0CpltCallback
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:6586   .text.HAL_SDEx_Write_DMADoubleBuf1CpltCallback:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:6592   .text.HAL_SDEx_Write_DMADoubleBuf1CpltCallback:00000000 HAL_SDEx_Write_DMADoubleBuf1CpltCallback
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:6607   .text.HAL_SD_IRQHandler:00000000 $t
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:6613   .text.HAL_SD_IRQHandler:00000000 HAL_SD_IRQHandler
/var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s:7072   .text.HAL_SD_IRQHandler:00000224 $d

UNDEFINED SYMBOLS
SDMMC_CmdGoIdleState
SDMMC_CmdOperCond
SDMMC_CmdAppCommand
SDMMC_CmdAppOperCommand
SDMMC_GetResponse
ARM GAS  /var/folders/mq/wg13gp494590nh4zyt09lxf00000gn/T//ccJH0YWi.s 			page 243


SDMMC_PowerState_OFF
SDMMC_ReadFIFO
SDMMC_WriteFIFO
HAL_GetTick
SDMMC_CmdBlockLength
SDMMC_ConfigData
SDMMC_CmdStatusRegister
SDMMC_CmdSendSCR
SDMMC_CmdBusWidth
memset
SDMMC_CmdSwitch
SDMMC_CmdSendStatus
SDMMC_CmdReadMultiBlock
SDMMC_CmdReadSingleBlock
SDMMC_CmdStopTransfer
SDMMC_CmdWriteMultiBlock
SDMMC_CmdWriteSingleBlock
SDMMC_CmdSDEraseStartAdd
SDMMC_CmdSDEraseEndAdd
SDMMC_CmdErase
SDMMC_GetPowerState
SDMMC_CmdSetRelAdd
SDMMC_CmdSendCID
SDMMC_CmdSendCSD
SDMMC_CmdSelDesel
HAL_RCCEx_GetPeriphCLKFreq
SDMMC_Init
SDMMC_PowerState_ON
HAL_Delay
